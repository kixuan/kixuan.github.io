<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Pythonçˆ¬è™«-1.å¼€å‘ç¯å¢ƒé…ç½®ã€å®Œå–„ä¸­...ã€‘</title>
      <link href="/2023/06/10/1-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/"/>
      <url>/2023/06/10/1-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<h1 id="å¼€å‘ç¯å¢ƒé…ç½®"><a href="#å¼€å‘ç¯å¢ƒé…ç½®" class="headerlink" title="å¼€å‘ç¯å¢ƒé…ç½®"></a>å¼€å‘ç¯å¢ƒé…ç½®</h1><blockquote><p>ç¬¬ä¸€æ¬¡è£…åˆ°tesserocrå°±ç´¯äº†â•¯ï¸¿â•°ï¼Œä¸€å¼€å§‹æ ¹æœ¬ä¸éœ€è¦ç”¨è£…è¿™ä¹ˆå¤š  â€“2023.6.10  13:58:2</p></blockquote><h2 id="è¯·æ±‚åº“çš„å®‰è£…"><a href="#è¯·æ±‚åº“çš„å®‰è£…" class="headerlink" title="è¯·æ±‚åº“çš„å®‰è£…"></a>è¯·æ±‚åº“çš„å®‰è£…</h2><h3 id="requestså®‰è£…"><a href="#requestså®‰è£…" class="headerlink" title="requestså®‰è£…"></a>requestså®‰è£…</h3><ul><li><code>pip3 install requests</code></li><li>ç”¨äºå‘é€ HTTP è¯·æ±‚å’Œå¤„ç†å“åº”</li><li>å¯ä»¥æ–¹ä¾¿åœ°è¿›è¡Œ GETã€POST ç­‰è¯·æ±‚ï¼Œè®¾ç½®è¯·æ±‚å¤´ã€è¯·æ±‚å‚æ•°ã€å¤„ç†å“åº”ç»“æœç­‰æ“ä½œã€‚</li><li>éªŒè¯å®‰è£…ï¼šè¿›å…¥python è¾“å…¥<code>import requests</code>ï¼Œå¦‚æ— é”™è¯¯æç¤ºå³æˆåŠŸ</li></ul><h3 id="seleniumå®‰è£…"><a href="#seleniumå®‰è£…" class="headerlink" title="seleniumå®‰è£…"></a>seleniumå®‰è£…</h3><ul><li><code>pip3 install selenium</code></li><li>æ¨¡æ‹Ÿç”¨æˆ·åœ¨æµè§ˆå™¨ä¸­çš„æ“ä½œ,åŒ…æ‹¬ç‚¹å‡»ã€è¾“å…¥ã€æäº¤è¡¨å•ç­‰</li><li>å¯ä»¥é©±åŠ¨çœŸå®çš„æµè§ˆå™¨ï¼ˆå¦‚ Chromeã€Firefoxï¼‰æ¥åŠ è½½åŠ¨æ€ç”Ÿæˆçš„ç½‘é¡µå†…å®¹ï¼Œå¹¶æå–æˆ–äº¤äº’å…¶ä¸­çš„æ•°æ®ã€‚é€šå¸¸ä¸æµè§ˆå™¨é©±åŠ¨é…åˆä½¿ç”¨ï¼Œå¦‚ ChromeDriver å’Œ GeckoDriverã€‚</li><li>éªŒè¯å®‰è£…ï¼šåŒä¸Š</li></ul><h3 id="ChromeDriver-å®‰è£…"><a href="#ChromeDriver-å®‰è£…" class="headerlink" title="ChromeDriver å®‰è£…"></a>ChromeDriver å®‰è£…</h3><ul><li><p>æµè§ˆå™¨é©±åŠ¨,ç”¨äºæ§åˆ¶ Chrome  æµè§ˆå™¨çš„è¡Œä¸º</p></li><li><p>ä½œç”¨ï¼šè®© <code>selenium</code> å¯ä»¥æ§åˆ¶å’Œä¸æŒ‡å®šçš„æµè§ˆå™¨è¿›è¡Œäº¤äº’</p></li><li><p><a href="https://sites.google.com/a/chromium.org/chromedriver">https://sites.google.com/a/chromium.org/chromedriver</a>  â€“exeæ–‡ä»¶æ”¾å…¥ç¯å¢ƒå˜é‡é…ç½®</p></li><li><p>GeckoDriver å®‰è£…  â€“é€‚ç”¨äº Firefox</p></li><li><p>éªŒè¯å®‰è£…ï¼š</p><ul><li><p>ç¯å¢ƒå˜é‡ï¼šç»ˆç«¯è¾“å…¥<code>chromedriver</code></p></li><li><p>ä½¿ç”¨ï¼š  æ‰“å¼€æµè§ˆå™¨</p><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line">browser = webdriver.Chrome()</span><br></pre></td></tr></tbody></table></figure></li><li><p>å‡ºç°é—ªé€€è®¡ç‰ˆæœ¬å‡ºç°é—®é¢˜ã€ä½†æ˜¯æˆ‘åœ¨å…¶ä»–ä»£ç ä¸Šç”¨åˆä¸ä¼šé—ªé€€ğŸ¤”â€“å¾…è§£å†³ã€‘</p></li></ul></li></ul><h3 id="PhantomJSå®‰è£…-ã€ä¸ç»´æŠ¤äº†ã€‘"><a href="#PhantomJSå®‰è£…-ã€ä¸ç»´æŠ¤äº†ã€‘" class="headerlink" title="PhantomJSå®‰è£…  ã€ä¸ç»´æŠ¤äº†ã€‘"></a>PhantomJSå®‰è£…  ã€ä¸ç»´æŠ¤äº†ã€‘</h3><ul><li><p>æ— ç•Œé¢çš„æµè§ˆå™¨</p></li><li><p>åœ¨åå°æ‰§è¡Œç½‘é¡µåŠ è½½å’Œæ“ä½œï¼Œæ— éœ€æ˜¾ç¤ºæµè§ˆå™¨ç•Œé¢</p></li><li><p><a href="http://phantomjs.org/download.html">http://phantomjs.org/download.html</a>  â€“æ”¾å…¥ç¯å¢ƒå˜é‡é…ç½®</p></li><li><p>éªŒè¯å®‰è£…</p><ul><li><p>ç¯å¢ƒå˜é‡ï¼šç»ˆç«¯è¾“å…¥<code>phantomjs</code></p></li><li><p>ä½¿ç”¨</p><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line">browser = webdriver.PhantomJS()</span><br><span class="line">browser.get(<span class="string">'https://www.baidu.com'</span>)</span><br><span class="line"><span class="built_in">print</span>(browser.current_url)</span><br></pre></td></tr></tbody></table></figure></li><li><p>æŠ¥é”™æ˜¾ç¤º<code>module 'selenium.webdriver' has no attribute 'PhantomJS'</code>    â€“ç”±äºç»´æŠ¤å›°éš¾å’Œæ€§èƒ½é—®é¢˜ï¼ŒSelenium ç¤¾åŒºå†³å®šä¸å†æ”¯æŒ PhantomJS é©±åŠ¨ã€‚</p></li><li><p>æ¨èä½¿ç”¨æ— å¤´æµè§ˆå™¨ï¼ˆå¦‚ Chrome æˆ– Firefoxï¼‰çš„ Headless æ¨¡å¼æ›¿ä»£ã€‚</p><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.chrome.options <span class="keyword">import</span> Options</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»º ChromeOptions å¯¹è±¡ï¼Œå¹¶è®¾ç½®æ— ç•Œé¢æ¨¡å¼</span></span><br><span class="line">chrome_options = Options()</span><br><span class="line">chrome_options.add_argument(<span class="string">'--headless'</span>)  <span class="comment"># å¯ç”¨æ— ç•Œé¢æ¨¡å¼</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»º Chrome WebDriverï¼Œå°† ChromeOptions ä½œä¸ºå‚æ•°ä¼ é€’</span></span><br><span class="line">browser = webdriver.Chrome(options=chrome_options)</span><br><span class="line"></span><br><span class="line">browser.get(<span class="string">'https://www.baidu.com'</span>)</span><br><span class="line"><span class="built_in">print</span>(browser.current_url)</span><br><span class="line"></span><br><span class="line">browser.quit()  <span class="comment"># å…³é—­æµè§ˆå™¨</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure></li></ul></li></ul><h3 id="aiohttpçš„å®‰è£…"><a href="#aiohttpçš„å®‰è£…" class="headerlink" title="aiohttpçš„å®‰è£…"></a>aiohttpçš„å®‰è£…</h3><ul><li><code>pip3 install aiohttp</code>   +   <code>pip3 install cchardet aiodns</code><ul><li>å­—ç¬¦ç¼–ç æ£€æµ‹åº“ cchardet</li><li>åŠ é€Ÿ DNS çš„è§£æåº“ aiodns</li></ul></li><li>åŸºäºå¼‚æ­¥è¯·æ±‚çš„ HTTP å®¢æˆ·ç«¯/æœåŠ¡å™¨æ¡†æ¶ï¼Œé€‚ç”¨äºé«˜æ€§èƒ½ã€é«˜å¹¶å‘çš„ç½‘ç»œè¯·æ±‚åœºæ™¯</li><li>åœ¨å¤„ç†å¤§è§„æ¨¡å¼‚æ­¥è¯·æ±‚æ—¶å…·æœ‰ä¼˜åŠ¿ï¼Œå¯ä»¥åŠ å¿«ç½‘ç»œçˆ¬è™«çš„é€Ÿåº¦ã€‚</li><li>éªŒè¯å®‰è£…ï¼šè¿›å…¥pythonè¾“å…¥<code>import aiohttp</code>ï¼Œå¦‚æ— é”™è¯¯æç¤ºå³æˆåŠŸ</li></ul><h2 id="è§£æåº“çš„å®‰è£…"><a href="#è§£æåº“çš„å®‰è£…" class="headerlink" title="è§£æåº“çš„å®‰è£…"></a>è§£æåº“çš„å®‰è£…</h2><h3 id="lxml-çš„å®‰è£…"><a href="#lxml-çš„å®‰è£…" class="headerlink" title="lxml çš„å®‰è£…"></a>lxml çš„å®‰è£…</h3><ul><li><code>pip3 install lxml</code></li><li>æ”¯æŒ HTML å’Œ XML çš„è§£æï¼Œæ”¯æŒ XPath è§£ææ–¹å¼ï¼Œè€Œä¸”è§£ææ•ˆç‡éå¸¸é«˜</li><li>éªŒè¯å®‰è£…ï¼šè¿›å…¥python è¾“å…¥<code>import lxml</code>ï¼Œå¦‚æ— é”™è¯¯æç¤ºå³æˆåŠŸ</li></ul><h3 id="Beautiful-Soup-çš„å®‰è£…"><a href="#Beautiful-Soup-çš„å®‰è£…" class="headerlink" title="Beautiful Soup çš„å®‰è£…"></a>Beautiful Soup çš„å®‰è£…</h3><ul><li><p><code>pip3 install beautifulsoup4</code></p></li><li><p>HTML æˆ– XML çš„è§£æåº“ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å®ƒæ¥æ–¹ä¾¿åœ°ä»ç½‘é¡µä¸­æå–æ•°æ®ã€‚å®ƒæ‹¥æœ‰å¼ºå¤§çš„ API å’Œå¤šæ ·çš„è§£ææ–¹å¼</p></li><li><p>éªŒè¯å®‰è£…</p><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup  </span><br><span class="line">soup = BeautifulSoup(<span class="string">'&amp;lt;p&amp;gt;Hello&amp;lt;/p&amp;gt;'</span>, <span class="string">'lxml'</span>)  </span><br><span class="line"><span class="built_in">print</span>(soup.p.string)</span><br><span class="line"><span class="comment"># è¾“å‡ºhelloå³æˆåŠŸ</span></span><br></pre></td></tr></tbody></table></figure></li></ul><h3 id="pyquery-çš„å®‰è£…"><a href="#pyquery-çš„å®‰è£…" class="headerlink" title="pyquery çš„å®‰è£…"></a>pyquery çš„å®‰è£…</h3><ul><li><code>pip3 install pyquery</code></li><li>å¼ºå¤§çš„ç½‘é¡µè§£æå·¥å…·ï¼Œå®ƒæä¾›äº†å’Œ jQuery ç±»ä¼¼çš„è¯­æ³•æ¥è§£æ HTML æ–‡æ¡£ï¼Œæ”¯æŒ CSS é€‰æ‹©å™¨</li><li>éªŒè¯å®‰è£…ï¼šè¿›å…¥pythonè¾“å…¥<code>import pyquery</code>ï¼Œå¦‚æ— é”™è¯¯æç¤ºå³æˆåŠŸ</li></ul><h3 id="tesserocr-çš„å®‰è£…"><a href="#tesserocr-çš„å®‰è£…" class="headerlink" title="tesserocr çš„å®‰è£…"></a>tesserocr çš„å®‰è£…</h3><ul><li><a href="http://digi.bib.uni-mannheim.de/tesseract">http://digi.bib.uni-mannheim.de/tesseract</a> ä¸‹è½½ä¸å¸¦ dev çš„ç‰ˆæœ¬   + <code>pip3 install tesserocr pillow</code></li><li>ç”¨ OCR æ¥è¯†åˆ«å›¾å½¢éªŒè¯ç </li></ul><h2 id="æ•°æ®åº“çš„å®‰è£…"><a href="#æ•°æ®åº“çš„å®‰è£…" class="headerlink" title="æ•°æ®åº“çš„å®‰è£…"></a>æ•°æ®åº“çš„å®‰è£…</h2><h3 id="MySQL-çš„å®‰è£…"><a href="#MySQL-çš„å®‰è£…" class="headerlink" title="MySQL çš„å®‰è£…"></a>MySQL çš„å®‰è£…</h3><p><a href="https://blog.csdn.net/SoloVersion/article/details/123760428">MySQLå®‰è£…é…ç½®æ•™ç¨‹ï¼ˆè¶…çº§è¯¦ç»†ã€ä¿å§†çº§ï¼‰_mysqlå®‰è£…æ•™ç¨‹_SoloVersionçš„åšå®¢-CSDNåšå®¢</a></p><h3 id="MongoDB-çš„å®‰è£…"><a href="#MongoDB-çš„å®‰è£…" class="headerlink" title="MongoDB çš„å®‰è£…"></a>MongoDB çš„å®‰è£…</h3><h3 id="Redis-çš„å®‰è£…"><a href="#Redis-çš„å®‰è£…" class="headerlink" title="Redis çš„å®‰è£…"></a>Redis çš„å®‰è£…</h3><h2 id="å­˜å‚¨åº“çš„å®‰è£…"><a href="#å­˜å‚¨åº“çš„å®‰è£…" class="headerlink" title="å­˜å‚¨åº“çš„å®‰è£…"></a>å­˜å‚¨åº“çš„å®‰è£…</h2><h3 id="PyMySQL-çš„å®‰è£…"><a href="#PyMySQL-çš„å®‰è£…" class="headerlink" title="PyMySQL  çš„å®‰è£…"></a>PyMySQL  çš„å®‰è£…</h3><h3 id="PyMongo-çš„å®‰è£…"><a href="#PyMongo-çš„å®‰è£…" class="headerlink" title="PyMongo çš„å®‰è£…"></a>PyMongo çš„å®‰è£…</h3><h3 id="redis-py-çš„å®‰è£…"><a href="#redis-py-çš„å®‰è£…" class="headerlink" title="redis-py çš„å®‰è£…"></a>redis-py çš„å®‰è£…</h3><h3 id="RedisDump-çš„å®‰è£…"><a href="#RedisDump-çš„å®‰è£…" class="headerlink" title="RedisDump çš„å®‰è£…"></a>RedisDump çš„å®‰è£…</h3><h2 id="Web-åº“çš„å®‰è£…"><a href="#Web-åº“çš„å®‰è£…" class="headerlink" title="Web åº“çš„å®‰è£…"></a>Web åº“çš„å®‰è£…</h2><h3 id="Flask-çš„å®‰è£…"><a href="#Flask-çš„å®‰è£…" class="headerlink" title="Flask çš„å®‰è£…"></a>Flask çš„å®‰è£…</h3><h3 id="Tornado-çš„å®‰è£…"><a href="#Tornado-çš„å®‰è£…" class="headerlink" title="Tornado çš„å®‰è£…"></a>Tornado çš„å®‰è£…</h3><h2 id="App-çˆ¬å–ç›¸å…³åº“çš„å®‰è£…"><a href="#App-çˆ¬å–ç›¸å…³åº“çš„å®‰è£…" class="headerlink" title="App çˆ¬å–ç›¸å…³åº“çš„å®‰è£…"></a>App çˆ¬å–ç›¸å…³åº“çš„å®‰è£…</h2><h3 id="Charles-çš„å®‰è£…"><a href="#Charles-çš„å®‰è£…" class="headerlink" title="Charles çš„å®‰è£…"></a>Charles çš„å®‰è£…</h3><h3 id="mitmproxy-çš„å®‰è£…"><a href="#mitmproxy-çš„å®‰è£…" class="headerlink" title="mitmproxy çš„å®‰è£…"></a>mitmproxy çš„å®‰è£…</h3><h3 id="Appium-çš„å®‰è£…"><a href="#Appium-çš„å®‰è£…" class="headerlink" title="Appium çš„å®‰è£…"></a>Appium çš„å®‰è£…</h3><h2 id="çˆ¬è™«æ¡†æ¶çš„å®‰è£…"><a href="#çˆ¬è™«æ¡†æ¶çš„å®‰è£…" class="headerlink" title="çˆ¬è™«æ¡†æ¶çš„å®‰è£…"></a>çˆ¬è™«æ¡†æ¶çš„å®‰è£…</h2><h3 id="pyspider-çš„å®‰è£…"><a href="#pyspider-çš„å®‰è£…" class="headerlink" title="pyspider çš„å®‰è£…"></a>pyspider çš„å®‰è£…</h3><h3 id="Scrapy-çš„å®‰è£…"><a href="#Scrapy-çš„å®‰è£…" class="headerlink" title="Scrapy çš„å®‰è£…"></a>Scrapy çš„å®‰è£…</h3><h3 id="Scrapy-Splash-çš„å®‰è£…"><a href="#Scrapy-Splash-çš„å®‰è£…" class="headerlink" title="Scrapy-Splash çš„å®‰è£…"></a>Scrapy-Splash çš„å®‰è£…</h3><h3 id="Scrapy-Redis-çš„å®‰è£…"><a href="#Scrapy-Redis-çš„å®‰è£…" class="headerlink" title="Scrapy-Redis çš„å®‰è£…"></a>Scrapy-Redis çš„å®‰è£…</h3><h2 id="éƒ¨ç½²ç›¸å…³åº“çš„å®‰è£…"><a href="#éƒ¨ç½²ç›¸å…³åº“çš„å®‰è£…" class="headerlink" title="éƒ¨ç½²ç›¸å…³åº“çš„å®‰è£…"></a>éƒ¨ç½²ç›¸å…³åº“çš„å®‰è£…</h2><h3 id="Docker-çš„å®‰è£…"><a href="#Docker-çš„å®‰è£…" class="headerlink" title="Docker çš„å®‰è£…"></a>Docker çš„å®‰è£…</h3><h3 id="Scrapyd-çš„å®‰è£…"><a href="#Scrapyd-çš„å®‰è£…" class="headerlink" title="Scrapyd çš„å®‰è£…"></a>Scrapyd çš„å®‰è£…</h3><h3 id="Scrapyd-Client-çš„å®‰è£…"><a href="#Scrapyd-Client-çš„å®‰è£…" class="headerlink" title="Scrapyd-Client çš„å®‰è£…"></a>Scrapyd-Client çš„å®‰è£…</h3><h3 id="Scrapyd-API-çš„å®‰è£…"><a href="#Scrapyd-API-çš„å®‰è£…" class="headerlink" title="Scrapyd API çš„å®‰è£…"></a>Scrapyd API çš„å®‰è£…</h3><h3 id="Scrapyrt-çš„å®‰è£…"><a href="#Scrapyrt-çš„å®‰è£…" class="headerlink" title="Scrapyrt çš„å®‰è£…"></a>Scrapyrt çš„å®‰è£…</h3><h3 id="Gerapy-çš„å®‰è£…"><a href="#Gerapy-çš„å®‰è£…" class="headerlink" title="Gerapy çš„å®‰è£…"></a>Gerapy çš„å®‰è£…</h3>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Pythonçˆ¬è™«-3.åŸºæœ¬åº“çš„ä½¿ç”¨ã€æœªå­¦å®Œ...ã€‘</title>
      <link href="/2023/06/10/3-%E5%9F%BA%E6%9C%AC%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
      <url>/2023/06/10/3-%E5%9F%BA%E6%9C%AC%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<h1 id="åŸºæœ¬åº“çš„ä½¿ç”¨"><a href="#åŸºæœ¬åº“çš„ä½¿ç”¨" class="headerlink" title="åŸºæœ¬åº“çš„ä½¿ç”¨"></a>åŸºæœ¬åº“çš„ä½¿ç”¨</h1><h2 id="ä½¿ç”¨-urllib"><a href="#ä½¿ç”¨-urllib" class="headerlink" title="ä½¿ç”¨ urllib"></a>ä½¿ç”¨ urllib</h2><p>é¦–å…ˆï¼Œäº†è§£ä¸€ä¸‹ urllib åº“ï¼Œå®ƒæ˜¯ Python å†…ç½®çš„ HTTP è¯·æ±‚åº“ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸éœ€è¦é¢å¤–å®‰è£…å³å¯ä½¿ç”¨ã€‚å®ƒåŒ…å«å¦‚ä¸‹ 4 ä¸ªæ¨¡å—ã€‚</p><ul><li>requestï¼šå®ƒæ˜¯æœ€åŸºæœ¬çš„ HTTP è¯·æ±‚æ¨¡å—ï¼Œå¯ä»¥ç”¨æ¥æ¨¡æ‹Ÿå‘é€è¯·æ±‚ã€‚å°±åƒåœ¨æµè§ˆå™¨é‡Œè¾“å…¥ç½‘å€ç„¶åå›è½¦ä¸€æ ·ï¼Œåªéœ€è¦ç»™åº“æ–¹æ³•ä¼ å…¥ URL ä»¥åŠé¢å¤–çš„å‚æ•°ï¼Œå°±å¯ä»¥æ¨¡æ‹Ÿå®ç°è¿™ä¸ªè¿‡ç¨‹äº†ã€‚</li><li>errorï¼šå¼‚å¸¸å¤„ç†æ¨¡å—ï¼Œå¦‚æœå‡ºç°è¯·æ±‚é”™è¯¯ï¼Œæˆ‘ä»¬å¯ä»¥æ•è·è¿™äº›å¼‚å¸¸ï¼Œç„¶åè¿›è¡Œé‡è¯•æˆ–å…¶ä»–æ“ä½œä»¥ä¿è¯ç¨‹åºä¸ä¼šæ„å¤–ç»ˆæ­¢ã€‚</li><li>parseï¼šä¸€ä¸ªå·¥å…·æ¨¡å—ï¼Œæä¾›äº†è®¸å¤š URL å¤„ç†æ–¹æ³•ï¼Œæ¯”å¦‚æ‹†åˆ†ã€è§£æã€åˆå¹¶ç­‰ã€‚</li><li>robotparserï¼šä¸»è¦æ˜¯ç”¨æ¥è¯†åˆ«ç½‘ç«™çš„ robots.txt æ–‡ä»¶ï¼Œç„¶ååˆ¤æ–­å“ªäº›ç½‘ç«™å¯ä»¥çˆ¬ï¼Œå“ªäº›ç½‘ç«™ä¸å¯ä»¥çˆ¬ï¼Œå®ƒå…¶å®ç”¨å¾—æ¯”è¾ƒå°‘ã€‚</li></ul><h3 id="å‘é€è¯·æ±‚"><a href="#å‘é€è¯·æ±‚" class="headerlink" title="å‘é€è¯·æ±‚"></a>å‘é€è¯·æ±‚</h3><h4 id="urlopen"><a href="#urlopen" class="headerlink" title="urlopen"></a>urlopen</h4><ul><li><p>æ„é€ æ–¹æ³•</p><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line">urllib.request.urlopen(url, data=<span class="literal">None</span>, [timeout,]-, cafile=<span class="literal">None</span>, capath=<span class="literal">None</span>, cadefault=<span class="literal">False</span>, context=<span class="literal">None</span>)</span><br></pre></td></tr></tbody></table></figure></li><li><p>åŸºæœ¬ä½¿ç”¨</p>  <figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> urllib.request</span><br><span class="line"></span><br><span class="line">response = urllib.request.urlopen(<span class="string">'https://www.python.org'</span>)</span><br><span class="line"><span class="comment"># è·å–è¿”å›ç±»å‹</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(response))</span><br><span class="line"><span class="comment"># è·å–è¿”å›ç»“æœçš„çŠ¶æ€ç </span></span><br><span class="line"><span class="built_in">print</span>(response.status)</span><br><span class="line"><span class="comment"># è·å–å“åº”å¤´çš„å„æ•°æ®</span></span><br><span class="line"><span class="built_in">print</span>(response.getheaders())</span><br><span class="line"><span class="comment"># è·å–äº†å“åº”å¤´ä¸­çš„ Server å€¼ï¼Œç»“æœæ˜¯ nginxï¼Œæ„æ€æ˜¯æœåŠ¡å™¨æ˜¯ç”¨ Nginx æ­å»ºçš„ã€‚</span></span><br><span class="line"><span class="built_in">print</span>(response.getheader(<span class="string">'Server'</span>))</span><br><span class="line"><span class="comment">#è·å–è¯»å–ä¿¡æ¯ï¼Œå³ç½‘é¡µçš„æºä»£ç </span></span><br><span class="line"><span class="built_in">print</span>(response.read().decode(<span class="string">'utf-8'</span>))</span><br></pre></td></tr></tbody></table></figure></li><li><p>dataå‚æ•°<br>å°†å‚æ•°è½¬åŒ–ä¸ºå­—èŠ‚æµç¼–ç æ ¼å¼çš„å†…å®¹ï¼Œå³ bytes ç±»å‹ï¼ŒPOSTè¯·æ±‚æ–¹å¼</p><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> urllib.parse  </span><br><span class="line"><span class="keyword">import</span> urllib.request  </span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–helloï¼xxzï¼Œä¼šä¼ é€åˆ°è¿è¡Œç»“æœçš„word --POSTæ¨¡æ‹Ÿè¡¨å•è·å–</span></span><br><span class="line"><span class="comment">#  urlencode æ–¹æ³•æ¥å°†å‚æ•°å­—å…¸è½¬åŒ–ä¸ºå­—ç¬¦ä¸²</span></span><br><span class="line">data = <span class="built_in">bytes</span>(urllib.parse.urlencode({<span class="string">'word'</span>: <span class="string">'hello'</span>}), encoding=<span class="string">'utf8'</span>)  </span><br><span class="line">response = urllib.request.urlopen(<span class="string">'http://httpbin.org/post'</span>, data=data)  </span><br><span class="line"><span class="built_in">print</span>(response.read())</span><br></pre></td></tr></tbody></table></figure></li><li><p>timeoutå‚æ•°</p><p>  ç”¨äºè®¾ç½®è¶…æ—¶æ—¶é—´ï¼Œå•ä½ä¸ºç§’ï¼›å¦‚æœè¯·æ±‚è¶…å‡ºäº†è®¾ç½®çš„è¿™ä¸ªæ—¶é—´ï¼Œè¿˜æ²¡æœ‰å¾—åˆ°å“åº”ï¼Œå°±ä¼šæŠ›å‡ºå¼‚å¸¸  </p><blockquote><p>å¯ä»¥é€šè¿‡è®¾ç½®è¿™ä¸ªè¶…æ—¶æ—¶é—´æ¥æ§åˆ¶ä¸€ä¸ªç½‘é¡µå¦‚æœé•¿æ—¶é—´æœªå“åº”ï¼Œå°±è·³è¿‡å®ƒçš„æŠ“å–</p></blockquote>  <figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> socket  </span><br><span class="line"><span class="keyword">import</span> urllib.request  </span><br><span class="line"><span class="keyword">import</span> urllib.error  </span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span>:  </span><br><span class="line">    response = urllib.request.urlopen(<span class="string">'http://httpbin.org/get'</span>, timeout=<span class="number">0.1</span>)  </span><br><span class="line"><span class="keyword">except</span> urllib.error.URLError <span class="keyword">as</span> e:  </span><br><span class="line">    <span class="comment"># socket.timeout --è¶…æ—¶å¼‚å¸¸</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">isinstance</span>(e.reason, socket.timeout):  </span><br><span class="line">        <span class="built_in">print</span>(<span class="string">'TIME OUT'</span>)</span><br></pre></td></tr></tbody></table></figure></li><li><p>å…¶ä»–å‚æ•°</p><p>context å‚æ•°ï¼Œå®ƒå¿…é¡»æ˜¯ ssl.SSLContext ç±»å‹ï¼Œç”¨æ¥æŒ‡å®š SSL è®¾ç½®</p><p>â€¦â€¦</p><p>è¯¦è§æ–‡æ¡£ï¼š<a href="https://docs.python.org/3/library/urllib.request.html">urllib.request â€” ç”¨äºæ‰“å¼€ URL çš„å¯æ‰©å±•åº“ â€” Python 3.11.4 æ–‡æ¡£</a></p></li></ul><h4 id="Requset-power"><a href="#Requset-power" class="headerlink" title="Requset[power!]"></a>Requset[power!]</h4><p>å¦‚æœè¯·æ±‚ä¸­éœ€è¦åŠ å…¥ Headers ç­‰ä¿¡æ¯ï¼Œå°±å¯ä»¥åˆ©ç”¨æ›´å¼ºå¤§çš„ Request ç±»æ¥æ„å»º</p><ul><li><p>Requestæ„é€ æ–¹æ³•</p>  <figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">urllib</span>.request.Request(url, data=<span class="literal">None</span>, headers={}, origin_req_host=<span class="literal">None</span>, unverifiable=<span class="literal">False</span>, method=<span class="literal">None</span>)</span><br></pre></td></tr></tbody></table></figure><ul><li><p>url ç”¨äºè¯·æ±‚ URLï¼Œè¿™æ˜¯å¿…ä¼ å‚æ•°ï¼Œå…¶ä»–éƒ½æ˜¯å¯é€‰å‚æ•°ã€‚</p></li><li><p>data å¦‚æœè¦ä¼ ï¼Œå¿…é¡»ä¼  bytesï¼ˆå­—èŠ‚æµï¼‰ç±»å‹çš„ã€‚å¦‚æœå®ƒæ˜¯å­—å…¸ï¼Œå¯ä»¥å…ˆç”¨ urllib.parse æ¨¡å—é‡Œçš„ urlencode() ç¼–ç ã€‚</p></li><li><p>headers æ˜¯ä¸€ä¸ªå­—å…¸ï¼Œå®ƒå°±æ˜¯è¯·æ±‚å¤´ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ„é€ è¯·æ±‚æ—¶é€šè¿‡ headers å‚æ•°ç›´æ¥æ„é€ ï¼Œä¹Ÿå¯ä»¥é€šè¿‡è°ƒç”¨è¯·æ±‚å®ä¾‹çš„ add_header() æ–¹æ³•æ·»åŠ ã€‚</p></li><li><p>unverifiable è¡¨ç¤ºè¿™ä¸ªè¯·æ±‚æ˜¯å¦æ˜¯æ— æ³•éªŒè¯çš„ï¼Œé»˜è®¤æ˜¯ Falseï¼Œæ„æ€å°±æ˜¯è¯´ç”¨æˆ·æ²¡æœ‰è¶³å¤Ÿæƒé™æ¥é€‰æ‹©æ¥æ”¶è¿™ä¸ªè¯·æ±‚çš„ç»“æœã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬è¯·æ±‚ä¸€ä¸ª HTML æ–‡æ¡£ä¸­çš„å›¾ç‰‡ï¼Œä½†æ˜¯æˆ‘ä»¬æ²¡æœ‰è‡ªåŠ¨æŠ“å–å›¾åƒçš„æƒé™ï¼Œè¿™æ—¶ unverifiable çš„å€¼å°±æ˜¯ Trueã€‚</p></li><li><p>method æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œç”¨æ¥æŒ‡ç¤ºè¯·æ±‚ä½¿ç”¨çš„æ–¹æ³•ï¼Œæ¯”å¦‚ GETã€POST å’Œ PUT ç­‰ã€‚</p></li></ul></li><li><p>åˆæ­¥ä½¿ç”¨</p><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> urllib <span class="keyword">import</span> request, parse  </span><br><span class="line"></span><br><span class="line">url = <span class="string">'http://httpbin.org/post'</span>  </span><br><span class="line">headers = {<span class="string">'User-Agent'</span>: <span class="string">'Mozilla/4.0 (compatible; MSIE 5.5; Windows NT)'</span>,  </span><br><span class="line">    <span class="string">'Host'</span>: <span class="string">'httpbin.org'</span>  </span><br><span class="line">}  </span><br><span class="line"><span class="built_in">dict</span> = {<span class="string">'name'</span>: <span class="string">'Germey'</span>}  </span><br><span class="line"><span class="comment"># dataç”¨ urlencode å’Œ bytes æ–¹æ³•è½¬æˆå­—èŠ‚æµ</span></span><br><span class="line">data = <span class="built_in">bytes</span>(parse.urlencode(<span class="built_in">dict</span>), encoding=<span class="string">'utf8'</span>)  </span><br><span class="line">req = request.Request(url=url, data=data, headers=headers, method=<span class="string">'POST'</span>)  </span><br><span class="line"><span class="comment"># headers ä¹Ÿå¯ä»¥ç”¨ add_header æ–¹æ³•æ¥æ·»åŠ </span></span><br><span class="line"><span class="comment"># req.add_header('User-Agent', 'Mozilla/4.0 (compatible; MSIE 5.5; Windows NT)')</span></span><br><span class="line">response = request.urlopen(req)  </span><br><span class="line"><span class="built_in">print</span>(response.read().decode(<span class="string">'utf-8'</span>))</span><br></pre></td></tr></tbody></table></figure></li></ul><h4 id="power"><a href="#power" class="headerlink" title="power!"></a>power!</h4><ul><li><p>Handler</p><p>æŠŠå®ƒç†è§£ä¸ºå„ç§å¤„ç†å™¨ï¼Œæœ‰ä¸“é—¨å¤„ç†ç™»å½•éªŒè¯çš„ï¼Œæœ‰å¤„ç† Cookies çš„ï¼Œæœ‰å¤„ç†ä»£ç†è®¾ç½®çš„ã€‚åˆ©ç”¨å®ƒä»¬ï¼Œæˆ‘ä»¬å‡ ä¹å¯ä»¥åšåˆ° HTTP è¯·æ±‚ä¸­æ‰€æœ‰çš„äº‹æƒ…</p><p>çˆ¶ç±»BaseHandlerï¼Œå„ç§å­ç±»ï¼š</p><ul><li>HTTPDefaultErrorHandler ç”¨äºå¤„ç† HTTP å“åº”é”™è¯¯ï¼Œé”™è¯¯éƒ½ä¼šæŠ›å‡º HTTPError ç±»å‹çš„å¼‚å¸¸ã€‚</li><li>HTTPRedirectHandler ç”¨äºå¤„ç†é‡å®šå‘ã€‚</li><li>HTTPCookieProcessor ç”¨äºå¤„ç† Cookiesã€‚</li><li>ProxyHandler ç”¨äºè®¾ç½®ä»£ç†ï¼Œé»˜è®¤ä»£ç†ä¸ºç©ºã€‚</li><li>HTTPPasswordMgr ç”¨äºç®¡ç†å¯†ç ï¼Œå®ƒç»´æŠ¤äº†ç”¨æˆ·åå¯†ç çš„è¡¨ã€‚</li><li>HTTPBasicAuthHandler ç”¨äºç®¡ç†è®¤è¯ï¼Œå¦‚æœä¸€ä¸ªé“¾æ¥æ‰“å¼€æ—¶éœ€è¦è®¤è¯ï¼Œé‚£ä¹ˆå¯ä»¥ç”¨å®ƒæ¥è§£å†³è®¤è¯é—®é¢˜ã€‚</li><li>è¯¦æƒ…å¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼š <a href="https://docs.python.org/3/library/urllib.request.html#urllib.request.BaseHandler">https://docs.python.org/3/library/urllib.request.html#urllib.request.BaseHandler</a></li></ul></li><li><p>OpenerDirector<br>å°±æ˜¯åˆ©ç”¨ Handler æ¥æ„å»º Opener</p><ul><li><p>éªŒè¯  </p><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">#é€šè¿‡ä»£ç æ¨¡æ‹Ÿè®¿é—®éœ€è¦éªŒè¯çš„é¡µé¢ï¼Œå¹¶è·å–éªŒè¯åçš„å†…å®¹</span></span><br><span class="line"><span class="keyword">from</span> urllib.request <span class="keyword">import</span> HTTPPasswordMgrWithDefaultRealm, HTTPBasicAuthHandler, build_opener  </span><br><span class="line"><span class="keyword">from</span> urllib.error <span class="keyword">import</span> URLError  </span><br><span class="line"></span><br><span class="line">username = <span class="string">'username'</span>  </span><br><span class="line">password = <span class="string">'password'</span>  </span><br><span class="line">url = <span class="string">'http://localhost:5000/'</span>  </span><br><span class="line"></span><br><span class="line"><span class="comment"># è°ƒç”¨add_passwordæ–¹æ³•å°†ç”¨æˆ·åã€å¯†ç å’ŒURLæ·»åŠ åˆ°HTTPPasswordMgrWithDefaultRealmå¯¹è±¡ä¸­ï¼Œä»¥å»ºç«‹ç”¨æˆ·åå’Œå¯†ç çš„æ˜ å°„å…³ç³»ã€‚</span></span><br><span class="line">p = HTTPPasswordMgrWithDefaultRealm()  </span><br><span class="line">p.add_password(<span class="literal">None</span>, url, username, password)  </span><br><span class="line"><span class="comment"># åˆ›å»ºHTTPBasicAuthHandlerå¯¹è±¡ï¼Œå¹¶å°†HTTPPasswordMgrWithDefaultRealmå¯¹è±¡ä½œä¸ºå‚æ•°ä¼ å…¥ã€‚è¿™æ ·å°±å»ºç«‹äº†ä¸€ä¸ªå¤„ç†éªŒè¯çš„Handler</span></span><br><span class="line">auth_handler = HTTPBasicAuthHandler(p) </span><br><span class="line"></span><br><span class="line"><span class="comment"># è°ƒç”¨build_openeræ–¹æ³•ï¼ŒOpenerå¯¹è±¡åœ¨å‘é€è¯·æ±‚æ—¶ä¼šè‡ªåŠ¨æºå¸¦éªŒè¯ä¿¡æ¯</span></span><br><span class="line">opener = build_opener(auth_handler)  </span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span>:  </span><br><span class="line">    <span class="comment"># é€šè¿‡Openerå¯¹è±¡çš„openæ–¹æ³•æ‰“å¼€æŒ‡å®šçš„URLï¼Œå®ŒæˆéªŒè¯è¿‡ç¨‹ã€‚è·å–åˆ°éªŒè¯åçš„é¡µé¢æºç å†…å®¹</span></span><br><span class="line">    result = opener.<span class="built_in">open</span>(url)  </span><br><span class="line">    html = result.read().decode(<span class="string">'utf-8'</span>)  </span><br><span class="line">    <span class="built_in">print</span>(html)  </span><br><span class="line"><span class="keyword">except</span> URLError <span class="keyword">as</span> e:  </span><br><span class="line">    <span class="built_in">print</span>(e.reason)</span><br></pre></td></tr></tbody></table></figure></li><li><p>ä»£ç†</p><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># åœ¨çˆ¬è™«ä¸­è®¾ç½®ä»£ç†ï¼Œä»¥ä¾¿åœ¨è®¿é—®ç›®æ ‡ç½‘ç«™æ—¶ä½¿ç”¨æŒ‡å®šçš„ä»£ç†æœåŠ¡å™¨</span></span><br><span class="line"><span class="keyword">from</span> urllib.error <span class="keyword">import</span> URLError  </span><br><span class="line"><span class="keyword">from</span> urllib.request <span class="keyword">import</span> ProxyHandler, build_opener  </span><br><span class="line"></span><br><span class="line"><span class="comment"># é€šè¿‡ProxyHandleråˆ›å»ºäº†ä¸€ä¸ªä»£ç†å¤„ç†å™¨ï¼Œå°†ä»£ç†çš„ä¿¡æ¯ä¼ é€’ç»™å¤„ç†å™¨</span></span><br><span class="line"><span class="comment"># åœ¨æœ¬åœ°æ­å»ºäº†ä¸€ä¸ªä»£ç†ï¼Œå®ƒè¿è¡Œåœ¨ 9743 ç«¯å£ä¸Šã€‚å¯ä»¥æ·»åŠ å¤šä¸ªä»£ç†ï¼Œä»¥é€‚åº”ä¸åŒåè®®çš„è¯·æ±‚</span></span><br><span class="line">proxy_handler = ProxyHandler({  </span><br><span class="line">    <span class="string">'http'</span>: <span class="string">'http://127.0.0.1:9743'</span>,  </span><br><span class="line">    <span class="string">'https'</span>: <span class="string">'https://127.0.0.1:9743'</span>  </span><br><span class="line">})  </span><br><span class="line"><span class="comment"># ç”¨build_openeræ–¹æ³•å°†ä»£ç†å¤„ç†å™¨ä¸å…¶ä»–å¯èƒ½çš„å¤„ç†å™¨ï¼ˆå¦‚èº«ä»½éªŒè¯å¤„ç†å™¨ï¼‰ä¸€èµ·æ„å»ºæˆä¸€ä¸ª Openerã€‚</span></span><br><span class="line"><span class="comment"># openeræ˜¯ç”¨äºå‘é€è¯·æ±‚çš„å¯¹è±¡</span></span><br><span class="line">opener = build_opener(proxy_handler)  </span><br><span class="line"><span class="keyword">try</span>:  </span><br><span class="line">    response = opener.<span class="built_in">open</span>(<span class="string">'https://www.baidu.com'</span>)  </span><br><span class="line">    <span class="built_in">print</span>(response.read().decode(<span class="string">'utf-8'</span>))  </span><br><span class="line"><span class="keyword">except</span> URLError <span class="keyword">as</span> e:  </span><br><span class="line">    <span class="built_in">print</span>(e.reason)</span><br></pre></td></tr></tbody></table></figure></li><li><p>Coookies</p><ul><li>åœ¨çˆ¬è™«ä¸­å¤„ç† Cookies</li><li>ä»ç½‘ç«™è·å–å¹¶ä½¿ç”¨ Cookies</li><li>å°† Cookies ä¿å­˜åˆ°æ–‡ä»¶ä¸­ä»¥ä¾›åç»­ä½¿ç”¨</li></ul></li></ul></li></ul><h3 id="å¤„ç†å¼‚å¸¸"><a href="#å¤„ç†å¼‚å¸¸" class="headerlink" title="å¤„ç†å¼‚å¸¸"></a>å¤„ç†å¼‚å¸¸</h3><h4 id="URLError"><a href="#URLError" class="headerlink" title="URLError"></a>URLError</h4><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> urllib <span class="keyword">import</span> request, error  </span><br><span class="line"><span class="keyword">try</span>:  </span><br><span class="line">    response = request.urlopen(<span class="string">'https://cuiqingcai.com/index.htm'</span>)  </span><br><span class="line"><span class="keyword">except</span> error.URLError <span class="keyword">as</span> e:  </span><br><span class="line">    <span class="built_in">print</span>(e.reason)</span><br></pre></td></tr></tbody></table></figure><p>æ‰“å¼€ä¸€ä¸ªä¸å­˜åœ¨çš„é¡µé¢ï¼Œç…§ç†æ¥è¯´åº”è¯¥ä¼šæŠ¥é”™ï¼Œä½†æ˜¯è¿™æ—¶æˆ‘ä»¬æ•è·äº† URLError è¿™ä¸ªå¼‚å¸¸ï¼Œè¿è¡Œç»“æœå¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">Not Found</span><br></pre></td></tr></tbody></table></figure><p>ç¨‹åºæ²¡æœ‰ç›´æ¥æŠ¥é”™ï¼Œè€Œæ˜¯è¾“å‡ºäº†å¦‚ä¸Šå†…å®¹ï¼Œè¿™æ ·é€šè¿‡å¦‚ä¸Šæ“ä½œï¼Œæˆ‘ä»¬å°±å¯ä»¥é¿å…ç¨‹åºå¼‚å¸¸ç»ˆæ­¢ï¼ŒåŒæ—¶å¼‚å¸¸å¾—åˆ°äº†æœ‰æ•ˆå¤„ç†ã€‚</p><h4 id="HTTPError"><a href="#HTTPError" class="headerlink" title="HTTPError"></a>HTTPError</h4><p> URLError çš„å­ç±»ï¼Œä¸“é—¨ç”¨æ¥å¤„ç† HTTP è¯·æ±‚é”™è¯¯ï¼Œæ¯”å¦‚è®¤è¯è¯·æ±‚å¤±è´¥ç­‰ã€‚å®ƒæœ‰å¦‚ä¸‹ 3 ä¸ªå±æ€§ã€‚</p><ul><li><p>codeï¼šè¿”å› HTTP çŠ¶æ€ç ï¼Œæ¯”å¦‚ 404 è¡¨ç¤ºç½‘é¡µä¸å­˜åœ¨ï¼Œ500 è¡¨ç¤ºæœåŠ¡å™¨å†…éƒ¨é”™è¯¯ç­‰</p></li><li><p>reasonï¼šåŒçˆ¶ç±»ä¸€æ ·ï¼Œç”¨äºè¿”å›é”™è¯¯çš„åŸå› </p></li><li><p>headersï¼šè¿”å›è¯·æ±‚å¤´</p></li></ul><p>ç¤ºä¾‹ï¼š</p><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> urllib <span class="keyword">import</span> request,error  </span><br><span class="line"><span class="keyword">try</span>:  </span><br><span class="line">    response = request.urlopen(<span class="string">'https://cuiqingcai.com/index.htm'</span>)  </span><br><span class="line"><span class="keyword">except</span> error.HTTPError <span class="keyword">as</span> e:  </span><br><span class="line">    <span class="built_in">print</span>(e.reason, e.code, e.headers, sep=<span class="string">'\n'</span>)</span><br></pre></td></tr></tbody></table></figure><p>è¿è¡Œç»“æœï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">Not Found</span><br><span class="line">404</span><br><span class="line">Server: nginx/1.4.6 (Ubuntu)</span><br><span class="line">Date: Wed, 03 Aug 2016 08:54:22 GMT</span><br><span class="line">Content-Type: text/html; charset=UTF-8</span><br><span class="line">Transfer-Encoding: chunked</span><br><span class="line">Connection: close</span><br><span class="line">X-Powered-By: PHP/5.5.9-1ubuntu4.14</span><br><span class="line">Vary: Cookie</span><br><span class="line">Expires: Wed, 11 Jan 1984 05:00:00 GMT</span><br><span class="line">Cache-Control: no-cache, must-revalidate, max-age=0</span><br><span class="line">Pragma: no-cache</span><br><span class="line">Link: &lt;https://cuiqingcai.com/wp-json/&gt;; rel="https://api.w.org/"</span><br></pre></td></tr></tbody></table></figure><h4 id="ç»“åˆä½¿ç”¨"><a href="#ç»“åˆä½¿ç”¨" class="headerlink" title="ç»“åˆä½¿ç”¨"></a>ç»“åˆä½¿ç”¨</h4><p>å› ä¸º URLError æ˜¯ HTTPError çš„çˆ¶ç±»ï¼Œæ‰€ä»¥å¯ä»¥å…ˆé€‰æ‹©æ•è·å­ç±»çš„é”™è¯¯ï¼Œå†å»æ•è·çˆ¶ç±»çš„é”™è¯¯</p><p>å…ˆæ•è· HTTPErrorï¼Œè·å–å®ƒçš„é”™è¯¯çŠ¶æ€ç ã€åŸå› ã€headers ç­‰ä¿¡æ¯ã€‚å¦‚æœä¸æ˜¯ HTTPError å¼‚å¸¸ï¼Œå°±ä¼šæ•è· URLError å¼‚å¸¸ï¼Œè¾“å‡ºé”™è¯¯åŸå› ã€‚æœ€åï¼Œç”¨ else æ¥å¤„ç†æ­£å¸¸çš„é€»è¾‘ã€‚è¿™æ˜¯ä¸€ä¸ªè¾ƒå¥½çš„å¼‚å¸¸å¤„ç†å†™æ³•ã€‚</p><p>reasonè¿”å›å­—ç¬¦ä¸²</p><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> urllib <span class="keyword">import</span> request, error  </span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span>:  </span><br><span class="line">    response = request.urlopen(<span class="string">'https://cuiqingcai.com/index.htm'</span>)  </span><br><span class="line"><span class="keyword">except</span> error.HTTPError <span class="keyword">as</span> e:  </span><br><span class="line">    <span class="built_in">print</span>(e.reason, e.code, e.headers, sep=<span class="string">'\n'</span>)  </span><br><span class="line"><span class="keyword">except</span> error.URLError <span class="keyword">as</span> e:  </span><br><span class="line">    <span class="built_in">print</span>(e.reason)  </span><br><span class="line"><span class="keyword">else</span>:  </span><br><span class="line">    <span class="built_in">print</span>(<span class="string">'Request Successfully'</span>)</span><br></pre></td></tr></tbody></table></figure><p>reasonè¿”å›å¯¹è±¡</p><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> socket  </span><br><span class="line"><span class="keyword">import</span> urllib.request  </span><br><span class="line"><span class="keyword">import</span> urllib.error  </span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span>:  </span><br><span class="line">    response = urllib.request.urlopen(<span class="string">'https://www.baidu.com'</span>, timeout=<span class="number">0.01</span>)  </span><br><span class="line"><span class="keyword">except</span> urllib.error.URLError <span class="keyword">as</span> e:  </span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">type</span>(e.reason))  </span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">isinstance</span>(e.reason, socket.timeout):  </span><br><span class="line">        <span class="built_in">print</span>(<span class="string">'TIME OUT'</span>)</span><br></pre></td></tr></tbody></table></figure><p>è¿è¡Œç»“æœå¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line">&lt;<span class="keyword">class</span><span class="string">'socket.timeout'</span>&gt;</span><br><span class="line"><span class="comment"># reason å±æ€§çš„ç»“æœæ˜¯ socket.timeout ç±»ï¼Œå¯ä»¥ç”¨ isinstance æ–¹æ³•æ¥åˆ¤æ–­å®ƒçš„ç±»å‹ï¼Œä½œå‡ºæ›´è¯¦ç»†çš„å¼‚å¸¸åˆ¤æ–­ã€‚</span></span><br><span class="line">TIME OUT</span><br></pre></td></tr></tbody></table></figure><h3 id="è§£æé“¾æ¥"><a href="#è§£æé“¾æ¥" class="headerlink" title="è§£æé“¾æ¥"></a>è§£æé“¾æ¥</h3><h4 id="urlparse-è§£æURL"><a href="#urlparse-è§£æURL" class="headerlink" title="urlparse  -è§£æURL"></a>urlparse  -è§£æURL</h4><ul><li><p>æ„é€ æ–¹æ³•</p>  <figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line">urllib.parse.urlparse(urlstring, scheme=<span class="string">''</span>, allow_fragments=<span class="literal">True</span>)</span><br></pre></td></tr></tbody></table></figure><p>  3 ä¸ªå‚æ•°ï¼š</p><ul><li><p>urlstringï¼šè¿™æ˜¯å¿…å¡«é¡¹ï¼Œå³å¾…è§£æçš„ URLã€‚</p></li><li><p>schemeï¼šå®ƒæ˜¯é»˜è®¤çš„åè®®ï¼ˆæ¯”å¦‚ http æˆ– https ç­‰ï¼‰ã€‚å‡å¦‚è¿™ä¸ªé“¾æ¥æ²¡æœ‰å¸¦åè®®ä¿¡æ¯ï¼Œä¼šå°†è¿™ä¸ªä½œä¸ºé»˜è®¤çš„åè®®ã€‚</p><blockquote><p>scheme å‚æ•°åªæœ‰åœ¨ URL ä¸­ä¸åŒ…å« scheme ä¿¡æ¯æ—¶æ‰ç”Ÿæ•ˆã€‚å¦‚æœ URL ä¸­æœ‰ scheme ä¿¡æ¯ï¼Œå°±ä¼šè¿”å›è§£æå‡ºçš„ scheme</p></blockquote></li><li><p>allow_fragmentsï¼šå³æ˜¯å¦å¿½ç•¥ fragmentã€‚å¦‚æœå®ƒè¢«è®¾ç½®ä¸º Falseï¼Œfragment éƒ¨åˆ†å°±ä¼šè¢«å¿½ç•¥ï¼Œå®ƒä¼šè¢«è§£æä¸º pathã€parameters æˆ–è€… query çš„ä¸€éƒ¨åˆ†ï¼Œè€Œ fragment éƒ¨åˆ†ä¸ºç©ºã€‚</p></li></ul></li><li><p>å®ç° URL çš„è¯†åˆ«å’Œåˆ†æ®µ</p>  <figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> urllib.parse <span class="keyword">import</span> urlparse  </span><br><span class="line"></span><br><span class="line">result = urlparse(<span class="string">'http://www.baidu.com/index.html;user?id=5#comment'</span>, scheme=<span class="string">'https'</span>, allow_fragments=<span class="literal">False</span>)  </span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(result), result)</span><br></pre></td></tr></tbody></table></figure><p>  è¿è¡Œç»“æœå¦‚ä¸‹ï¼š</p>  <figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line">&lt;<span class="keyword">class</span> <span class="string">'urllib.parse.ParseResult'</span>&gt;</span><br><span class="line">ParseResult(scheme=<span class="string">'http'</span>, netloc=<span class="string">'www.baidu.com'</span>, path=<span class="string">'/index.html'</span>, params=<span class="string">'user'</span>, query=<span class="string">'id=5#comment'</span>,</span><br><span class="line">fragment=<span class="string">''</span>)</span><br></pre></td></tr></tbody></table></figure></li><li><p>è¿”å›ç»“æœæ˜¯ä¸€ä¸ª ParseResult ç±»å‹çš„å¯¹è±¡ï¼Œ<br>  å®ƒåŒ…å« 6 ä¸ªéƒ¨åˆ†ï¼Œåˆ†åˆ«æ˜¯ schemeã€netlocã€pathã€paramsã€query å’Œ fragmentã€‚å¯ä»¥å¾—å‡ºä¸€ä¸ªæ ‡å‡†çš„é“¾æ¥æ ¼å¼ï¼Œå…·ä½“å¦‚ä¸‹ï¼š <code>scheme://netloc/path;params?query#fragment</code></p></li><li><p>è¿”å›ç»“æœ ParseResult å®é™…ä¸Šæ˜¯ä¸€ä¸ªå…ƒç»„<br>  æˆ‘ä»¬å¯ä»¥ç”¨ç´¢å¼•é¡ºåºæ¥è·å–ï¼Œä¹Ÿå¯ä»¥ç”¨å±æ€§åè·å–ã€‚ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>  <figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> urllib.parse <span class="keyword">import</span> urlparse  </span><br><span class="line">  </span><br><span class="line">result = urlparse(<span class="string">'http://www.baidu.com/index.html#comment'</span>, allow_fragments=<span class="literal">False</span>)  </span><br><span class="line"><span class="built_in">print</span>(result.scheme, result[<span class="number">0</span>], result.netloc, result[<span class="number">1</span>], sep=<span class="string">'\n'</span>)</span><br></pre></td></tr></tbody></table></figure><p>  åˆ†åˆ«ç”¨ç´¢å¼•å’Œå±æ€§åè·å–äº† scheme å’Œ netlocï¼Œå…¶è¿è¡Œç»“æœå¦‚ä¸‹ï¼š</p>  <figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">http  </span><br><span class="line">http  </span><br><span class="line">www.baidu.com  </span><br><span class="line">www.baidu.com</span><br></pre></td></tr></tbody></table></figure></li></ul><h4 id="urlunparse-æ„é€ URL"><a href="#urlunparse-æ„é€ URL" class="headerlink" title="urlunparse  -æ„é€ URL"></a>urlunparse  -æ„é€ URL</h4><p>æœ‰äº† urlparse æ–¹æ³•ï¼Œç›¸åº”åœ°å°±æœ‰äº†å®ƒçš„å¯¹ç«‹æ–¹æ³• urlunparseã€‚å®ƒæ¥å—çš„å‚æ•°æ˜¯ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ï¼Œä½†æ˜¯å®ƒçš„é•¿åº¦å¿…é¡»æ˜¯ 6ï¼Œå¦åˆ™ä¼šæŠ›å‡ºå‚æ•°æ•°é‡ä¸è¶³æˆ–è€…è¿‡å¤šçš„é—®é¢˜ã€‚å…ˆç”¨ä¸€ä¸ªå®ä¾‹çœ‹ä¸€ä¸‹ï¼š</p><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> urllib.parse <span class="keyword">import</span> urlunparse  </span><br><span class="line"></span><br><span class="line">data = [<span class="string">'http'</span>, <span class="string">'www.baidu.com'</span>, <span class="string">'index.html'</span>, <span class="string">'user'</span>, <span class="string">'a=6'</span>, <span class="string">'comment'</span>]  </span><br><span class="line"><span class="built_in">print</span>(urlunparse(data))</span><br></pre></td></tr></tbody></table></figure><p>è¿™é‡Œå‚æ•° data ç”¨äº†åˆ—è¡¨ç±»å‹ã€‚ä¹Ÿå¯ä»¥ç”¨å…¶ä»–ç±»å‹ï¼Œæ¯”å¦‚å…ƒç»„æˆ–è€…ç‰¹å®šçš„æ•°æ®ç»“æ„ã€‚è¿è¡Œç»“æœå¦‚ä¸‹ï¼š </p><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">http://www.baidu.com/index.html;user?a=6#comment</span><br></pre></td></tr></tbody></table></figure><h4 id="urlsplit-è§£æURL"><a href="#urlsplit-è§£æURL" class="headerlink" title="urlsplit  -è§£æURL"></a>urlsplit  -è§£æURL</h4><p>å®ƒä¸å†å•ç‹¬è§£æ params è¿™ä¸€éƒ¨åˆ†ï¼Œåªè¿”å› 5 ä¸ªç»“æœï¼Œ params ä¼šåˆå¹¶åˆ° path ä¸­</p><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> urllib.parse <span class="keyword">import</span> urlsplit  </span><br><span class="line">result = urlsplit(<span class="string">'http://www.baidu.com/index.html;user?id=5#comment'</span>)  </span><br><span class="line"><span class="built_in">print</span>(result)</span><br></pre></td></tr></tbody></table></figure><p>è¿è¡Œç»“æœå¦‚ä¸‹ï¼š  </p><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line">SplitResult(scheme=<span class="string">'http'</span>, netloc=<span class="string">'www.baidu.com'</span>, path=<span class="string">'/index.html;user'</span>, query=<span class="string">'id=5'</span>, fragment=<span class="string">'comment'</span>)</span><br></pre></td></tr></tbody></table></figure><p>è¿”å›ç»“æœæ˜¯ SplitResultï¼Œä¹Ÿæ˜¯ä¸€ä¸ªå…ƒç»„ç±»å‹ï¼Œæ—¢å¯ä»¥ç”¨å±æ€§è·å–å€¼ï¼Œä¹Ÿå¯ä»¥ç”¨ç´¢å¼•æ¥è·å–</p><h4 id="urlunsplit-æ„é€ URL"><a href="#urlunsplit-æ„é€ URL" class="headerlink" title="urlunsplit  -æ„é€ URL"></a>urlunsplit  -æ„é€ URL</h4><p>ä¸ urlunparse æ–¹æ³•ç±»ä¼¼ï¼Œå®ƒä¹Ÿæ˜¯å°†é“¾æ¥å„ä¸ªéƒ¨åˆ†ç»„åˆæˆå®Œæ•´é“¾æ¥çš„æ–¹æ³•ï¼Œä¼ å…¥çš„å‚æ•°ä¹Ÿæ˜¯ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ï¼Œä¾‹å¦‚åˆ—è¡¨ã€å…ƒç»„ç­‰ï¼Œå”¯ä¸€çš„åŒºåˆ«æ˜¯é•¿åº¦å¿…é¡»ä¸º 5ã€‚</p><p>ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> urllib.parse <span class="keyword">import</span> urlunsplit  </span><br><span class="line"></span><br><span class="line">data = [<span class="string">'http'</span>, <span class="string">'www.baidu.com'</span>, <span class="string">'index.html'</span>, <span class="string">'a=6'</span>, <span class="string">'comment'</span>]  </span><br><span class="line"><span class="built_in">print</span>(urlunsplit(data))</span><br></pre></td></tr></tbody></table></figure><p>è¿è¡Œç»“æœå¦‚ä¸‹ï¼š </p><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">http://www.baidu.com/index.html?a=6#comment</span><br></pre></td></tr></tbody></table></figure><h4 id="urljoin-è§£æURL"><a href="#urljoin-è§£æURL" class="headerlink" title="urljoin -è§£æURL"></a>urljoin -è§£æURL</h4><p>æä¾›ä¸€ä¸ª base_urlï¼ˆåŸºç¡€é“¾æ¥ï¼‰ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼Œå°†æ–°çš„é“¾æ¥ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ï¼Œè¯¥æ–¹æ³•ä¼šåˆ†æ base_url çš„ schemeã€netloc å’Œ path è¿™ 3 ä¸ªå†…å®¹å¹¶å¯¹æ–°é“¾æ¥ç¼ºå¤±çš„éƒ¨åˆ†è¿›è¡Œè¡¥å……ï¼Œæœ€åè¿”å›ç»“æœã€‚</p><p>ç¤ºä¾‹ï¼š</p><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> urllib.parse <span class="keyword">import</span> urljoin  </span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(urljoin(<span class="string">'http://www.baidu.com'</span>, <span class="string">'FAQ.html'</span>))  </span><br><span class="line"><span class="built_in">print</span>(urljoin(<span class="string">'http://www.baidu.com'</span>, <span class="string">'https://cuiqingcai.com/FAQ.html'</span>))  </span><br><span class="line"><span class="built_in">print</span>(urljoin(<span class="string">'http://www.baidu.com/about.html'</span>, <span class="string">'https://cuiqingcai.com/FAQ.html'</span>))  </span><br><span class="line"><span class="built_in">print</span>(urljoin(<span class="string">'http://www.baidu.com/about.html'</span>, <span class="string">'https://cuiqingcai.com/FAQ.html?question=2'</span>))  </span><br><span class="line"><span class="built_in">print</span>(urljoin(<span class="string">'http://www.baidu.com?wd=abc'</span>, <span class="string">'https://cuiqingcai.com/index.php'</span>))  </span><br><span class="line"><span class="built_in">print</span>(urljoin(<span class="string">'http://www.baidu.com'</span>, <span class="string">'?category=2#comment'</span>))  </span><br><span class="line"><span class="built_in">print</span>(urljoin(<span class="string">'www.baidu.com'</span>, <span class="string">'?category=2#comment'</span>))  </span><br><span class="line"><span class="built_in">print</span>(urljoin(<span class="string">'www.baidu.com#comment'</span>, <span class="string">'?category=2'</span>))</span><br></pre></td></tr></tbody></table></figure><p>è¿è¡Œç»“æœï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">http://www.baidu.com/FAQ.html  </span><br><span class="line">https://cuiqingcai.com/FAQ.html  </span><br><span class="line">https://cuiqingcai.com/FAQ.html  </span><br><span class="line">https://cuiqingcai.com/FAQ.html?question=2  </span><br><span class="line">https://cuiqingcai.com/index.php  </span><br><span class="line">http://www.baidu.com?category=2#comment  </span><br><span class="line">www.baidu.com?category=2#comment  </span><br><span class="line">www.baidu.com?category=2</span><br></pre></td></tr></tbody></table></figure><h4 id="urlencode-è½¬GETè¯·æ±‚å‚æ•°"><a href="#urlencode-è½¬GETè¯·æ±‚å‚æ•°" class="headerlink" title="urlencode  -è½¬GETè¯·æ±‚å‚æ•°"></a>urlencode  -è½¬GETè¯·æ±‚å‚æ•°</h4><p>ç¤ºä¾‹ï¼š</p><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> urllib.parse <span class="keyword">import</span> urlencode  </span><br><span class="line"></span><br><span class="line">params = {  </span><br><span class="line">    <span class="string">'name'</span>: <span class="string">'germey'</span>,  </span><br><span class="line">    <span class="string">'age'</span>: <span class="number">22</span>  </span><br><span class="line">}  </span><br><span class="line">base_url = <span class="string">'http://www.baidu.com?'</span>  </span><br><span class="line">url = base_url + urlencode(params)  </span><br><span class="line"><span class="built_in">print</span>(url)</span><br></pre></td></tr></tbody></table></figure><p>è¿™é‡Œé¦–å…ˆå£°æ˜äº†ä¸€ä¸ªå­—å…¸æ¥å°†å‚æ•°è¡¨ç¤ºå‡ºæ¥ï¼Œç„¶åè°ƒç”¨ urlencode æ–¹æ³•å°†å…¶åºåˆ—åŒ–ä¸º GET è¯·æ±‚å‚æ•°ã€‚è¿è¡Œç»“æœå¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">http://www.baidu.com?name=germey&amp;amp;age=22</span><br></pre></td></tr></tbody></table></figure><p>è¿™ä¸ªæ–¹æ³•éå¸¸å¸¸ç”¨ã€‚æœ‰æ—¶ä¸ºäº†æ›´åŠ æ–¹ä¾¿åœ°æ„é€ å‚æ•°ï¼Œæˆ‘ä»¬ä¼šäº‹å…ˆç”¨å­—å…¸æ¥è¡¨ç¤ºã€‚è¦è½¬åŒ–ä¸º URL çš„å‚æ•°æ—¶ï¼Œåªéœ€è¦è°ƒç”¨è¯¥æ–¹æ³•å³å¯ã€‚</p><h4 id="parse-qs-è½¬å­—å…¸"><a href="#parse-qs-è½¬å­—å…¸" class="headerlink" title="parse_qs    -è½¬å­—å…¸"></a>parse_qs    -è½¬å­—å…¸</h4><p>åˆ©ç”¨ parse_qs æ–¹æ³•ï¼Œå°±å¯ä»¥å°†å®ƒè½¬å›å­—å…¸ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> urllib.parse <span class="keyword">import</span> parse_qs  </span><br><span class="line"></span><br><span class="line">query = <span class="string">'name=germey&amp;amp;age=22'</span>  </span><br><span class="line"><span class="built_in">print</span>(parse_qs(query))</span><br></pre></td></tr></tbody></table></figure><p>è¿è¡Œç»“æœå¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line">{<span class="string">'name'</span>: [<span class="string">'germey'</span>], <span class="string">'age'</span>: [<span class="string">'22'</span>]}</span><br></pre></td></tr></tbody></table></figure><h4 id="parse-qsl-è½¬å…ƒç»„"><a href="#parse-qsl-è½¬å…ƒç»„" class="headerlink" title="parse_qsl   -è½¬å…ƒç»„"></a>parse_qsl   -è½¬å…ƒç»„</h4><p>å°†å‚æ•°è½¬åŒ–ä¸ºå…ƒç»„ç»„æˆçš„åˆ—è¡¨ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> urllib.parse <span class="keyword">import</span> parse_qsl  </span><br><span class="line"></span><br><span class="line">query = <span class="string">'name=germey&amp;amp;age=22'</span>  </span><br><span class="line"><span class="built_in">print</span>(parse_qsl(query))</span><br></pre></td></tr></tbody></table></figure><p>è¿è¡Œç»“æœå¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line">[(<span class="string">'name'</span>, <span class="string">'germey'</span>), (<span class="string">'age'</span>, <span class="string">'22'</span>)]</span><br></pre></td></tr></tbody></table></figure><h4 id="quote-URL-ç¼–ç "><a href="#quote-URL-ç¼–ç " class="headerlink" title="quote  -URL ç¼–ç "></a>quote  -URL ç¼–ç </h4><p>å°†å†…å®¹ï¼ˆä¸­æ–‡ï¼‰è½¬åŒ–ä¸º URL ç¼–ç çš„æ ¼å¼</p><p>ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> urllib.parse <span class="keyword">import</span> quote  </span><br><span class="line"></span><br><span class="line">keyword = <span class="string">' å£çº¸ '</span>  </span><br><span class="line">url = <span class="string">'https://www.baidu.com/s?wd='</span> + quote(keyword)  </span><br><span class="line"><span class="built_in">print</span>(url)</span><br></pre></td></tr></tbody></table></figure><p>è¿™é‡Œæˆ‘ä»¬å£°æ˜äº†ä¸€ä¸ªä¸­æ–‡çš„æœç´¢æ–‡å­—ï¼Œç„¶åç”¨ quote æ–¹æ³•å¯¹å…¶è¿›è¡Œ URL ç¼–ç ï¼Œæœ€åå¾—åˆ°çš„ç»“æœå¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">https://www.baidu.com/s?wd=% E5% A3%81% E7% BA% B8</span><br></pre></td></tr></tbody></table></figure><h4 id="unquote-â€“URL-è§£ç "><a href="#unquote-â€“URL-è§£ç " class="headerlink" title="unquote  â€“URL è§£ç "></a>unquote  â€“URL è§£ç </h4><p>è¿›è¡Œ URL è§£ç ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> urllib.parse <span class="keyword">import</span> unquote  </span><br><span class="line"></span><br><span class="line">url = <span class="string">'https://www.baidu.com/s?wd=% E5% A3%81% E7% BA% B8'</span>  </span><br><span class="line"><span class="built_in">print</span>(unquote(url))</span><br></pre></td></tr></tbody></table></figure><p>è¿™æ˜¯ä¸Šé¢å¾—åˆ°çš„ URL ç¼–ç åçš„ç»“æœï¼Œè¿™é‡Œåˆ©ç”¨ unquote æ–¹æ³•è¿˜åŸï¼Œç»“æœå¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">https://www.baidu.com/s?wd = å£çº¸</span><br></pre></td></tr></tbody></table></figure><h3 id="åˆ†æRobots"><a href="#åˆ†æRobots" class="headerlink" title="åˆ†æRobots"></a>åˆ†æRobots</h3><h4 id="Robots-åè®®"><a href="#Robots-åè®®" class="headerlink" title="Robots åè®®"></a>Robots åè®®</h4><p>Robots åè®®ä¹Ÿç§°ä½œçˆ¬è™«åè®®ï¼Œç”¨æ¥å‘Šè¯‰çˆ¬è™«å’Œæœç´¢å¼•æ“å“ªäº›é¡µé¢å¯ä»¥æŠ“å–ï¼Œå“ªäº›ä¸å¯ä»¥æŠ“å–ã€‚å®ƒé€šå¸¸æ˜¯ä¸€ä¸ªå«ä½œ robots.txt çš„æ–‡æœ¬æ–‡ä»¶ï¼Œä¸€èˆ¬æ”¾åœ¨ç½‘ç«™çš„æ ¹ç›®å½•ä¸‹ã€‚</p><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># å…¶è®¾ç½®ä¸º * åˆ™ä»£è¡¨è¯¥åè®®å¯¹ä»»ä½•çˆ¬å–çˆ¬è™«æœ‰æ•ˆ</span></span><br><span class="line">User-agent: *         </span><br><span class="line"><span class="comment">#æŒ‡å®šäº†ä¸å…è®¸æŠ“å–çš„ç›®å½•ï¼Œæ¯”å¦‚ä¸Šä¾‹å­ä¸­è®¾ç½®ä¸º / åˆ™ä»£è¡¨ä¸å…è®¸æŠ“å–æ‰€æœ‰é¡µé¢ã€‚</span></span><br><span class="line">Disallow: /  </span><br><span class="line"><span class="comment"># Allowä¸€èˆ¬ä¸ä¼šå•ç‹¬ä½¿ç”¨ï¼Œç”¨æ¥æ’é™¤æŸäº›é™åˆ¶,è¡¨ç¤ºåªå¯ä»¥æŠ“å– public ç›®å½•</span></span><br><span class="line">Allow: /public/</span><br></pre></td></tr></tbody></table></figure><h4 id="çˆ¬è™«åç§°"><a href="#çˆ¬è™«åç§°" class="headerlink" title="çˆ¬è™«åç§°"></a>çˆ¬è™«åç§°</h4><p>ä¸€äº›å¸¸è§æœç´¢çˆ¬è™«çš„åç§°åŠå…¶å¯¹åº”çš„ç½‘ç«™</p><table><thead><tr><th>çˆ¬è™«åç§°</th><th>åã€€ã€€ç§°</th><th>ç½‘ã€€ã€€ç«™</th></tr></thead><tbody><tr><td>BaiduSpider</td><td>ç™¾åº¦</td><td><a href="http://www.baidu.com/">www.baidu.com</a></td></tr><tr><td>Googlebot</td><td>è°·æ­Œ</td><td><a href="http://www.google.com/">www.google.com</a></td></tr><tr><td>360Spider</td><td>360 æœç´¢</td><td><a href="http://www.so.com/">www.so.com</a></td></tr><tr><td>YodaoBot</td><td>æœ‰é“</td><td><a href="http://www.youdao.com/">www.youdao.com</a></td></tr><tr><td>ia_archiver</td><td>Alexa</td><td><a href="http://www.alexa.cn/">www.alexa.cn</a></td></tr><tr><td>Scooter</td><td>altavista</td><td><a href="http://www.altavista.com/">www.altavista.com</a></td></tr></tbody></table><h4 id="robotparser"><a href="#robotparser" class="headerlink" title="robotparser"></a>robotparser</h4><p>ä½¿ç”¨ robotparser æ¨¡å—æ¥è§£æ robots.txt</p><ul><li><p>æ„é€ æ–¹æ³•  (very easyå•¦</p><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line">urllib.robotparser.RobotFileParser(url=<span class="string">''</span>)</span><br></pre></td></tr></tbody></table></figure></li><li><p>æ¨¡å—å¸¸ç”¨æ–¹æ³•</p><ul><li>set_url ï¼šç”¨æ¥è®¾ç½® robots.txt æ–‡ä»¶çš„é“¾æ¥</li><li>readï¼šè¯»å– robots.txt æ–‡ä»¶å¹¶è¿›è¡Œåˆ†æï¼Œä¸€èˆ¬ä¸ºture</li><li>parseï¼šç”¨æ¥è§£æ robots.txt æ–‡ä»¶</li><li>can_fetchï¼šè¯¥æ–¹æ³•ä¼ å…¥ä¸¤ä¸ªå‚æ•° User-agent&amp; URLã€‚è¿”å›çš„å†…å®¹æ˜¯è¯¥æœç´¢å¼•æ“æ˜¯å¦å¯ä»¥æŠ“å–è¿™ä¸ª URLï¼Œè¿”å›ç»“æœæ˜¯ True æˆ– False</li><li>mtimeï¼šè¿”å›çš„æ˜¯ä¸Šæ¬¡æŠ“å–å’Œåˆ†æ robots.txt çš„æ—¶é—´</li><li>modifiedï¼šå°†å½“å‰æ—¶é—´è®¾ç½®ä¸ºä¸Šæ¬¡æŠ“å–å’Œåˆ†æ robots.txt çš„æ—¶é—´</li></ul></li></ul><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> urllib.robotparser <span class="keyword">import</span> RobotFileParser</span><br><span class="line">rp = RobotFileParser()</span><br><span class="line"><span class="comment"># rp = RobotFileParser('http://www.jianshu.com/robots.txt')</span></span><br><span class="line">rp.set_url(<span class="string">'http://www.jianshu.com/robots.txt'</span>)</span><br><span class="line">rp.read()</span><br><span class="line"><span class="comment"># ä¹Ÿå¯ä»¥ä½¿ç”¨ parse æ–¹æ³•æ‰§è¡Œè¯»å–å’Œåˆ†æ</span></span><br><span class="line"><span class="comment"># rp.parse(urlopen('http://www.jianshu.com/robots.txt').read().decode('utf-8').split('\n'))</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ©ç”¨ can_fetch æ–¹æ³•åˆ¤æ–­äº†ç½‘é¡µæ˜¯å¦å¯ä»¥è¢«æŠ“å–   True + False</span></span><br><span class="line"><span class="built_in">print</span>(rp.can_fetch(<span class="string">'*'</span>, <span class="string">'http://www.jianshu.com/p/b67554025d7d'</span>))</span><br><span class="line"><span class="built_in">print</span>(rp.can_fetch(<span class="string">'*'</span>, <span class="string">"http://www.jianshu.com/search?q=python&amp;page=1&amp;type=collections"</span>))</span><br></pre></td></tr></tbody></table></figure><h2 id="ä½¿ç”¨-requests"><a href="#ä½¿ç”¨-requests" class="headerlink" title="ä½¿ç”¨ requests"></a>ä½¿ç”¨ requests</h2><h3 id="åŸºæœ¬ç”¨æ³•"><a href="#åŸºæœ¬ç”¨æ³•" class="headerlink" title="åŸºæœ¬ç”¨æ³•"></a>åŸºæœ¬ç”¨æ³•</h3>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Pythonçˆ¬è™«-2.çˆ¬è™«åŸºç¡€</title>
      <link href="/2023/06/10/2-%E7%88%AC%E8%99%AB%E5%9F%BA%E7%A1%80/"/>
      <url>/2023/06/10/2-%E7%88%AC%E8%99%AB%E5%9F%BA%E7%A1%80/</url>
      
        <content type="html"><![CDATA[<h1 id="çˆ¬è™«åŸºç¡€"><a href="#çˆ¬è™«åŸºç¡€" class="headerlink" title="çˆ¬è™«åŸºç¡€"></a>çˆ¬è™«åŸºç¡€</h1><h2 id="HTTP-åŸºæœ¬åŸç†"><a href="#HTTP-åŸºæœ¬åŸç†" class="headerlink" title="HTTP åŸºæœ¬åŸç†"></a>HTTP åŸºæœ¬åŸç†</h2><h3 id="URI-amp-URL"><a href="#URI-amp-URL" class="headerlink" title="URI&amp;URL"></a>URI&amp;URL</h3><h4 id="URI"><a href="#URI" class="headerlink" title="URI"></a>URI</h4><ul><li>ç”¨äºæ ‡è¯†å’Œå®šä½èµ„æºçš„å­—ç¬¦ä¸²åºåˆ—</li><li>å®ƒæ˜¯ä¸€ç§æ ‡å‡†åŒ–çš„å‘½åæ–¹å¼ï¼Œç”¨äºå”¯ä¸€åœ°æ ‡è¯†ä¸€ä¸ªèµ„æºï¼ŒåŒ…æ‹¬ä½†ä¸é™äºæ–‡ä»¶ã€ç½‘é¡µã€API ç«¯ç‚¹ç­‰</li><li>URI æ˜¯ä¸€ä¸ªå¹¿ä¹‰çš„æ¦‚å¿µï¼ŒåŒ…æ‹¬ä¸¤ä¸ªå­é›†ï¼šURL å’Œ URNã€‚</li></ul><h4 id="URL"><a href="#URL" class="headerlink" title="URL"></a>URL</h4><ul><li>æ˜¯ URI çš„ä¸€ç§å¸¸è§å½¢å¼ã€‚å®ƒæ˜¯ä¸€ç§ç‰¹å®šæ ¼å¼çš„å­—ç¬¦ä¸²ï¼Œç”¨äºæè¿°ä¸€ä¸ªèµ„æºçš„ä½ç½®ï¼ˆæˆ–åœ°å€ï¼‰</li><li>æä¾›äº†ä¸€ç§æ ‡å‡†çš„æ–¹å¼æ¥è®¿é—®ç½‘ç»œä¸Šçš„èµ„æºï¼Œä¾‹å¦‚ç½‘é¡µã€å›¾ç‰‡ã€æ–‡ä»¶ç­‰</li><li>ä¾‹å­ï¼š<code>https://www.example.com/index.html?id=12345</code><ul><li>åè®®æ˜¯ HTTPSã€‚</li><li>ä¸»æœºåæ˜¯ <a href="http://www.example.com./">www.example.comã€‚</a></li><li>è·¯å¾„æ˜¯ /index.htmlã€‚</li><li>æŸ¥è¯¢å‚æ•°æ˜¯ id=12345ã€‚</li></ul></li></ul><h4 id="åŒºåˆ«"><a href="#åŒºåˆ«" class="headerlink" title="åŒºåˆ«"></a>åŒºåˆ«</h4><ul><li>URI å’Œ URL çš„åŒºåˆ«åœ¨äº URI æ˜¯ä¸€ä¸ªæ›´å¹¿æ³›çš„æ¦‚å¿µï¼ŒåŒ…å«äº†æ‰€æœ‰ç”¨äºæ ‡è¯†å’Œå®šä½èµ„æºçš„æ–¹å¼ã€‚</li><li>è€Œ URL åˆ™æ˜¯ URI çš„ä¸€ç§å…·ä½“å®ç°å½¢å¼ã€‚URL æä¾›äº†ä¸€ç§ç‰¹å®šçš„è¯­æ³•å’Œæ ¼å¼ï¼Œç”¨äºæŒ‡å®šèµ„æºçš„ä½ç½®å’Œè®¿é—®æ–¹å¼</li></ul><h3 id="è¶…æ–‡æœ¬"><a href="#è¶…æ–‡æœ¬" class="headerlink" title="è¶…æ–‡æœ¬"></a>è¶…æ–‡æœ¬</h3><ul><li>ç½‘é¡µçš„æºä»£ç  HTML å°±å¯ä»¥ç§°ä½œè¶…æ–‡æœ¬</li></ul><h3 id="HTTP-å’Œ-HTTPS"><a href="#HTTP-å’Œ-HTTPS" class="headerlink" title="HTTP å’Œ HTTPS"></a>HTTP å’Œ HTTPS</h3><h4 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h4><ul><li><p>åè®®ç±»å‹</p></li><li><p>HTTPï¼šè¶…æ–‡æœ¬ä¼ è¾“åè®®</p></li><li><p>HTTPSï¼šHTTP çš„å®‰å…¨ç‰ˆ  ï¼ŒHTTP ä¸‹åŠ å…¥ SSL å±‚</p></li></ul><h4 id="HTTPè¯·æ±‚è¿‡ç¨‹"><a href="#HTTPè¯·æ±‚è¿‡ç¨‹" class="headerlink" title="HTTPè¯·æ±‚è¿‡ç¨‹"></a>HTTPè¯·æ±‚è¿‡ç¨‹</h4><p>åœ¨æµè§ˆå™¨ä¸­è¾“å…¥URLï¼Œå›è½¦ä¹‹åæµè§ˆå™¨å‘ç½‘ç«™æ‰€åœ¨çš„æœåŠ¡å™¨å‘é€äº†ä¸€ä¸ªè¯·æ±‚ï¼Œç½‘ç«™æœåŠ¡å™¨æ¥æ”¶åˆ°è¿™ä¸ªè¯·æ±‚åè¿›è¡Œå¤„ç†å’Œè§£æï¼Œç„¶åè¿”å›å¯¹åº”çš„å“åº”ï¼Œæ¥ç€ä¼ å›ç»™æµè§ˆå™¨ã€‚å“åº”é‡ŒåŒ…å«äº†é¡µé¢çš„æºä»£ç ç­‰å†…å®¹ï¼Œæµè§ˆå™¨å†å¯¹å…¶è¿›è¡Œè§£æï¼Œä¾¿å°†ç½‘é¡µå‘ˆç°äº†å‡ºæ¥<br><img src="/%E7%AC%94%E8%AE%B0.assets/image-20230610142848095.png" alt="image-20230610142848095"></p><p>ç½‘ç»œè¯·æ±‚å…·ä½“å«ä¹‰<br><img src="/%E7%AC%94%E8%AE%B0.assets/image-20230610143146951.png" alt="image-20230610143146951"></p><ul><li>ç¬¬ä¸€åˆ— Nameï¼šè¯·æ±‚çš„åç§°ï¼Œä¸€èˆ¬ä¼šå°† URL çš„æœ€åä¸€éƒ¨åˆ†å†…å®¹å½“ä½œåç§°ã€‚</li><li>ç¬¬äºŒåˆ— Statusï¼šå“åº”çš„çŠ¶æ€ç ï¼Œè¿™é‡Œæ˜¾ç¤ºä¸º 200ï¼Œä»£è¡¨å“åº”æ˜¯æ­£å¸¸çš„ã€‚é€šè¿‡çŠ¶æ€ç ï¼Œæˆ‘ä»¬å¯ä»¥åˆ¤æ–­å‘é€äº†è¯·æ±‚ä¹‹åæ˜¯å¦å¾—åˆ°äº†æ­£å¸¸çš„å“åº”ã€‚</li><li>ç¬¬ä¸‰åˆ— Typeï¼šè¯·æ±‚çš„æ–‡æ¡£ç±»å‹ã€‚è¿™é‡Œä¸º xhrï¼Œæ˜¯ä¸€ç§åœ¨Webæµè§ˆå™¨ä¸­è¿›è¡Œå¼‚æ­¥æ•°æ®ä¼ è¾“çš„æŠ€æœ¯ã€‚å®ƒå…è®¸ç½‘é¡µé€šè¿‡JavaScriptå‘é€HTTPè¯·æ±‚å¹¶æ¥æ”¶æœåŠ¡å™¨è¿”å›çš„æ•°æ®ï¼Œè€Œæ— éœ€åˆ·æ–°æ•´ä¸ªé¡µé¢</li><li>ç¬¬å››åˆ— Initiatorï¼šè¯·æ±‚æºã€‚ç”¨æ¥æ ‡è®°è¯·æ±‚æ˜¯ç”±å“ªä¸ªå¯¹è±¡æˆ–è¿›ç¨‹å‘èµ·çš„ã€‚</li><li>ç¬¬äº”åˆ— Sizeï¼šä»æœåŠ¡å™¨ä¸‹è½½çš„æ–‡ä»¶å’Œè¯·æ±‚çš„èµ„æºå¤§å°ã€‚å¦‚æœæ˜¯ä»ç¼“å­˜ä¸­å–å¾—çš„èµ„æºï¼Œåˆ™è¯¥åˆ—ä¼šæ˜¾ç¤º from cacheã€‚</li><li>ç¬¬å…­åˆ— Timeï¼šå‘èµ·è¯·æ±‚åˆ°è·å–å“åº”æ‰€ç”¨çš„æ€»æ—¶é—´ã€‚</li><li>ç¬¬ä¸ƒåˆ— Waterfallï¼šç½‘ç»œè¯·æ±‚çš„å¯è§†åŒ–ç€‘å¸ƒæµã€‚</li></ul><h3 id="è¯·æ±‚"><a href="#è¯·æ±‚" class="headerlink" title="è¯·æ±‚"></a>è¯·æ±‚</h3><h4 id="è¯·æ±‚æ–¹æ³•"><a href="#è¯·æ±‚æ–¹æ³•" class="headerlink" title="è¯·æ±‚æ–¹æ³•"></a>è¯·æ±‚æ–¹æ³•</h4><ul><li><p>GET      è·å–æ•°æ®ï¼ˆè®¿é—®ç½‘å€</p></li><li><p>POST    å‘é€æ•°æ®ï¼ˆè¡¨å•æå–ã€ä¸Šä¼ æ–‡ä»¶</p></li><li><p>åŒºåˆ«</p><ul><li>GET è¯·æ±‚ä¸­çš„å‚æ•°åŒ…å«åœ¨ URL é‡Œé¢ï¼Œæ•°æ®å¯ä»¥åœ¨ URL ä¸­çœ‹åˆ°</li><li>POST è¯·æ±‚çš„ URL ä¸ä¼šåŒ…å«è¿™äº›æ•°æ®ï¼Œæ•°æ®éƒ½æ˜¯é€šè¿‡è¡¨å•å½¢å¼ä¼ è¾“çš„ï¼Œä¼šåŒ…å«åœ¨è¯·æ±‚ä½“ä¸­</li><li>GET è¯·æ±‚æäº¤çš„æ•°æ®æœ€å¤šåªæœ‰ 1024 å­—èŠ‚ï¼Œè€Œ POST æ–¹å¼æ²¡æœ‰é™åˆ¶ã€‚</li></ul></li><li><p>å…¶ä»–è¯·æ±‚æ–¹æ³•</p><table><thead><tr><th>æ–¹ã€€ã€€æ³•</th><th>æã€€ã€€è¿°</th></tr></thead><tbody><tr><td>GET</td><td>è¯·æ±‚é¡µé¢ï¼Œå¹¶è¿”å›é¡µé¢å†…å®¹</td></tr><tr><td>HEAD</td><td>ç±»ä¼¼äº GET è¯·æ±‚ï¼Œåªä¸è¿‡è¿”å›çš„å“åº”ä¸­æ²¡æœ‰å…·ä½“çš„å†…å®¹ï¼Œç”¨äºè·å–æŠ¥å¤´</td></tr><tr><td>POST</td><td>å¤§å¤šç”¨äºæäº¤è¡¨å•æˆ–ä¸Šä¼ æ–‡ä»¶ï¼Œæ•°æ®åŒ…å«åœ¨è¯·æ±‚ä½“ä¸­</td></tr><tr><td>PUT</td><td>ä»å®¢æˆ·ç«¯å‘æœåŠ¡å™¨ä¼ é€çš„æ•°æ®å–ä»£æŒ‡å®šæ–‡æ¡£ä¸­çš„å†…å®¹</td></tr><tr><td>DELETE</td><td>è¯·æ±‚æœåŠ¡å™¨åˆ é™¤æŒ‡å®šçš„é¡µé¢</td></tr><tr><td>CONNECT</td><td>æŠŠæœåŠ¡å™¨å½“ä½œè·³æ¿ï¼Œè®©æœåŠ¡å™¨ä»£æ›¿å®¢æˆ·ç«¯è®¿é—®å…¶ä»–ç½‘é¡µ</td></tr><tr><td>OPTIONS</td><td>å…è®¸å®¢æˆ·ç«¯æŸ¥çœ‹æœåŠ¡å™¨çš„æ€§èƒ½</td></tr><tr><td>TRACE</td><td>å›æ˜¾æœåŠ¡å™¨æ”¶åˆ°çš„è¯·æ±‚ï¼Œä¸»è¦ç”¨äºæµ‹è¯•æˆ–è¯Šæ–­</td></tr></tbody></table><p>æœ¬è¡¨å‚è€ƒï¼š<a href="http://www.runoob.com/http/http-methods.html">http://www.runoob.com/http/http-methods.html</a>ã€‚</p></li></ul><h4 id="è¯·æ±‚ç½‘å€"><a href="#è¯·æ±‚ç½‘å€" class="headerlink" title="è¯·æ±‚ç½‘å€"></a>è¯·æ±‚ç½‘å€</h4><p>å³ç»Ÿä¸€èµ„æºå®šä½ç¬¦ URLï¼Œå®ƒå¯ä»¥å”¯ä¸€ç¡®å®šæˆ‘ä»¬æƒ³è¯·æ±‚çš„èµ„æºã€‚</p><h4 id="è¯·æ±‚å¤´"><a href="#è¯·æ±‚å¤´" class="headerlink" title="è¯·æ±‚å¤´"></a>è¯·æ±‚å¤´</h4><p>ç”¨æ¥è¯´æ˜æœåŠ¡å™¨è¦ä½¿ç”¨çš„é™„åŠ ä¿¡æ¯ï¼Œè¯·æ±‚çš„é‡è¦ç»„æˆéƒ¨åˆ†ï¼Œåœ¨å†™çˆ¬è™«æ—¶ï¼Œå¤§éƒ¨åˆ†æƒ…å†µä¸‹éƒ½éœ€è¦è®¾å®šè¯·æ±‚å¤´ã€‚</p><ul><li>Acceptï¼šæŒ‡å®šå®¢æˆ·ç«¯å¯ä»¥æ¥å—çš„å“åº”å†…å®¹çš„ç±»å‹ã€‚æœåŠ¡å™¨å¯ä»¥æ ¹æ®è¯¥å¤´ä¿¡æ¯æ¥ç¡®å®šå‘é€ä½•ç§ç±»å‹çš„å“åº”ã€‚</li><li>Accept-Languageï¼šæŒ‡å®šå®¢æˆ·ç«¯å¯æ¥å—çš„è¯­è¨€ç±»å‹ã€‚</li><li>Accept-Encodingï¼šæŒ‡å®šå®¢æˆ·ç«¯å¯æ¥å—çš„å†…å®¹ç¼–ç ã€‚</li><li>Hostï¼šç”¨äºæŒ‡å®šè¯·æ±‚èµ„æºçš„ä¸»æœº IP å’Œç«¯å£å·ï¼Œå…¶å†…å®¹ä¸ºè¯·æ±‚ URL çš„åŸå§‹æœåŠ¡å™¨æˆ–ç½‘å…³çš„ä½ç½®ã€‚ä» HTTP 1.1 ç‰ˆæœ¬å¼€å§‹ï¼Œè¯·æ±‚å¿…é¡»åŒ…å«æ­¤å†…å®¹ã€‚</li></ul><ul><li>User-Agentï¼šå¯ä»¥ä½¿æœåŠ¡å™¨è¯†åˆ«å®¢æˆ·ä½¿ç”¨çš„æ“ä½œç³»ç»ŸåŠç‰ˆæœ¬ã€æµè§ˆå™¨åŠç‰ˆæœ¬ç­‰ä¿¡æ¯ã€‚åœ¨åšçˆ¬è™«æ—¶åŠ ä¸Šæ­¤ä¿¡æ¯ï¼Œå¯ä»¥ä¼ªè£…ä¸ºæµè§ˆå™¨ï¼›å¦‚æœä¸åŠ ï¼Œå¾ˆå¯èƒ½ä¼šè¢«è¯†åˆ«å‡ºä¸ºçˆ¬è™«ã€‚</li><li>Content-Typeï¼šæŒ‡å®šè¯·æ±‚æˆ–å“åº”ä¸­çš„ä¸»ä½“å†…å®¹çš„ç±»å‹ã€‚å¸¸è§çš„å€¼æœ‰text/plainã€text/htmlã€application/jsonç­‰ï¼Œç”¨äºæŒ‡å®šæ–‡æœ¬ã€HTMLã€JSONç­‰æ•°æ®æ ¼å¼ã€‚æ›´å¤šå¯¹åº”å…³ç³»å¯ä»¥æŸ¥çœ‹æ­¤å¯¹ç…§è¡¨ï¼š<a href="http://tool.oschina.net/commons">http://tool.oschina.net/commons</a>ã€‚</li><li>Authorizationï¼šç”¨äºåœ¨è¯·æ±‚ä¸­å‘é€èº«ä»½éªŒè¯å‡­æ®ï¼Œä¾‹å¦‚ç”¨æˆ·åå’Œå¯†ç ã€‚å¸¸ç”¨äºéœ€è¦èº«ä»½éªŒè¯çš„è¯·æ±‚ï¼Œå¦‚è®¿é—®å—ä¿æŠ¤çš„èµ„æºã€‚</li><li>Cookieï¼šä¹Ÿå¸¸ç”¨å¤æ•°å½¢å¼ Cookiesï¼Œè¿™æ˜¯ç½‘ç«™ä¸ºäº†è¾¨åˆ«ç”¨æˆ·è¿›è¡Œä¼šè¯è·Ÿè¸ªè€Œå­˜å‚¨åœ¨ç”¨æˆ·æœ¬åœ°çš„æ•°æ®ã€‚å®ƒçš„ä¸»è¦åŠŸèƒ½æ˜¯ç»´æŒå½“å‰è®¿é—®ä¼šè¯ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬è¾“å…¥ç”¨æˆ·åå’Œå¯†ç æˆåŠŸç™»å½•æŸä¸ªç½‘ç«™åï¼ŒæœåŠ¡å™¨ä¼šç”¨ä¼šè¯ä¿å­˜ç™»å½•çŠ¶æ€ä¿¡æ¯ï¼Œåé¢æˆ‘ä»¬æ¯æ¬¡åˆ·æ–°æˆ–è¯·æ±‚è¯¥ç«™ç‚¹çš„å…¶ä»–é¡µé¢æ—¶ï¼Œä¼šå‘ç°éƒ½æ˜¯ç™»å½•çŠ¶æ€ï¼Œè¿™å°±æ˜¯ Cookies çš„åŠŸåŠ³ã€‚Cookies é‡Œæœ‰ä¿¡æ¯æ ‡è¯†äº†æˆ‘ä»¬æ‰€å¯¹åº”çš„æœåŠ¡å™¨çš„ä¼šè¯ï¼Œæ¯æ¬¡æµè§ˆå™¨åœ¨è¯·æ±‚è¯¥ç«™ç‚¹çš„é¡µé¢æ—¶ï¼Œéƒ½ä¼šåœ¨è¯·æ±‚å¤´ä¸­åŠ ä¸Š Cookies å¹¶å°†å…¶å‘é€ç»™æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨é€šè¿‡ Cookies è¯†åˆ«å‡ºæ˜¯æˆ‘ä»¬è‡ªå·±ï¼Œå¹¶ä¸”æŸ¥å‡ºå½“å‰çŠ¶æ€æ˜¯ç™»å½•çŠ¶æ€ï¼Œæ‰€ä»¥è¿”å›ç»“æœå°±æ˜¯ç™»å½•ä¹‹åæ‰èƒ½çœ‹åˆ°çš„ç½‘é¡µå†…å®¹ã€‚</li><li>Locationï¼šåœ¨é‡å®šå‘å“åº”ä¸­ä½¿ç”¨ï¼ŒæŒ‡å®šæ–°çš„URLåœ°å€ï¼Œç”¨äºå°†å®¢æˆ·ç«¯é‡å®šå‘åˆ°å…¶ä»–ä½ç½®ã€‚</li><li>Cache-Controlï¼šæŒ‡å®šè¯·æ±‚æˆ–å“åº”çš„ç¼“å­˜è¡Œä¸ºï¼Œæ§åˆ¶ç¼“å­˜çš„å­˜å‚¨ã€éªŒè¯å’Œè¿‡æœŸç­‰ç­–ç•¥ã€‚</li><li>Refererï¼šæ­¤å†…å®¹ç”¨æ¥æ ‡è¯†è¿™ä¸ªè¯·æ±‚æ˜¯ä»å“ªä¸ªé¡µé¢å‘è¿‡æ¥çš„ï¼ŒæœåŠ¡å™¨å¯ä»¥æ‹¿åˆ°è¿™ä¸€ä¿¡æ¯å¹¶åšç›¸åº”çš„å¤„ç†ï¼Œå¦‚åšæ¥æºç»Ÿè®¡ã€é˜²ç›—é“¾å¤„ç†ç­‰ã€‚</li><li>Serverï¼šåœ¨æœåŠ¡å™¨çš„å“åº”ä¸­å‘é€æœåŠ¡å™¨çš„åç§°å’Œç‰ˆæœ¬ä¿¡æ¯ã€‚</li></ul><h4 id="è¯·æ±‚ä½“"><a href="#è¯·æ±‚ä½“" class="headerlink" title="è¯·æ±‚ä½“"></a>è¯·æ±‚ä½“</h4><p>ä¸€èˆ¬æ‰¿è½½çš„å†…å®¹æ˜¯ POST è¯·æ±‚ä¸­çš„è¡¨å•æ•°æ®ï¼Œå¯¹äº GET è¯·æ±‚è¯·æ±‚ä½“åˆ™ä¸ºç©ºã€‚</p><p>è¯·æ±‚ä½“çš„æ ¼å¼ï¼šè¯·æ±‚ä½“å¯ä»¥ä½¿ç”¨å¤šç§æ ¼å¼æ¥ä¼ è¾“æ•°æ®ï¼Œå¸¸è§Content-Type å’Œ POST æäº¤æ•°æ®æ–¹å¼çš„å…³ç³»åŒ…æ‹¬ï¼š</p><ul><li>è¡¨å•æ•°æ®ï¼ˆForm Dataï¼‰ï¼šä½¿ç”¨<code>application/x-www-form-urlencoded</code>æ ¼å¼ï¼Œç±»ä¼¼äºHTMLè¡¨å•çš„æ•°æ®æäº¤æ–¹å¼ã€‚</li><li>JSONæ•°æ®ï¼šä½¿ç”¨<code>application/json</code>æ ¼å¼ï¼Œå¸¸ç”¨äºå‘é€ç»“æ„åŒ–çš„æ•°æ®å¯¹è±¡ã€‚</li><li>æ–‡ä»¶ä¸Šä¼ ï¼šä½¿ç”¨<code>multipart/form-data</code>æ ¼å¼ï¼Œç”¨äºå‘é€äºŒè¿›åˆ¶æ–‡ä»¶æ•°æ®ã€‚</li><li>XMLæ•°æ®ï¼šä½¿ç”¨<code>text/xml</code>æ ¼å¼</li></ul><h3 id="å“åº”"><a href="#å“åº”" class="headerlink" title="å“åº”"></a>å“åº”</h3><h4 id="å“åº”çŠ¶æ€ç "><a href="#å“åº”çŠ¶æ€ç " class="headerlink" title="å“åº”çŠ¶æ€ç "></a>å“åº”çŠ¶æ€ç </h4><p>å¸¸è§çš„é”™è¯¯ä»£ç åŠé”™è¯¯åŸå› ã€æ„Ÿè§‰ä¸ç”¨è®°è¿™ä¹ˆå¤šï¼Œæ‰¾ä¸ªç®€ç‰ˆçš„ã€‘</p><table><thead><tr><th>çŠ¶æ€ç </th><th>è¯´ã€€ã€€æ˜</th><th>è¯¦ã€€ã€€æƒ…</th></tr></thead><tbody><tr><td>100</td><td>ç»§ç»­</td><td>è¯·æ±‚è€…åº”å½“ç»§ç»­æå‡ºè¯·æ±‚ã€‚æœåŠ¡å™¨å·²æ”¶åˆ°è¯·æ±‚çš„ä¸€éƒ¨åˆ†ï¼Œæ­£åœ¨ç­‰å¾…å…¶ä½™éƒ¨åˆ†</td></tr><tr><td>101</td><td>åˆ‡æ¢åè®®</td><td>è¯·æ±‚è€…å·²è¦æ±‚æœåŠ¡å™¨åˆ‡æ¢åè®®ï¼ŒæœåŠ¡å™¨å·²ç¡®è®¤å¹¶å‡†å¤‡åˆ‡æ¢</td></tr><tr><td>200</td><td>æˆåŠŸ</td><td>æœåŠ¡å™¨å·²æˆåŠŸå¤„ç†äº†è¯·æ±‚</td></tr><tr><td>201</td><td>å·²åˆ›å»º</td><td>è¯·æ±‚æˆåŠŸå¹¶ä¸”æœåŠ¡å™¨åˆ›å»ºäº†æ–°çš„èµ„æº</td></tr><tr><td>202</td><td>å·²æ¥å—</td><td>æœåŠ¡å™¨å·²æ¥å—è¯·æ±‚ï¼Œä½†å°šæœªå¤„ç†</td></tr><tr><td>203</td><td>éæˆæƒä¿¡æ¯</td><td>æœåŠ¡å™¨å·²æˆåŠŸå¤„ç†äº†è¯·æ±‚ï¼Œä½†è¿”å›çš„ä¿¡æ¯å¯èƒ½æ¥è‡ªå¦ä¸€ä¸ªæº</td></tr><tr><td>204</td><td>æ— å†…å®¹</td><td>æœåŠ¡å™¨æˆåŠŸå¤„ç†äº†è¯·æ±‚ï¼Œä½†æ²¡æœ‰è¿”å›ä»»ä½•å†…å®¹</td></tr><tr><td>205</td><td>é‡ç½®å†…å®¹</td><td>æœåŠ¡å™¨æˆåŠŸå¤„ç†äº†è¯·æ±‚ï¼Œå†…å®¹è¢«é‡ç½®</td></tr><tr><td>206</td><td>éƒ¨åˆ†å†…å®¹</td><td>æœåŠ¡å™¨æˆåŠŸå¤„ç†äº†éƒ¨åˆ†è¯·æ±‚</td></tr><tr><td>300</td><td>å¤šç§é€‰æ‹©</td><td>é’ˆå¯¹è¯·æ±‚ï¼ŒæœåŠ¡å™¨å¯æ‰§è¡Œå¤šç§æ“ä½œ</td></tr><tr><td>301</td><td>æ°¸ä¹…ç§»åŠ¨</td><td>è¯·æ±‚çš„ç½‘é¡µå·²æ°¸ä¹…ç§»åŠ¨åˆ°æ–°ä½ç½®ï¼Œå³æ°¸ä¹…é‡å®šå‘</td></tr><tr><td>302</td><td>ä¸´æ—¶ç§»åŠ¨</td><td>è¯·æ±‚çš„ç½‘é¡µæš‚æ—¶è·³è½¬åˆ°å…¶ä»–é¡µé¢ï¼Œå³æš‚æ—¶é‡å®šå‘</td></tr><tr><td>303</td><td>æŸ¥çœ‹å…¶ä»–ä½ç½®</td><td>å¦‚æœåŸæ¥çš„è¯·æ±‚æ˜¯ POSTï¼Œé‡å®šå‘ç›®æ ‡æ–‡æ¡£åº”è¯¥é€šè¿‡ GET æå–</td></tr><tr><td>304</td><td>æœªä¿®æ”¹</td><td>æ­¤æ¬¡è¯·æ±‚è¿”å›çš„ç½‘é¡µæœªä¿®æ”¹ï¼Œç»§ç»­ä½¿ç”¨ä¸Šæ¬¡çš„èµ„æº</td></tr><tr><td>305</td><td>ä½¿ç”¨ä»£ç†</td><td>è¯·æ±‚è€…åº”è¯¥ä½¿ç”¨ä»£ç†è®¿é—®è¯¥ç½‘é¡µ</td></tr><tr><td>307</td><td>ä¸´æ—¶é‡å®šå‘</td><td>è¯·æ±‚çš„èµ„æºä¸´æ—¶ä»å…¶ä»–ä½ç½®å“åº”</td></tr><tr><td>400</td><td>é”™è¯¯è¯·æ±‚</td><td>æœåŠ¡å™¨æ— æ³•è§£æè¯¥è¯·æ±‚</td></tr><tr><td>401</td><td>æœªæˆæƒ</td><td>è¯·æ±‚æ²¡æœ‰è¿›è¡Œèº«ä»½éªŒè¯æˆ–éªŒè¯æœªé€šè¿‡</td></tr><tr><td>403</td><td>ç¦æ­¢è®¿é—®</td><td>æœåŠ¡å™¨æ‹’ç»æ­¤è¯·æ±‚</td></tr><tr><td>404</td><td>æœªæ‰¾åˆ°</td><td>æœåŠ¡å™¨æ‰¾ä¸åˆ°è¯·æ±‚çš„ç½‘é¡µ</td></tr><tr><td>405</td><td>æ–¹æ³•ç¦ç”¨</td><td>æœåŠ¡å™¨ç¦ç”¨äº†è¯·æ±‚ä¸­æŒ‡å®šçš„æ–¹æ³•</td></tr><tr><td>406</td><td>ä¸æ¥å—</td><td>æ— æ³•ä½¿ç”¨è¯·æ±‚çš„å†…å®¹å“åº”è¯·æ±‚çš„ç½‘é¡µ</td></tr><tr><td>407</td><td>éœ€è¦ä»£ç†æˆæƒ</td><td>è¯·æ±‚è€…éœ€è¦ä½¿ç”¨ä»£ç†æˆæƒ</td></tr><tr><td>408</td><td>è¯·æ±‚è¶…æ—¶</td><td>æœåŠ¡å™¨è¯·æ±‚è¶…æ—¶</td></tr><tr><td>409</td><td>å†²çª</td><td>æœåŠ¡å™¨åœ¨å®Œæˆè¯·æ±‚æ—¶å‘ç”Ÿå†²çª</td></tr><tr><td>410</td><td>å·²åˆ é™¤</td><td>è¯·æ±‚çš„èµ„æºå·²æ°¸ä¹…åˆ é™¤</td></tr><tr><td>411</td><td>éœ€è¦æœ‰æ•ˆé•¿åº¦</td><td>æœåŠ¡å™¨ä¸æ¥å—ä¸å«æœ‰æ•ˆå†…å®¹é•¿åº¦æ ‡å¤´å­—æ®µçš„è¯·æ±‚</td></tr><tr><td>412</td><td>æœªæ»¡è¶³å‰ææ¡ä»¶</td><td>æœåŠ¡å™¨æœªæ»¡è¶³è¯·æ±‚è€…åœ¨è¯·æ±‚ä¸­è®¾ç½®çš„å…¶ä¸­ä¸€ä¸ªå‰ææ¡ä»¶</td></tr><tr><td>413</td><td>è¯·æ±‚å®ä½“è¿‡å¤§</td><td>è¯·æ±‚å®ä½“è¿‡å¤§ï¼Œè¶…å‡ºæœåŠ¡å™¨çš„å¤„ç†èƒ½åŠ›</td></tr><tr><td>414</td><td>è¯·æ±‚ URI è¿‡é•¿</td><td>è¯·æ±‚ç½‘å€è¿‡é•¿ï¼ŒæœåŠ¡å™¨æ— æ³•å¤„ç†</td></tr><tr><td>415</td><td>ä¸æ”¯æŒç±»å‹</td><td>è¯·æ±‚æ ¼å¼ä¸è¢«è¯·æ±‚é¡µé¢æ”¯æŒ</td></tr><tr><td>416</td><td>è¯·æ±‚èŒƒå›´ä¸ç¬¦</td><td>é¡µé¢æ— æ³•æä¾›è¯·æ±‚çš„èŒƒå›´</td></tr><tr><td>417</td><td>æœªæ»¡è¶³æœŸæœ›å€¼</td><td>æœåŠ¡å™¨æœªæ»¡è¶³æœŸæœ›è¯·æ±‚æ ‡å¤´å­—æ®µçš„è¦æ±‚</td></tr><tr><td>500</td><td>æœåŠ¡å™¨å†…éƒ¨é”™è¯¯</td><td>æœåŠ¡å™¨é‡åˆ°é”™è¯¯ï¼Œæ— æ³•å®Œæˆè¯·æ±‚</td></tr><tr><td>501</td><td>æœªå®ç°</td><td>æœåŠ¡å™¨ä¸å…·å¤‡å®Œæˆè¯·æ±‚çš„åŠŸèƒ½</td></tr><tr><td>502</td><td>é”™è¯¯ç½‘å…³</td><td>æœåŠ¡å™¨ä½œä¸ºç½‘å…³æˆ–ä»£ç†ï¼Œä»ä¸Šæ¸¸æœåŠ¡å™¨æ”¶åˆ°æ— æ•ˆå“åº”</td></tr><tr><td>503</td><td>æœåŠ¡ä¸å¯ç”¨</td><td>æœåŠ¡å™¨ç›®å‰æ— æ³•ä½¿ç”¨</td></tr><tr><td>504</td><td>ç½‘å…³è¶…æ—¶</td><td>æœåŠ¡å™¨ä½œä¸ºç½‘å…³æˆ–ä»£ç†ï¼Œä½†æ˜¯æ²¡æœ‰åŠæ—¶ä»ä¸Šæ¸¸æœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚</td></tr><tr><td>505</td><td>HTTP ç‰ˆæœ¬ä¸æ”¯æŒ</td><td>æœåŠ¡å™¨ä¸æ”¯æŒè¯·æ±‚ä¸­æ‰€ç”¨çš„ HTTP åè®®ç‰ˆæœ¬</td></tr></tbody></table><h4 id="å“åº”å¤´"><a href="#å“åº”å¤´" class="headerlink" title="å“åº”å¤´"></a>å“åº”å¤´</h4><p>ç®€è¦è¯´æ˜ä¸€äº›å¸¸ç”¨çš„å¤´ä¿¡æ¯ã€‚</p><ul><li>Dateï¼šæ ‡è¯†å“åº”äº§ç”Ÿçš„æ—¶é—´ã€‚</li><li>Last-Modifiedï¼šæŒ‡å®šèµ„æºçš„æœ€åä¿®æ”¹æ—¶é—´ã€‚</li><li>Content-Encodingï¼šæŒ‡å®šå“åº”å†…å®¹çš„ç¼–ç ã€‚</li><li>Serverï¼šåŒ…å«æœåŠ¡å™¨çš„ä¿¡æ¯ï¼Œæ¯”å¦‚åç§°ã€ç‰ˆæœ¬å·ç­‰ã€‚</li><li>Content-Typeï¼šæ–‡æ¡£ç±»å‹ï¼ŒæŒ‡å®šè¿”å›çš„æ•°æ®ç±»å‹æ˜¯ä»€ä¹ˆï¼Œå¦‚ text/html ä»£è¡¨è¿”å› HTML æ–‡æ¡£ï¼Œapplication/x-javascript åˆ™ä»£è¡¨è¿”å› JavaScript æ–‡ä»¶ï¼Œimage/jpeg åˆ™ä»£è¡¨è¿”å›å›¾ç‰‡ã€‚</li><li>Set-Cookieï¼šè®¾ç½® Cookiesã€‚å“åº”å¤´ä¸­çš„ Set-Cookie å‘Šè¯‰æµè§ˆå™¨éœ€è¦å°†æ­¤å†…å®¹æ”¾åœ¨ Cookies ä¸­ï¼Œä¸‹æ¬¡è¯·æ±‚æºå¸¦ Cookies è¯·æ±‚ã€‚</li><li>Expiresï¼šæŒ‡å®šå“åº”çš„è¿‡æœŸæ—¶é—´ï¼Œå¯ä»¥ä½¿ä»£ç†æœåŠ¡å™¨æˆ–æµè§ˆå™¨å°†åŠ è½½çš„å†…å®¹æ›´æ–°åˆ°ç¼“å­˜ä¸­ã€‚å¦‚æœå†æ¬¡è®¿é—®æ—¶ï¼Œå°±å¯ä»¥ç›´æ¥ä»ç¼“å­˜ä¸­åŠ è½½ï¼Œé™ä½æœåŠ¡å™¨è´Ÿè½½ï¼Œç¼©çŸ­åŠ è½½æ—¶é—´ã€‚</li></ul><h4 id="å“åº”ä½“"><a href="#å“åº”ä½“" class="headerlink" title="å“åº”ä½“"></a>å“åº”ä½“</h4><p>ç½‘é¡µçš„æºä»£ç ï¼Œä¹Ÿå°±æ˜¯å“åº”ä½“çš„å†…å®¹ï¼Œå®ƒæ˜¯è§£æçš„ç›®æ ‡</p><h2 id="Webç½‘é¡µåŸºç¡€"><a href="#Webç½‘é¡µåŸºç¡€" class="headerlink" title="Webç½‘é¡µåŸºç¡€"></a>Webç½‘é¡µåŸºç¡€</h2><h3 id="ç½‘é¡µçš„ç»„æˆ"><a href="#ç½‘é¡µçš„ç»„æˆ" class="headerlink" title="ç½‘é¡µçš„ç»„æˆ"></a>ç½‘é¡µçš„ç»„æˆ</h3><ul><li>HTML</li><li>CSS</li><li>JavaScript</li></ul><h3 id="ç½‘é¡µçš„ç»“æ„"><a href="#ç½‘é¡µçš„ç»“æ„" class="headerlink" title="ç½‘é¡µçš„ç»“æ„"></a>ç½‘é¡µçš„ç»“æ„</h3><p>å°±æ˜¯HTMLçš„ç»“æ„å•¦</p><p><code>&lt;html&gt; </code> â€“<code>&lt;head&gt;</code> â€“<code>&lt;title&gt;</code>   â€¦â€¦</p><h3 id="èŠ‚ç‚¹æ ‘åŠèŠ‚ç‚¹é—´çš„å…³ç³»"><a href="#èŠ‚ç‚¹æ ‘åŠèŠ‚ç‚¹é—´çš„å…³ç³»" class="headerlink" title="èŠ‚ç‚¹æ ‘åŠèŠ‚ç‚¹é—´çš„å…³ç³»"></a>èŠ‚ç‚¹æ ‘åŠèŠ‚ç‚¹é—´çš„å…³ç³»</h3><p>é€šè¿‡ HTML DOMï¼ˆé’ˆå¯¹ HTML æ–‡æ¡£çš„æ ‡å‡†æ¨¡å‹ï¼‰ï¼Œæ ‘ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹å‡å¯é€šè¿‡ JavaScript è®¿é—®ï¼Œæ‰€æœ‰ HTML èŠ‚ç‚¹å…ƒç´ å‡å¯è¢«ä¿®æ”¹ï¼Œä¹Ÿå¯ä»¥è¢«åˆ›å»ºæˆ–åˆ é™¤ã€‚</p><p>èŠ‚ç‚¹æ ‘<br><img src="/%E7%AC%94%E8%AE%B0.assets/image-20230610150803831.png" alt="image-20230610150803831"></p><p>èŠ‚ç‚¹æ ‘åŠèŠ‚ç‚¹é—´çš„å…³ç³»<br><img src="/%E7%AC%94%E8%AE%B0.assets/image-20230610150819021.png" alt="image-20230610150819021"></p><h3 id="é€‰æ‹©å™¨"><a href="#é€‰æ‹©å™¨" class="headerlink" title="é€‰æ‹©å™¨"></a>é€‰æ‹©å™¨</h3><p>åœ¨ CSS ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ CSS é€‰æ‹©å™¨æ¥å®šä½èŠ‚ç‚¹</p><p>CSS é€‰æ‹©å™¨çš„å…¶ä»–è¯­æ³•è§„åˆ™</p><table><thead><tr><th>é€‰ã€€æ‹©ã€€å™¨</th><th>ä¾‹ã€€ã€€å­</th><th>ä¾‹å­æè¿°</th></tr></thead><tbody><tr><td>.class</td><td>.intro</td><td>é€‰æ‹© class=â€introâ€ çš„æ‰€æœ‰èŠ‚ç‚¹</td></tr><tr><td>#id</td><td>#firstname</td><td>é€‰æ‹© id=â€firstnameâ€ çš„æ‰€æœ‰èŠ‚ç‚¹</td></tr><tr><td>*</td><td>*</td><td>é€‰æ‹©æ‰€æœ‰èŠ‚ç‚¹</td></tr><tr><td>element</td><td>p</td><td>é€‰æ‹©æ‰€æœ‰ p èŠ‚ç‚¹</td></tr><tr><td>element,element</td><td>div,p</td><td>é€‰æ‹©æ‰€æœ‰ div èŠ‚ç‚¹å’Œæ‰€æœ‰ p èŠ‚ç‚¹</td></tr><tr><td>element element</td><td>div p</td><td>é€‰æ‹© div èŠ‚ç‚¹å†…éƒ¨çš„æ‰€æœ‰ p èŠ‚ç‚¹</td></tr><tr><td>element&gt;element</td><td>div&gt;p</td><td>é€‰æ‹©çˆ¶èŠ‚ç‚¹ä¸º div èŠ‚ç‚¹çš„æ‰€æœ‰ p èŠ‚ç‚¹</td></tr><tr><td>element+element</td><td>div+p</td><td>é€‰æ‹©ç´§æ¥åœ¨ div èŠ‚ç‚¹ä¹‹åçš„æ‰€æœ‰ p èŠ‚ç‚¹</td></tr><tr><td>[attribute]</td><td>[target]</td><td>é€‰æ‹©å¸¦æœ‰ target å±æ€§çš„æ‰€æœ‰èŠ‚ç‚¹</td></tr><tr><td>[attribute=value]</td><td>[target=blank]</td><td>é€‰æ‹© target=â€blankâ€ çš„æ‰€æœ‰èŠ‚ç‚¹</td></tr><tr><td>[attribute~=value]</td><td>[title~=flower]</td><td>é€‰æ‹© title å±æ€§åŒ…å«å•è¯ flower çš„æ‰€æœ‰èŠ‚ç‚¹</td></tr><tr><td>:link</td><td>a:link</td><td>é€‰æ‹©æ‰€æœ‰æœªè¢«è®¿é—®çš„é“¾æ¥</td></tr><tr><td>:visited</td><td>a:visited</td><td>é€‰æ‹©æ‰€æœ‰å·²è¢«è®¿é—®çš„é“¾æ¥</td></tr><tr><td>:active</td><td>a:active</td><td>é€‰æ‹©æ´»åŠ¨é“¾æ¥</td></tr><tr><td>:hover</td><td>a:hover</td><td>é€‰æ‹©é¼ æ ‡æŒ‡é’ˆä½äºå…¶ä¸Šçš„é“¾æ¥</td></tr><tr><td>:focus</td><td>input:focus</td><td>é€‰æ‹©è·å¾—ç„¦ç‚¹çš„ input èŠ‚ç‚¹</td></tr><tr><td>:first-letter</td><td>p:first-letter</td><td>é€‰æ‹©æ¯ä¸ª p èŠ‚ç‚¹çš„é¦–å­—æ¯</td></tr><tr><td>:first-line</td><td>p:first-line</td><td>é€‰æ‹©æ¯ä¸ª p èŠ‚ç‚¹çš„é¦–è¡Œ</td></tr><tr><td>:first-child</td><td>p:first-child</td><td>é€‰æ‹©å±äºçˆ¶èŠ‚ç‚¹çš„ç¬¬ä¸€ä¸ªå­èŠ‚ç‚¹çš„æ‰€æœ‰ p èŠ‚ç‚¹</td></tr><tr><td>:before</td><td>p:before</td><td>åœ¨æ¯ä¸ª p èŠ‚ç‚¹çš„å†…å®¹ä¹‹å‰æ’å…¥å†…å®¹</td></tr><tr><td>:after</td><td>p:after</td><td>åœ¨æ¯ä¸ª p èŠ‚ç‚¹çš„å†…å®¹ä¹‹åæ’å…¥å†…å®¹</td></tr><tr><td>:lang(language)</td><td>p:lang</td><td>é€‰æ‹©å¸¦æœ‰ä»¥ it å¼€å¤´çš„ lang å±æ€§å€¼çš„æ‰€æœ‰ p èŠ‚ç‚¹</td></tr><tr><td>element1~element2</td><td>p~ul</td><td>é€‰æ‹©å‰é¢æœ‰ p èŠ‚ç‚¹çš„æ‰€æœ‰ ul èŠ‚ç‚¹</td></tr><tr><td>[attribute^=value]</td><td>a[src^=â€httpsâ€]</td><td>é€‰æ‹©å…¶ src å±æ€§å€¼ä»¥ https å¼€å¤´çš„æ‰€æœ‰ a èŠ‚ç‚¹</td></tr><tr><td>[attribute$=value]</td><td>a[src$=â€.pdfâ€]</td><td>é€‰æ‹©å…¶ src å±æ€§ä»¥.pdf ç»“å°¾çš„æ‰€æœ‰ a èŠ‚ç‚¹</td></tr><tr><td>[attribute*=value]</td><td>a[src*=â€abcâ€]</td><td>é€‰æ‹©å…¶ src å±æ€§ä¸­åŒ…å« abc å­ä¸²çš„æ‰€æœ‰ a èŠ‚ç‚¹</td></tr><tr><td>:first-of-type</td><td>p:first-of-type</td><td>é€‰æ‹©å±äºå…¶çˆ¶èŠ‚ç‚¹çš„é¦–ä¸ª p èŠ‚ç‚¹çš„æ‰€æœ‰ p èŠ‚ç‚¹</td></tr><tr><td>:last-of-type</td><td>p:last-of-type</td><td>é€‰æ‹©å±äºå…¶çˆ¶èŠ‚ç‚¹çš„æœ€å p èŠ‚ç‚¹çš„æ‰€æœ‰ p èŠ‚ç‚¹</td></tr><tr><td>:only-of-type</td><td>p:only-of-type</td><td>é€‰æ‹©å±äºå…¶çˆ¶èŠ‚ç‚¹å”¯ä¸€çš„ p èŠ‚ç‚¹çš„æ‰€æœ‰ p èŠ‚ç‚¹</td></tr><tr><td>:only-child</td><td>p:only-child</td><td>é€‰æ‹©å±äºå…¶çˆ¶èŠ‚ç‚¹çš„å”¯ä¸€å­èŠ‚ç‚¹çš„æ‰€æœ‰ p èŠ‚ç‚¹</td></tr><tr><td>:nth-child(n)</td><td>p:nth-child</td><td>é€‰æ‹©å±äºå…¶çˆ¶èŠ‚ç‚¹çš„ç¬¬äºŒä¸ªå­èŠ‚ç‚¹çš„æ‰€æœ‰ p èŠ‚ç‚¹</td></tr><tr><td>:nth-last-child(n)</td><td>p:nth-last-child</td><td>åŒä¸Šï¼Œä»æœ€åä¸€ä¸ªå­èŠ‚ç‚¹å¼€å§‹è®¡æ•°</td></tr><tr><td>:nth-of-type(n)</td><td>p:nth-of-type</td><td>é€‰æ‹©å±äºå…¶çˆ¶èŠ‚ç‚¹ç¬¬äºŒä¸ª p èŠ‚ç‚¹çš„æ‰€æœ‰ p èŠ‚ç‚¹</td></tr><tr><td>:nth-last-of-type(n)</td><td>p:nth-last-of-type</td><td>åŒä¸Šï¼Œä½†æ˜¯ä»æœ€åä¸€ä¸ªå­èŠ‚ç‚¹å¼€å§‹è®¡æ•°</td></tr><tr><td>:last-child</td><td>p:last-child</td><td>é€‰æ‹©å±äºå…¶çˆ¶èŠ‚ç‚¹æœ€åä¸€ä¸ªå­èŠ‚ç‚¹çš„æ‰€æœ‰ p èŠ‚ç‚¹</td></tr><tr><td>:root</td><td>:root</td><td>é€‰æ‹©æ–‡æ¡£çš„æ ¹èŠ‚ç‚¹</td></tr><tr><td>:empty</td><td>p:empty</td><td>é€‰æ‹©æ²¡æœ‰å­èŠ‚ç‚¹çš„æ‰€æœ‰ p èŠ‚ç‚¹ï¼ˆåŒ…æ‹¬æ–‡æœ¬èŠ‚ç‚¹ï¼‰</td></tr><tr><td>:target</td><td>#news:target</td><td>é€‰æ‹©å½“å‰æ´»åŠ¨çš„ #news èŠ‚ç‚¹</td></tr><tr><td>:enabled</td><td>input:enabled</td><td>é€‰æ‹©æ¯ä¸ªå¯ç”¨çš„ input èŠ‚ç‚¹</td></tr><tr><td>:disabled</td><td>input:disabled</td><td>é€‰æ‹©æ¯ä¸ªç¦ç”¨çš„ input èŠ‚ç‚¹</td></tr><tr><td>:checked</td><td>input:checked</td><td>é€‰æ‹©æ¯ä¸ªè¢«é€‰ä¸­çš„ input èŠ‚ç‚¹</td></tr><tr><td>:not(selector)</td><td>:not</td><td>é€‰æ‹©é p èŠ‚ç‚¹çš„æ‰€æœ‰èŠ‚ç‚¹</td></tr><tr><td>::selection</td><td>::selection</td><td>é€‰æ‹©è¢«ç”¨æˆ·é€‰å–çš„èŠ‚ç‚¹éƒ¨åˆ†</td></tr></tbody></table><h2 id="çˆ¬è™«çš„åŸºæœ¬åŸç†"><a href="#çˆ¬è™«çš„åŸºæœ¬åŸç†" class="headerlink" title="çˆ¬è™«çš„åŸºæœ¬åŸç†"></a>çˆ¬è™«çš„åŸºæœ¬åŸç†</h2><h3 id="çˆ¬è™«æ¦‚è¿°"><a href="#çˆ¬è™«æ¦‚è¿°" class="headerlink" title="çˆ¬è™«æ¦‚è¿°"></a>çˆ¬è™«æ¦‚è¿°</h3><p>è·å–ç½‘é¡µæºä»£ç  â€“ åˆ†æç½‘é¡µæºä»£ç  â€“æ•°æ®ä¿å­˜</p><h4 id="è·å–ç½‘é¡µ"><a href="#è·å–ç½‘é¡µ" class="headerlink" title="è·å–ç½‘é¡µ"></a>è·å–ç½‘é¡µ</h4><p>å‘ç½‘ç«™çš„æœåŠ¡å™¨å‘é€ä¸€ä¸ªè¯·æ±‚(urllibã€requests )â€“&gt;è¿”å›çš„å“åº”ä½“ä¾¿æ˜¯ç½‘é¡µæºä»£ç (è§£æBody)</p><h4 id="æå–ä¿¡æ¯"><a href="#æå–ä¿¡æ¯" class="headerlink" title="æå–ä¿¡æ¯"></a>æå–ä¿¡æ¯</h4><p>é‡‡ç”¨æ­£åˆ™è¡¨è¾¾å¼æå–(ä¸‡èƒ½butæ¯”è¾ƒå¤æ‚ä¸”å®¹æ˜“å‡ºé”™)</p><p>æ ¹æ®ç½‘é¡µèŠ‚ç‚¹å±æ€§ã€CSS é€‰æ‹©å™¨æˆ– XPath æ¥æå–(Beautiful Soupã€pyqueryã€lxml )</p><h4 id="ä¿å­˜æ•°æ®"><a href="#ä¿å­˜æ•°æ®" class="headerlink" title="ä¿å­˜æ•°æ®"></a>ä¿å­˜æ•°æ®</h4><p>å¯ä»¥ç®€å•ä¿å­˜ä¸º TXT æ–‡æœ¬æˆ– JSON æ–‡æœ¬</p><p>ä¹Ÿå¯ä»¥ä¿å­˜åˆ°æ•°æ®åº“ï¼Œå¦‚ MySQL å’Œ MongoDB ç­‰</p><p>ä¹Ÿå¯ä¿å­˜è‡³è¿œç¨‹æœåŠ¡å™¨ï¼Œå¦‚å€ŸåŠ© SFTP è¿›è¡Œæ“ä½œç­‰</p><h4 id="è‡ªåŠ¨åŒ–ç¨‹åº"><a href="#è‡ªåŠ¨åŒ–ç¨‹åº" class="headerlink" title="è‡ªåŠ¨åŒ–ç¨‹åº"></a>è‡ªåŠ¨åŒ–ç¨‹åº</h4><p>åœ¨æŠ“å–è¿‡ç¨‹ä¸­è¿›è¡Œå„ç§å¼‚å¸¸å¤„ç†ã€é”™è¯¯é‡è¯•ç­‰æ“ä½œï¼Œç¡®ä¿çˆ¬å–æŒç»­é«˜æ•ˆåœ°è¿è¡Œ</p><h3 id="èƒ½æŠ“æ€æ ·çš„æ•°æ®"><a href="#èƒ½æŠ“æ€æ ·çš„æ•°æ®" class="headerlink" title="èƒ½æŠ“æ€æ ·çš„æ•°æ®"></a>èƒ½æŠ“æ€æ ·çš„æ•°æ®</h3><p>HTML æºä»£ç  â€“å¸¸è§„ç½‘é¡µ</p><p>JSON å­—ç¬¦ä¸²â€“ API æ¥å£</p><p>äºŒè¿›åˆ¶æ•°æ®â€“å›¾ç‰‡ã€è§†é¢‘å’ŒéŸ³é¢‘ç­‰</p><p>å„ç§æ‰©å±•åçš„æ–‡ä»¶</p><h3 id="JavaScript-æ¸²æŸ“é¡µé¢"><a href="#JavaScript-æ¸²æŸ“é¡µé¢" class="headerlink" title="JavaScript æ¸²æŸ“é¡µé¢"></a>JavaScript æ¸²æŸ“é¡µé¢</h3><p>JavaScript åˆ™ä¼šæ”¹å˜ HTML ä¸­çš„èŠ‚ç‚¹ï¼Œå‘å…¶æ·»åŠ å†…å®¹ï¼Œæœ€åå¾—åˆ°å®Œæ•´çš„é¡µé¢</p><p>ä½†æ˜¯åœ¨ç”¨ urllib æˆ– requests ç­‰åº“è¯·æ±‚å½“å‰é¡µé¢æ—¶ï¼Œæˆ‘ä»¬å¾—åˆ°çš„åªæ˜¯è¿™ä¸ª HTML ä»£ç ï¼Œå®ƒä¸ä¼šå¸®åŠ©æˆ‘ä»¬å»ç»§ç»­åŠ è½½è¿™ä¸ª JavaScript æ–‡ä»¶ï¼Œè¿™æ ·ä¹Ÿå°±çœ‹ä¸åˆ°æµè§ˆå™¨ä¸­çš„å†…å®¹äº†</p><p>å› æ­¤ï¼Œä½¿ç”¨åŸºæœ¬ HTTP è¯·æ±‚åº“å¾—åˆ°çš„æºä»£ç å¯èƒ½è·Ÿæµè§ˆå™¨ä¸­çš„é¡µé¢æºä»£ç ä¸å¤ªä¸€æ ·ã€‚å¯¹äºè¿™æ ·çš„æƒ…å†µï¼Œæˆ‘ä»¬å¯ä»¥åˆ†æå…¶åå° Ajax æ¥å£ï¼Œä¹Ÿå¯ä½¿ç”¨ Seleniumã€Splash è¿™æ ·çš„åº“æ¥å®ç°æ¨¡æ‹Ÿ JavaScript æ¸²æŸ“</p><h2 id="ä¼šè¯å’Œ-Cookies"><a href="#ä¼šè¯å’Œ-Cookies" class="headerlink" title="ä¼šè¯å’Œ Cookies"></a>ä¼šè¯å’Œ Cookies</h2><h3 id="é™æ€ç½‘é¡µå’ŒåŠ¨æ€ç½‘é¡µ"><a href="#é™æ€ç½‘é¡µå’ŒåŠ¨æ€ç½‘é¡µ" class="headerlink" title="é™æ€ç½‘é¡µå’ŒåŠ¨æ€ç½‘é¡µ"></a>é™æ€ç½‘é¡µå’ŒåŠ¨æ€ç½‘é¡µ</h3><p>é™æ€ç½‘é¡µï¼šè¿™ç§ç½‘é¡µçš„å†…å®¹æ˜¯ HTML ä»£ç ç¼–å†™çš„ï¼Œæ–‡å­—ã€å›¾ç‰‡ç­‰å†…å®¹å‡é€šè¿‡å†™å¥½çš„ HTML ä»£ç æ¥æŒ‡å®šã€‚å®ƒåŠ è½½é€Ÿåº¦å¿«ï¼Œç¼–å†™ç®€å•ï¼Œä½†æ˜¯å­˜åœ¨å¾ˆå¤§çš„ç¼ºé™·ï¼Œå¦‚å¯ç»´æŠ¤æ€§å·®ï¼Œä¸èƒ½æ ¹æ® URL çµæ´»å¤šå˜åœ°æ˜¾ç¤ºå†…å®¹ç­‰ã€‚</p><p>åŠ¨æ€ç½‘é¡µï¼šå¯ä»¥åŠ¨æ€è§£æ URL ä¸­å‚æ•°çš„å˜åŒ–ï¼Œå…³è”æ•°æ®åº“å¹¶åŠ¨æ€å‘ˆç°ä¸åŒçš„é¡µé¢å†…å®¹ï¼Œéå¸¸çµæ´»å¤šå˜ã€‚æˆ‘ä»¬ç°åœ¨é‡åˆ°çš„å¤§å¤šæ•°ç½‘ç«™éƒ½æ˜¯åŠ¨æ€ç½‘ç«™ï¼Œå®ƒä»¬ä¸å†æ˜¯ä¸€ä¸ªç®€å•çš„ HTMLï¼Œè€Œæ˜¯å¯èƒ½ç”± JSPã€PHPã€Python ç­‰è¯­è¨€ç¼–å†™çš„ï¼Œå…¶åŠŸèƒ½æ¯”é™æ€ç½‘é¡µå¼ºå¤§å’Œä¸°å¯Œå¤ªå¤šäº†</p><h3 id="æ— çŠ¶æ€HTTP"><a href="#æ— çŠ¶æ€HTTP" class="headerlink" title="æ— çŠ¶æ€HTTP"></a>æ— çŠ¶æ€HTTP</h3><p> æŒ‡HTTP åè®®å¯¹äº‹åŠ¡å¤„ç†æ˜¯æ²¡æœ‰è®°å¿†èƒ½åŠ›çš„ï¼Œä¹Ÿå°±æ˜¯è¯´æœåŠ¡å™¨ä¸çŸ¥é“å®¢æˆ·ç«¯æ˜¯ä»€ä¹ˆçŠ¶æ€</p><h4 id="ä¼šè¯"><a href="#ä¼šè¯" class="headerlink" title="ä¼šè¯"></a>ä¼šè¯</h4><p>ä¼šè¯åœ¨æœåŠ¡ç«¯ï¼Œä¹Ÿå°±æ˜¯ç½‘ç«™çš„æœåŠ¡å™¨ï¼Œç”¨æ¥ä¿å­˜ç”¨æˆ·çš„ä¼šè¯ä¿¡æ¯</p><p>ä¼šè¯å¯¹è±¡ç”¨æ¥å­˜å‚¨ç‰¹å®šç”¨æˆ·ä¼šè¯æ‰€éœ€çš„å±æ€§åŠé…ç½®ä¿¡æ¯ã€‚è¿™æ ·ï¼Œå½“ç”¨æˆ·åœ¨åº”ç”¨ç¨‹åºçš„ Web é¡µä¹‹é—´è·³è½¬æ—¶ï¼Œå­˜å‚¨åœ¨ä¼šè¯å¯¹è±¡ä¸­çš„å˜é‡å°†ä¸ä¼šä¸¢å¤±ï¼Œè€Œæ˜¯åœ¨æ•´ä¸ªç”¨æˆ·ä¼šè¯ä¸­ä¸€ç›´å­˜åœ¨ä¸‹å»ã€‚</p><h4 id="Cookie"><a href="#Cookie" class="headerlink" title="Cookie"></a>Cookie</h4><p>æŒ‡æŸäº›ç½‘ç«™ä¸ºäº†è¾¨åˆ«ç”¨æˆ·èº«ä»½ã€è¿›è¡Œä¼šè¯è·Ÿè¸ªè€Œå­˜å‚¨åœ¨ç”¨æˆ·æœ¬åœ°ç»ˆç«¯ä¸Šçš„æ•°æ®</p><p>Cookies åœ¨å®¢æˆ·ç«¯ï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸ºæµè§ˆå™¨ç«¯ï¼Œæœ‰äº† Cookiesï¼Œæµè§ˆå™¨åœ¨ä¸‹æ¬¡è®¿é—®ç½‘é¡µæ—¶ä¼šè‡ªåŠ¨é™„å¸¦ä¸Šå®ƒå‘é€ç»™æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨é€šè¿‡è¯†åˆ« Cookies å¹¶é‰´å®šå‡ºæ˜¯å“ªä¸ªç”¨æˆ·ï¼Œç„¶åå†åˆ¤æ–­ç”¨æˆ·æ˜¯å¦æ˜¯ç™»å½•çŠ¶æ€ï¼Œç„¶åè¿”å›å¯¹åº”çš„å“åº”ã€‚</p><p>Cookieå±æ€§</p><ul><li>Nameï¼Œå³è¯¥ Cookie çš„åç§°ã€‚Cookie ä¸€æ—¦åˆ›å»ºï¼Œåç§°ä¾¿ä¸å¯æ›´æ”¹</li><li>Valueï¼Œå³è¯¥ Cookie çš„å€¼ã€‚å¦‚æœå€¼ä¸º Unicode å­—ç¬¦ï¼Œéœ€è¦ä¸ºå­—ç¬¦ç¼–ç ã€‚å¦‚æœå€¼ä¸ºäºŒè¿›åˆ¶æ•°æ®ï¼Œåˆ™éœ€è¦ä½¿ç”¨ BASE64 ç¼–ç ã€‚</li><li>Max Ageï¼Œå³è¯¥ Cookie å¤±æ•ˆçš„æ—¶é—´ï¼Œå•ä½ç§’ï¼Œä¹Ÿå¸¸å’Œ Expires ä¸€èµ·ä½¿ç”¨ï¼Œé€šè¿‡å®ƒå¯ä»¥è®¡ç®—å‡ºå…¶æœ‰æ•ˆæ—¶é—´ã€‚Max Age å¦‚æœä¸ºæ­£æ•°ï¼Œåˆ™è¯¥ Cookie åœ¨ Max Age ç§’ä¹‹åå¤±æ•ˆã€‚å¦‚æœä¸ºè´Ÿæ•°ï¼Œåˆ™å…³é—­æµè§ˆå™¨æ—¶ Cookie å³å¤±æ•ˆï¼Œæµè§ˆå™¨ä¹Ÿä¸ä¼šä»¥ä»»ä½•å½¢å¼ä¿å­˜è¯¥ Cookieã€‚</li><li>Pathï¼Œå³è¯¥ Cookie çš„ä½¿ç”¨è·¯å¾„ã€‚å¦‚æœè®¾ç½®ä¸º /path/ï¼Œåˆ™åªæœ‰è·¯å¾„ä¸º /path/ çš„é¡µé¢å¯ä»¥è®¿é—®è¯¥ Cookieã€‚å¦‚æœè®¾ç½®ä¸º /ï¼Œåˆ™æœ¬åŸŸåä¸‹çš„æ‰€æœ‰é¡µé¢éƒ½å¯ä»¥è®¿é—®è¯¥ Cookieã€‚</li><li>Domainï¼Œå³å¯ä»¥è®¿é—®è¯¥ Cookie çš„åŸŸåã€‚ä¾‹å¦‚å¦‚æœè®¾ç½®ä¸º .zhihu.comï¼Œåˆ™æ‰€æœ‰ä»¥ zhihu.comï¼Œç»“å°¾çš„åŸŸåéƒ½å¯ä»¥è®¿é—®è¯¥ Cookieã€‚</li><li>Size å­—æ®µï¼Œå³æ­¤ Cookie çš„å¤§å°ã€‚</li><li>Http å­—æ®µï¼Œå³ Cookie çš„ httponly å±æ€§ã€‚è‹¥æ­¤å±æ€§ä¸º trueï¼Œåˆ™åªæœ‰åœ¨ HTTP Headers ä¸­ä¼šå¸¦æœ‰æ­¤ Cookie çš„ä¿¡æ¯ï¼Œè€Œä¸èƒ½é€šè¿‡ document.cookie æ¥è®¿é—®æ­¤ Cookieã€‚</li><li>Secureï¼Œå³è¯¥ Cookie æ˜¯å¦ä»…è¢«ä½¿ç”¨å®‰å…¨åè®®ä¼ è¾“ã€‚å®‰å…¨åè®®ã€‚å®‰å…¨åè®®æœ‰ HTTPSï¼ŒSSL ç­‰ï¼Œåœ¨ç½‘ç»œä¸Šä¼ è¾“æ•°æ®ä¹‹å‰å…ˆå°†æ•°æ®åŠ å¯†ã€‚é»˜è®¤ä¸º falseã€‚</li></ul><p>ä¼šè¯ Cookie å°±æ˜¯æŠŠ Cookie æ”¾åœ¨æµè§ˆå™¨å†…å­˜é‡Œï¼Œæµè§ˆå™¨åœ¨å…³é—­ä¹‹åè¯¥ Cookie å³å¤±æ•ˆ</p><p>æŒä¹… Cookie åˆ™ä¼šä¿å­˜åˆ°å®¢æˆ·ç«¯çš„ç¡¬ç›˜ä¸­ï¼Œä¸‹æ¬¡è¿˜å¯ä»¥ç»§ç»­ä½¿ç”¨ï¼Œç”¨äºé•¿ä¹…ä¿æŒç”¨æˆ·ç™»å½•çŠ¶æ€ã€‚</p><h2 id="ä»£ç†"><a href="#ä»£ç†" class="headerlink" title="ä»£ç†"></a>ä»£ç†</h2><h3 id="åŸºæœ¬åŸç†"><a href="#åŸºæœ¬åŸç†" class="headerlink" title="åŸºæœ¬åŸç†"></a>åŸºæœ¬åŸç†</h3><p>ä»£ç†ç½‘ç»œç”¨æˆ·å»å–å¾—ç½‘ç»œä¿¡æ¯</p><p>æ­¤æ—¶æœ¬æœºä¸æ˜¯ç›´æ¥å‘ Web æœåŠ¡å™¨å‘èµ·è¯·æ±‚ï¼Œè€Œæ˜¯å‘ä»£ç†æœåŠ¡å™¨å‘å‡ºè¯·æ±‚ï¼Œè¯·æ±‚ä¼šå‘é€ç»™ä»£ç†æœåŠ¡å™¨ï¼Œç„¶åç”±ä»£ç†æœåŠ¡å™¨å†å‘é€ç»™ Web æœåŠ¡å™¨ï¼Œæ¥ç€ç”±ä»£ç†æœåŠ¡å™¨å†æŠŠ Web æœåŠ¡å™¨è¿”å›çš„å“åº”è½¬å‘ç»™æœ¬æœºã€‚â€“å®ç°IPä¼ªè£…</p><h3 id="ä½œç”¨"><a href="#ä½œç”¨" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h3><ul><li>çªç ´è‡ªèº« IP è®¿é—®é™åˆ¶ï¼Œè®¿é—®ä¸€äº›å¹³æ—¶ä¸èƒ½è®¿é—®çš„ç«™ç‚¹ã€‚</li><li>è®¿é—®ä¸€äº›å•ä½æˆ–å›¢ä½“å†…éƒ¨èµ„æºï¼Œå¦‚ä½¿ç”¨æ•™è‚²ç½‘å†…åœ°å€æ®µå…è´¹ä»£ç†æœåŠ¡å™¨ï¼Œå°±å¯ä»¥ç”¨äºå¯¹æ•™è‚²ç½‘å¼€æ”¾çš„å„ç±» FTP ä¸‹è½½ä¸Šä¼ ï¼Œä»¥åŠå„ç±»èµ„æ–™æŸ¥è¯¢å…±äº«ç­‰æœåŠ¡ã€‚</li><li>æé«˜è®¿é—®é€Ÿåº¦ï¼Œé€šå¸¸ä»£ç†æœåŠ¡å™¨éƒ½è®¾ç½®ä¸€ä¸ªè¾ƒå¤§çš„ç¡¬ç›˜ç¼“å†²åŒºï¼Œå½“æœ‰å¤–ç•Œçš„ä¿¡æ¯é€šè¿‡æ—¶ï¼ŒåŒæ—¶ä¹Ÿå°†å…¶ä¿å­˜åˆ°ç¼“å†²åŒºä¸­ï¼Œå½“å…¶ä»–ç”¨æˆ·å†è®¿é—®ç›¸åŒçš„ä¿¡æ¯æ—¶ï¼Œ åˆ™ç›´æ¥ç”±ç¼“å†²åŒºä¸­å–å‡ºä¿¡æ¯ï¼Œä¼ ç»™ç”¨æˆ·ï¼Œä»¥æé«˜è®¿é—®é€Ÿåº¦ã€‚</li><li>éšè—çœŸå® IPï¼Œä¸Šç½‘è€…ä¹Ÿå¯ä»¥é€šè¿‡è¿™ç§æ–¹æ³•éšè—è‡ªå·±çš„ IPï¼Œå…å—æ”»å‡»ï¼Œå¯¹äºçˆ¬è™«æ¥è¯´ï¼Œæˆ‘ä»¬ç”¨ä»£ç†å°±æ˜¯ä¸ºäº†éšè—è‡ªèº« IPï¼Œé˜²æ­¢è‡ªèº«çš„ IP è¢«å°é”ã€‚</li></ul><h3 id="çˆ¬è™«ä»£ç†"><a href="#çˆ¬è™«ä»£ç†" class="headerlink" title="çˆ¬è™«ä»£ç†"></a>çˆ¬è™«ä»£ç†</h3><p>ç”±äºçˆ¬è™«çˆ¬å–é€Ÿåº¦è¿‡å¿«ï¼Œåœ¨çˆ¬å–è¿‡ç¨‹ä¸­å¯èƒ½é‡åˆ°åŒä¸€ä¸ª IP è®¿é—®è¿‡äºé¢‘ç¹çš„é—®é¢˜ï¼Œæ­¤æ—¶ç½‘ç«™å°±ä¼šè®©æˆ‘ä»¬è¾“å…¥éªŒè¯ç ç™»å½•æˆ–è€…ç›´æ¥å°é” IPï¼Œè¿™æ ·ä¼šç»™çˆ¬å–å¸¦æ¥æå¤§çš„ä¸ä¾¿ã€‚</p><p>ä½¿ç”¨ä»£ç†éšè—çœŸå®çš„ IPï¼Œè®©æœåŠ¡å™¨è¯¯ä»¥ä¸ºæ˜¯ä»£ç†æœåŠ¡å™¨åœ¨è¯·æ±‚è‡ªå·±ã€‚è¿™æ ·åœ¨çˆ¬å–è¿‡ç¨‹ä¸­é€šè¿‡ä¸æ–­æ›´æ¢ä»£ç†ï¼Œå°±ä¸ä¼šè¢«å°é”ï¼Œå¯ä»¥è¾¾åˆ°å¾ˆå¥½çš„çˆ¬å–æ•ˆæœã€‚</p><h3 id="ä»£ç†åˆ†ç±»"><a href="#ä»£ç†åˆ†ç±»" class="headerlink" title="ä»£ç†åˆ†ç±»"></a>ä»£ç†åˆ†ç±»</h3><h4 id="1-æ ¹æ®åè®®åŒºåˆ†"><a href="#1-æ ¹æ®åè®®åŒºåˆ†" class="headerlink" title="1. æ ¹æ®åè®®åŒºåˆ†"></a>1. æ ¹æ®åè®®åŒºåˆ†</h4><p>æ ¹æ®ä»£ç†çš„åè®®ï¼Œä»£ç†å¯ä»¥åˆ†ä¸ºå¦‚ä¸‹ç±»åˆ«ï¼š</p><ul><li>FTP ä»£ç†æœåŠ¡å™¨ï¼Œä¸»è¦ç”¨äºè®¿é—® FTP æœåŠ¡å™¨ï¼Œä¸€èˆ¬æœ‰ä¸Šä¼ ã€ä¸‹è½½ä»¥åŠç¼“å­˜åŠŸèƒ½ï¼Œç«¯å£ä¸€èˆ¬ä¸º 21ã€2121 ç­‰ã€‚</li><li>HTTP ä»£ç†æœåŠ¡å™¨ï¼Œä¸»è¦ç”¨äºè®¿é—®ç½‘é¡µï¼Œä¸€èˆ¬æœ‰å†…å®¹è¿‡æ»¤å’Œç¼“å­˜åŠŸèƒ½ï¼Œç«¯å£ä¸€èˆ¬ä¸º 80ã€8080ã€3128 ç­‰ã€‚</li><li>SSL/TLS ä»£ç†ï¼Œä¸»è¦ç”¨äºè®¿é—®åŠ å¯†ç½‘ç«™ï¼Œä¸€èˆ¬æœ‰ SSL æˆ– TLS åŠ å¯†åŠŸèƒ½ï¼ˆæœ€é«˜æ”¯æŒ 128 ä½åŠ å¯†å¼ºåº¦ï¼‰ï¼Œç«¯å£ä¸€èˆ¬ä¸º 443ã€‚</li><li>RTSP ä»£ç†ï¼Œä¸»è¦ç”¨äº Realplayer è®¿é—® Real æµåª’ä½“æœåŠ¡å™¨ï¼Œä¸€èˆ¬æœ‰ç¼“å­˜åŠŸèƒ½ï¼Œç«¯å£ä¸€èˆ¬ä¸º 554ã€‚</li><li>Telnet ä»£ç†ï¼Œä¸»è¦ç”¨äº telnet è¿œç¨‹æ§åˆ¶ï¼ˆé»‘å®¢å…¥ä¾µè®¡ç®—æœºæ—¶å¸¸ç”¨äºéšè—èº«ä»½ï¼‰ï¼Œç«¯å£ä¸€èˆ¬ä¸º 23ã€‚</li><li>POP3/SMTP ä»£ç†ï¼Œä¸»è¦ç”¨äº POP3/SMTP æ–¹å¼æ”¶å‘é‚®ä»¶ï¼Œä¸€èˆ¬æœ‰ç¼“å­˜åŠŸèƒ½ï¼Œç«¯å£ä¸€èˆ¬ä¸º 110/25ã€‚</li><li>SOCKS ä»£ç†ï¼Œåªæ˜¯å•çº¯ä¼ é€’æ•°æ®åŒ…ï¼Œä¸å…³å¿ƒå…·ä½“åè®®å’Œç”¨æ³•ï¼Œæ‰€ä»¥é€Ÿåº¦å¿«å¾ˆå¤šï¼Œä¸€èˆ¬æœ‰ç¼“å­˜åŠŸèƒ½ï¼Œç«¯å£ä¸€èˆ¬ä¸º 1080ã€‚SOCKS ä»£ç†åè®®åˆåˆ†ä¸º SOCKS4 å’Œ SOCKS5ï¼ŒSOCKS4 åè®®åªæ”¯æŒ TCPï¼Œè€Œ SOCKS5 åè®®æ”¯æŒ TCP å’Œ UDPï¼Œè¿˜æ”¯æŒå„ç§èº«ä»½éªŒè¯æœºåˆ¶ã€æœåŠ¡å™¨ç«¯åŸŸåè§£æç­‰ã€‚ç®€å•æ¥è¯´ï¼ŒSOCK4 èƒ½åšåˆ°çš„ SOCKS5 éƒ½å¯ä»¥åšåˆ°ï¼Œä½† SOCKS5 èƒ½åšåˆ°çš„  SOCK4 ä¸ä¸€å®šèƒ½åšåˆ°ã€‚</li></ul><h4 id="2-æ ¹æ®åŒ¿åç¨‹åº¦åŒºåˆ†"><a href="#2-æ ¹æ®åŒ¿åç¨‹åº¦åŒºåˆ†" class="headerlink" title="2. æ ¹æ®åŒ¿åç¨‹åº¦åŒºåˆ†"></a>2. æ ¹æ®åŒ¿åç¨‹åº¦åŒºåˆ†</h4><p>æ ¹æ®ä»£ç†çš„åŒ¿åç¨‹åº¦ï¼Œä»£ç†å¯ä»¥åˆ†ä¸ºå¦‚ä¸‹ç±»åˆ«ã€‚</p><ul><li>é«˜åº¦åŒ¿åä»£ç†ï¼Œé«˜åº¦åŒ¿åä»£ç†ä¼šå°†æ•°æ®åŒ…åŸå°ä¸åŠ¨çš„è½¬å‘ï¼Œåœ¨æœåŠ¡ç«¯çœ‹æ¥å°±å¥½åƒçœŸçš„æ˜¯ä¸€ä¸ªæ™®é€šå®¢æˆ·ç«¯åœ¨è®¿é—®ï¼Œè€Œè®°å½•çš„ IP æ˜¯ä»£ç†æœåŠ¡å™¨çš„ IPã€‚</li><li>æ™®é€šåŒ¿åä»£ç†ï¼Œæ™®é€šåŒ¿åä»£ç†ä¼šåœ¨æ•°æ®åŒ…ä¸Šåšä¸€äº›æ”¹åŠ¨ï¼ŒæœåŠ¡ç«¯ä¸Šæœ‰å¯èƒ½å‘ç°è¿™æ˜¯ä¸ªä»£ç†æœåŠ¡å™¨ï¼Œä¹Ÿæœ‰ä¸€å®šå‡ ç‡è¿½æŸ¥åˆ°å®¢æˆ·ç«¯çš„çœŸå® IPã€‚ä»£ç†æœåŠ¡å™¨é€šå¸¸ä¼šåŠ å…¥çš„ HTTP å¤´æœ‰ HTTP_VIA å’Œ HTTP_X_FORWARDED_FORã€‚</li><li>é€æ˜ä»£ç†ï¼Œé€æ˜ä»£ç†ä¸ä½†æ”¹åŠ¨äº†æ•°æ®åŒ…ï¼Œè¿˜ä¼šå‘Šè¯‰æœåŠ¡å™¨å®¢æˆ·ç«¯çš„çœŸå® IPã€‚è¿™ç§ä»£ç†é™¤äº†èƒ½ç”¨ç¼“å­˜æŠ€æœ¯æé«˜æµè§ˆé€Ÿåº¦ï¼Œèƒ½ç”¨å†…å®¹è¿‡æ»¤æé«˜å®‰å…¨æ€§ä¹‹å¤–ï¼Œå¹¶æ— å…¶ä»–æ˜¾è‘—ä½œç”¨ï¼Œæœ€å¸¸è§çš„ä¾‹å­æ˜¯å†…ç½‘ä¸­çš„ç¡¬ä»¶é˜²ç«å¢™ã€‚</li><li>é—´è°ä»£ç†ï¼Œé—´è°ä»£ç†æŒ‡ç»„ç»‡æˆ–ä¸ªäººåˆ›å»ºçš„ï¼Œç”¨äºè®°å½•ç”¨æˆ·ä¼ è¾“çš„æ•°æ®ï¼Œç„¶åè¿›è¡Œç ”ç©¶ã€ç›‘æ§ç­‰ç›®çš„ä»£ç†æœåŠ¡å™¨ã€‚</li></ul><h3 id="å¸¸è§ä»£ç†è®¾ç½®"><a href="#å¸¸è§ä»£ç†è®¾ç½®" class="headerlink" title="å¸¸è§ä»£ç†è®¾ç½®"></a>å¸¸è§ä»£ç†è®¾ç½®</h3><ul><li>ä½¿ç”¨ç½‘ä¸Šçš„å…è´¹ä»£ç†ï¼Œæœ€å¥½ä½¿ç”¨é«˜åŒ¿ä»£ç†ï¼Œä½¿ç”¨å‰æŠ“å–ä¸‹æ¥ç­›é€‰ä¸€ä¸‹å¯ç”¨ä»£ç†ï¼Œä¹Ÿå¯ä»¥è¿›ä¸€æ­¥ç»´æŠ¤ä¸€ä¸ªä»£ç†æ± ã€‚</li><li>ä½¿ç”¨ä»˜è´¹ä»£ç†æœåŠ¡ï¼Œäº’è”ç½‘ä¸Šå­˜åœ¨è®¸å¤šä»£ç†å•†ï¼Œå¯ä»¥ä»˜è´¹ä½¿ç”¨ï¼Œè´¨é‡æ¯”å…è´¹ä»£ç†å¥½å¾ˆå¤šã€‚</li><li>ADSL æ‹¨å·ï¼Œæ‹¨ä¸€æ¬¡å·æ¢ä¸€æ¬¡ IPï¼Œç¨³å®šæ€§é«˜ï¼Œä¹Ÿæ˜¯ä¸€ç§æ¯”è¾ƒæœ‰æ•ˆçš„è§£å†³æ–¹æ¡ˆã€‚</li></ul>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Maven</title>
      <link href="/2023/06/08/Maven/"/>
      <url>/2023/06/08/Maven/</url>
      
        <content type="html"><![CDATA[<h1 id="ç›®æ ‡"><a href="#ç›®æ ‡" class="headerlink" title="ç›®æ ‡"></a>ç›®æ ‡</h1><ul><li>ç†è§£å¹¶å®ç°åˆ†æ¨¡å—å¼€å‘</li><li>èƒ½å¤Ÿä½¿ç”¨èšåˆå·¥ç¨‹å¿«é€Ÿæ„å»ºé¡¹ç›®</li><li>èƒ½å¤Ÿä½¿ç”¨ç»§æ‰¿ç®€åŒ–é¡¹ç›®é…ç½®èƒ½å¤Ÿæ ¹æ®éœ€æ±‚é…ç½®ç”Ÿæˆã€å¼€å‘ã€æµ‹è¯•ç¯å¢ƒï¼Œå¹¶åœ¨å„ä¸ªç¯å¢ƒé—´åˆ‡æ¢è¿è¡Œ</li><li>äº†è§£Mavençš„ç§æœ</li></ul><h1 id="åˆ†æ¨¡å—å¼€å‘"><a href="#åˆ†æ¨¡å—å¼€å‘" class="headerlink" title="åˆ†æ¨¡å—å¼€å‘"></a>åˆ†æ¨¡å—å¼€å‘</h1><p>é¡¹ç›®ä¸­çš„æ¯ä¸€å±‚éƒ½å¯ä»¥å•ç‹¬ç»´æŠ¤ï¼Œä¹Ÿå¯ä»¥å¾ˆæ–¹ä¾¿è¢«åˆ«äººä½¿ç”¨</p><ul><li>æ­¥éª¤<ol><li>åˆ›å»ºæ–°æ¨¡å—ã€æ”¾å…¥å†…å®¹</li><li>åœ¨åŸæ¨¡å—çš„pom.xmlæ·»åŠ ä¾èµ–</li><li>å°†æ–°æ¨¡å—installåˆ°mavençš„æœ¬åœ°ä»“åº“</li><li>æ³¨æ„æ–°æ¨¡å—(å¦‚Dao)çš„pom.xmlä¹Ÿè¦æ·»åŠ ç›¸å…³ä¾èµ–</li></ol></li></ul><h1 id="ä¾èµ–ç®¡ç†"><a href="#ä¾èµ–ç®¡ç†" class="headerlink" title="ä¾èµ–ç®¡ç†"></a>ä¾èµ–ç®¡ç†</h1><ul><li>ä¾èµ–çš„ä¼˜å…ˆçº§</li><li>å¯é€‰ä¾èµ–<code>optional</code> ä¸è¢«åˆ«äººç”¨</li><li>æ’é™¤ä¾èµ– <code>exclusions</code> ä¸ç”¨åˆ«äºº</li></ul><h1 id="èšåˆå’Œç»§æ‰¿"><a href="#èšåˆå’Œç»§æ‰¿" class="headerlink" title="èšåˆå’Œç»§æ‰¿"></a>èšåˆå’Œç»§æ‰¿</h1><ul><li><p>èšåˆ</p><p>  å°†å¤šä¸ªæ¨¡å—ç»„ç»‡æˆä¸€ä¸ªæ•´ä½“ï¼ŒåŒæ—¶è¿›è¡Œé¡¹ç›®æ„å»º</p><ul><li>æ­¥éª¤<ol><li>åˆ›å»ºä¸€ä¸ªç©ºçš„mavené¡¹ç›®</li><li>å°†é¡¹ç›®çš„æ‰“åŒ…æ–¹å¼æ”¹ä¸ºpom</li><li>pom.xmlæ·»åŠ æ‰€è¦ç®¡ç†çš„é¡¹ç›®(modules)</li></ol></li></ul></li><li><p>ç»§æ‰¿</p><p>  æè¿°çš„æ˜¯ä¸¤ä¸ªå·¥ç¨‹é—´çš„å…³ç³»ï¼Œå­å·¥ç¨‹å¯ä»¥ç»§æ‰¿çˆ¶å·¥ç¨‹ä¸­çš„é…ç½®ä¿¡æ¯ï¼Œå¸¸è§äºä¾èµ–å…³ç³»çš„ç»§æ‰¿ã€‚</p><ul><li>æ­¥éª¤<ol><li>åˆ›å»ºä¸€ä¸ªMavené¡¹ç›®ã€æ‰“åŒ…æ–¹å¼ä¸ºpom</li><li>åœ¨å­é¡¹ç›®ä¸­è®¾ç½®å…¶çˆ¶å·¥ç¨‹</li><li>ä¼˜åŒ–å­é¡¹ç›®å…±æœ‰ä¾èµ–å¯¼å…¥é—®é¢˜<code>&lt;parent&gt;&amp;&lt;dependencyManagement&gt;</code></li></ol></li></ul></li></ul><h1 id="å±æ€§"><a href="#å±æ€§" class="headerlink" title="å±æ€§"></a>å±æ€§</h1><ul><li>æ­¥éª¤<ol><li>çˆ¶å·¥ç¨‹ä¸­å®šä¹‰å±æ€§  <code>â€”.properties</code></li><li><code>jdbc.properties</code>æ–‡ä»¶ä¸­å¼•ç”¨å±æ€§</li><li>è®¾ç½®mavenè¿‡æ»¤æ–‡ä»¶èŒƒå›´  <code>&lt;filtering&gt;</code></li><li>ä¿®æ”¹ä¾èµ–çš„versio <code>${spring.version}</code></li></ol></li></ul><h1 id="å¤šç¯å¢ƒé…ç½®ä¸åº”ç”¨"><a href="#å¤šç¯å¢ƒé…ç½®ä¸åº”ç”¨" class="headerlink" title="å¤šç¯å¢ƒé…ç½®ä¸åº”ç”¨"></a>å¤šç¯å¢ƒé…ç½®ä¸åº”ç”¨</h1><ul><li>æ­¥éª¤<ol><li>çˆ¶å·¥ç¨‹é…ç½®å¤šä¸ªç¯å¢ƒ,å¹¶æŒ‡å®šé»˜è®¤æ¿€æ´»ç¯å¢ƒ <code>â€”.properties</code></li><li>æ‰§è¡Œå®‰è£…æŸ¥çœ‹env_depç¯å¢ƒæ˜¯å¦ç”Ÿæ•ˆ</li><li>åˆ‡æ¢é»˜è®¤ç¯å¢ƒä¸ºç”Ÿäº§ç¯å¢ƒ</li></ol></li><li>è·³è¿‡æµ‹è¯•<ol><li>IDEAâ€”Toggle <code>Skip Test</code>Mode</li><li>pom.xml <code>&lt;skipTests&gt;false&lt;/skipTests&gt;</code></li><li><code>mvn æŒ‡ä»¤ -D skipTests</code></li></ol></li></ul><h1 id="ç§æœ"><a href="#ç§æœ" class="headerlink" title="ç§æœ"></a>ç§æœ</h1><p>å…¬å¸å†…éƒ¨æ­å»ºçš„ç”¨äºå­˜å‚¨Mavenèµ„æºçš„æœåŠ¡å™¨</p><p>æ²¡æï¼Œæ„Ÿè§‰ç›®å‰ç”¨ä¸ä¸Š</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>MybatisPlus</title>
      <link href="/2023/06/08/MybatisPlus/"/>
      <url>/2023/06/08/MybatisPlus/</url>
      
        <content type="html"><![CDATA[<h1 id="ç›®æ ‡"><a href="#ç›®æ ‡" class="headerlink" title="ç›®æ ‡"></a>ç›®æ ‡</h1><ul><li>åŸºäºMyBatisPluså®Œæˆæ ‡å‡†Daoçš„å¢åˆ æ”¹æŸ¥åŠŸèƒ½</li><li>æŒæ¡MyBatisPlusä¸­çš„åˆ†é¡µåŠæ¡ä»¶æŸ¥è¯¢æ„å»º</li><li>æŒæ¡ä¸»é”®IDçš„ç”Ÿæˆç­–ç•¥</li><li>äº†è§£MyBatisPlusçš„ä»£ç ç”Ÿæˆå™¨</li></ul><h1 id="å…¥é—¨æ­¥éª¤"><a href="#å…¥é—¨æ­¥éª¤" class="headerlink" title="å…¥é—¨æ­¥éª¤"></a>å…¥é—¨æ­¥éª¤</h1><ol><li>å»ºè¡¨</li><li>å»ºSpringBoot</li><li>pom.xmlè¡¥å…¨ä¾èµ–</li><li>æ·»åŠ MPçš„ç›¸å…³é…ç½®ä¿¡æ¯  <code>application.yml</code></li><li>æ ¹æ®æ•°æ®åº“è¡¨åˆ›å»ºå®ä½“ç±»</li><li>åˆ›å»ºDaoæ¥å£</li><li>ç¼–å†™å¼•å¯¼ç±»   <code>Mybatisplus01QuickstartApplication</code></li><li>ç¼–å†™æµ‹è¯•ç±»</li></ol><h1 id="æ ‡å‡†æ•°æ®å±‚å¼€å‘"><a href="#æ ‡å‡†æ•°æ®å±‚å¼€å‘" class="headerlink" title="æ ‡å‡†æ•°æ®å±‚å¼€å‘"></a>æ ‡å‡†æ•°æ®å±‚å¼€å‘</h1><ul><li>å¢  <code>userDao.insert(user);</code></li><li>åˆ    <code>userDao.deleteById(1L);</code></li><li>æ”¹   <code>userDao.updateById(user);</code></li><li>æŸ¥<ul><li>æŸ¥å•ä¸ª  <code>User user = userDao.selectById(2L);</code></li><li>æŸ¥å…¨éƒ¨  <code>List&lt;User&gt; userList = userDao.selectList(null);</code></li><li>æŸ¥åˆ†é¡µ  <code>userDao.selectPage(page,null);</code></li></ul></li><li>Lombkoç®€åŒ–POJOå®ä½“ç±»å¼€å‘<ul><li>æ·»åŠ ä¾èµ–</li><li>@Setterã€@Getterã€@ToStringã€@EqualsAndHashCodeã€@Dataã€@NoArgsConstructorã€@AllArgsConstructor</li></ul></li></ul><h1 id="DQLç¼–ç¨‹æ§åˆ¶"><a href="#DQLç¼–ç¨‹æ§åˆ¶" class="headerlink" title="DQLç¼–ç¨‹æ§åˆ¶"></a>DQLç¼–ç¨‹æ§åˆ¶</h1><ul><li>æ¡ä»¶æŸ¥è¯¢æ–¹å¼<ul><li>QueryWrapper</li><li>QueryWrapper+lambda</li><li>LambdaQueryWrapper</li><li>å•æ¡ä»¶/å¤šæ¡ä»¶/nullæŸ¥è¯¢</li></ul></li><li>æŸ¥è¯¢æŠ•å½±<ul><li>æŸ¥è¯¢æŒ‡å®šå­—æ®µ<code>lqw.select(User::getId,User::getName,User::getAge);</code></li><li>èšåˆæŸ¥è¯¢<code>lqw.select("count() as count");</code></li><li>åˆ†ç»„æŸ¥è¯¢  <code>lqw.groupBy("tel");</code></li></ul></li><li>æŸ¥è¯¢æ¡ä»¶è®¾å®š<ul><li>ç­‰å€¼æŸ¥è¯¢   <code>.eq(User::getName, "Jerryâ€)</code></li><li>èŒƒå›´æŸ¥è¯¢   <code>.between(User::getAge, 10, 30);</code></li><li>æ¨¡ç³ŠæŸ¥è¯¢   <code>.likeLeft(User::getName, "J");</code></li><li>æ’åºæŸ¥è¯¢    <code>.orderBy(true,false, User::getId);</code></li></ul></li><li>å­—æ®µæ˜ å°„ä¸è¡¨åæ˜ å°„<ul><li>@TableFiled   <code>value\exit\true\select</code></li><li>@TableName  <code>value</code>    /â€”é…ç½®æ–‡ä»¶æ–°å¢table-prefix</li></ul></li></ul><h1 id="DMLç¼–ç¨‹æ§åˆ¶"><a href="#DMLç¼–ç¨‹æ§åˆ¶" class="headerlink" title="DMLç¼–ç¨‹æ§åˆ¶"></a>DMLç¼–ç¨‹æ§åˆ¶</h1><ul><li>idç”Ÿæˆç­–ç•¥æ§åˆ¶<ul><li>@TableId   AUTO\INPUT\ASSING_ID\ASSING_UUID</li><li>ç®€åŒ–é…ç½®    â€” é…ç½®æ–‡ä»¶æ–°å¢id-type</li></ul></li><li>å¤šè®°å½•æ“ä½œ<ul><li><code>.deleteBatchIds(list);</code></li><li><code>.selectBatchIds(list);</code></li></ul></li><li>é€»è¾‘åˆ é™¤<ul><li>@TABLELOGIC    <code>value\deval</code></li></ul></li><li>ä¹è§‚é”<ul><li>æ•°æ®åº“&amp;æ¨¡å‹ç±»æ·»åŠ å¯¹åº”å±æ€§</li><li>æ·»åŠ æ‹¦æˆªå™¨</li><li>æµ‹è¯•ç±»<code>updateById</code></li></ul></li></ul><h1 id="å¿«é€Ÿå¼€å‘"><a href="#å¿«é€Ÿå¼€å‘" class="headerlink" title="å¿«é€Ÿå¼€å‘"></a>å¿«é€Ÿå¼€å‘</h1><ul><li>åˆ›å»ºä»£ç ç”Ÿæˆç±»â€”ä¸ç”¨å†™<code>controller</code>,<code>service</code>ï¼Œ<code>mapper</code>å’Œ<code>entity</code>çš„åŸºç¡€æ¡†æ¶è¾½ï¼</li><li>ä»£ç åœ°å€ï¼š<code>https://mp.baomidou.com/guide/generator.html</code></li></ul>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>SpringBoot</title>
      <link href="/2023/06/08/SpringBoot/"/>
      <url>/2023/06/08/SpringBoot/</url>
      
        <content type="html"><![CDATA[<h1 id="ç›®æ ‡"><a href="#ç›®æ ‡" class="headerlink" title="ç›®æ ‡"></a>ç›®æ ‡</h1><ul><li>æŒæ¡åŸºäºSpringBootæ¡†æ¶çš„ç¨‹åºå¼€å‘æ­¥éª¤</li><li>ç†Ÿç»ƒä½¿ç”¨SpringBooté…ç½®ä¿¡æ¯ä¿®æ”¹æœåŠ¡å™¨</li><li>é…ç½®åŸºäºSpringBootçš„å®ŒæˆSSMæ•´åˆé¡¹ç›®å¼€å‘</li></ul><h1 id="å…¥é—¨"><a href="#å…¥é—¨" class="headerlink" title="å…¥é—¨"></a>å…¥é—¨</h1><ul><li><p>æ–°å»ºé¡¹ç›®æ­¥éª¤</p><ol><li>æ–°å»ºæ¨¡å— <code>Spring Initializr</code></li><li>åˆ›å»ºcontroller</li><li>å¯åŠ¨ï¼</li></ol></li><li><p>Springå’ŒSpringBootå¯¹æ¯”<br>  <img src="/img/Spring%E5%92%8CSpringBoot%E5%AF%B9%E6%AF%94.png" alt="Untitled"></p></li><li><p>å¿«é€Ÿå¯åŠ¨æ­¥éª¤</p><ol><li><code>packge</code>æŒ‡ä»¤</li><li>è¿›å…¥jaråŒ…æ‰€åœ¨ä½ç½®ï¼Œåœ¨å‘½ä»¤æç¤ºç¬¦ä¸­è¾“å…¥å¦‚ä¸‹å‘½ä»¤ <code>jar -jar åŒ…å.jar</code></li></ol></li></ul><h1 id="é…ç½®æ–‡ä»¶"><a href="#é…ç½®æ–‡ä»¶" class="headerlink" title="é…ç½®æ–‡ä»¶"></a>é…ç½®æ–‡ä»¶</h1><ul><li><p>yml</p><ul><li>ç±»å‹</li><li>è¯­æ³•è§„åˆ™</li><li>è¯»å–é…ç½®æ•°æ®</li><li>å¤šç¯å¢ƒé…ç½®</li></ul></li><li><p>é…ç½®æ–‡ä»¶åˆ†ç±»</p><ul><li>1çº§ï¼šclasspathï¼šapplication.yml</li><li>2çº§ï¼šclasspathï¼šconfig/application.yml</li><li>3çº§ï¼šfile ï¼šapplication.yml</li><li>4çº§ï¼šfile ï¼šconfig/application.yml</li></ul></li></ul><h1 id="æ•´åˆjunit"><a href="#æ•´åˆjunit" class="headerlink" title="æ•´åˆjunit"></a>æ•´åˆjunit</h1><ol><li>åœ¨æµ‹è¯•ç±»ä¸Šæ·»åŠ  <code>SpringBootTest</code> æ³¨è§£</li><li>ä½¿ç”¨ <code>@Autowired</code> æ³¨å…¥è¦æµ‹è¯•çš„èµ„æº</li><li>å®šä¹‰æµ‹è¯•æ–¹æ³•è¿›è¡Œæµ‹è¯•</li></ol><h1 id="æ•´åˆmybatis"><a href="#æ•´åˆmybatis" class="headerlink" title="æ•´åˆmybatis"></a>æ•´åˆmybatis</h1><ol><li>åˆ›å»ºæ¨¡å—</li><li>å®šä¹‰å®ä½“ç±»</li><li>å®šä¹‰Daoæ¥å£</li><li>å®šä¹‰æµ‹è¯•ç±»</li><li>ç¼–å†™é…ç½®  <code>application.yml</code></li></ol>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>SpringMVC</title>
      <link href="/2023/06/08/SpringMVC/"/>
      <url>/2023/06/08/SpringMVC/</url>
      
        <content type="html"><![CDATA[<h1 id="ä¸»è¦å†…å®¹"><a href="#ä¸»è¦å†…å®¹" class="headerlink" title="ä¸»è¦å†…å®¹"></a><strong>ä¸»è¦å†…å®¹</strong></h1><ul><li>SpringMVCç®€ä»‹</li><li><strong>è¯·æ±‚ä¸å“åº”</strong></li><li><strong>RESTé£æ ¼</strong></li><li><strong>SSMæ•´åˆ(æ³¨è§£ç‰ˆ)</strong></li><li>æ‹¦æˆªå™¨</li></ul><h1 id="SpringMVCçš„åˆ¶ä½œè¿‡ç¨‹"><a href="#SpringMVCçš„åˆ¶ä½œè¿‡ç¨‹" class="headerlink" title="SpringMVCçš„åˆ¶ä½œè¿‡ç¨‹"></a><strong>SpringMVCçš„åˆ¶ä½œè¿‡ç¨‹</strong></h1><ol><li>åˆ›å»ºmavené¡¹ç›®ï¼Œè¡¥å…¨ç›®å½•ç»“æ„</li><li>å¯¼å…¥jaråŒ…ï¼Œæ·»åŠ SpringMVCéœ€è¦çš„ä¾èµ–ä¸servletï¼›é…ç½®Tomcatç¯å¢ƒ</li><li>åˆ›å»ºControllerç±»ï¼šå£°æ˜beanã€æä¾›æ–¹æ³•å¤„ç†è¯·æ±‚ã€è®¾ç½®è®¿é—®è·¯å¾„ã€è®¾ç½®å½“å‰æ“ä½œè¿”å›å€¼</li><li>åˆ›å»ºspringmvcçš„é…ç½®ç±»ï¼ŒåŠ è½½controllerå¯¹åº”çš„bean</li><li>ä½¿ç”¨servletå®¹å™¨å¯åŠ¨çš„é…ç½®ç±»æ›¿æ¢web.xml</li><li>å¯åŠ¨é¡¹ç›®ã€æµè§ˆå™¨è®¿é—®</li></ol><ul><li><p>ç›¸å…³æ³¨è§£</p><p>  <strong>@Controllerï¼š</strong> è®¾å®šSpringMVCçš„æ ¸å¿ƒæ§åˆ¶å™¨beanã€Controllerç±»å¤„ã€‘</p><p>  <strong>@RequestMappingï¼š</strong> è®¾ç½®å½“å‰æ§åˆ¶å™¨æ–¹æ³•è¯·æ±‚è®¿é—®è·¯å¾„ã€Controllerç±»å…·ä½“æ–¹æ³•å‰ï¼š(â€/saveâ€)ã€‘</p><p>  <strong>@ResponseBodyï¼š</strong> è®¾ç½®å½“å‰æ§åˆ¶å™¨æ–¹æ³•å“åº”å†…å®¹ä¸ºå½“å‰è¿”å›å€¼ã€Controllerç±»å…·ä½“æ–¹æ³•å‰ã€‘</p></li></ul><h1 id="è®¾ç½®springmvcå’Œspringçš„åŠ è½½èŒƒå›´"><a href="#è®¾ç½®springmvcå’Œspringçš„åŠ è½½èŒƒå›´" class="headerlink" title="è®¾ç½®springmvcå’Œspringçš„åŠ è½½èŒƒå›´"></a>è®¾ç½®springmvcå’Œspringçš„åŠ è½½èŒƒå›´</h1><ul><li><p>SpringMVCåŠ è½½å…¶ç›¸å…³bean(è¡¨ç°å±‚bean),ä¹Ÿå°±æ˜¯controlleråŒ…ä¸‹çš„ç±»</p></li><li><p>Springæ§åˆ¶çš„bean</p><ul><li>ä¸šåŠ¡bean(Service)</li><li>åŠŸèƒ½bean(DataSource,SqlSessionFactoryBean,MapperScannerConfigurerç­‰)</li></ul></li><li><p>ç›¸å…³æ³¨è§£</p><p>  <strong>@ComponentScan</strong>ï¼šè®¾ç½®springé…ç½®ç±»æ‰«æè·¯å¾„ã€ç±»ä¸Šæ–¹ï¼Œå±æ€§ï¼šexcludeFilters&amp;includeFilters&amp;typeã€‘</p>  <figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">@ComponentScan({"com.itheima.service","comitheima.dao"})</span></span><br></pre></td></tr></tbody></table></figure>  <figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">@ComponentScan(value="com.itheima",</span></span><br><span class="line"><span class="meta">    excludeFilters=@ComponentScan.Filter(</span></span><br><span class="line"><span class="meta">        type = FilterType.ANNOTATION,</span></span><br><span class="line"><span class="meta">        classes = Controller.class  //è¿‡æ»¤çš„æ³¨è§£ç±»å‹</span></span><br><span class="line"><span class="meta">    )</span></span><br><span class="line"><span class="meta">)</span></span><br></pre></td></tr></tbody></table></figure></li></ul><h1 id="springmvcæ›´ç®€å•çš„é…ç½®ç±»"><a href="#springmvcæ›´ç®€å•çš„é…ç½®ç±»" class="headerlink" title="springmvcæ›´ç®€å•çš„é…ç½®ç±»"></a><strong>springmvcæ›´ç®€å•çš„é…ç½®ç±»</strong></h1><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServletContainersInitConfig</span> <span class="keyword">extends</span> <span class="title class_">AbstractAnnotationConfigDispatcherServletInitializer</span> {</span><br><span class="line">        <span class="comment">//åŠ è½½springé…ç½®ç±»</span></span><br><span class="line">    <span class="keyword">protected</span> Class&lt;?&gt;[] getRootConfigClasses() {</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Class</span>[]{SpringConfig.class};</span><br><span class="line">    }</span><br><span class="line">        <span class="comment">//åŠ è½½æŒ‡å®š(springmvcc)é…ç½®ç±»</span></span><br><span class="line">    <span class="keyword">protected</span> Class&lt;?&gt;[] getServletConfigClasses() {</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Class</span>[]{SpringMvcConfig.class};</span><br><span class="line">    }</span><br><span class="line">        <span class="comment">//è®¾ç½®ç”±springmvcæ§åˆ¶å™¨å¤„ç†çš„è¯·æ±‚æ˜ å°„è·¯å¾„</span></span><br><span class="line">    <span class="keyword">protected</span> String[] getServletMappings() {</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">String</span>[]{<span class="string">"/"</span>};</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h1 id="è¯·æ±‚ä¸å“åº”"><a href="#è¯·æ±‚ä¸å“åº”" class="headerlink" title="è¯·æ±‚ä¸å“åº”"></a><strong>è¯·æ±‚ä¸å“åº”</strong></h1><ul><li><p>åŒºåˆ†è®¿é—®ä¸åŒcontrollerç›¸åŒåå­—çš„æ–¹æ³•</p><ol><li>åœ¨è®¿é—®è·¯å¾„å‰åŠ controlleråŒºåˆ†</li><li>åœ¨ç±»å‰é¢æ–°å¢@RequestMapping(â€œ/æ–¹æ³•åâ€)</li></ol></li><li><p>æ¥æ”¶é¡µé¢ä¼ é€’çš„å‚æ•°</p><ul><li><p>GET/POST  â€”å‘é€å•/å¤šä¸ªå‚æ•°</p><ul><li>ç›´æ¥åœ¨æ–¹æ³•å¤„æ¥å—å‚æ•°</li><li>æ™®é€šã€POJOã€åµŒå¥—POJOã€æ•°ç»„ã€é›†åˆ</li></ul></li><li><p>è§£å†³è¯·æ±‚ä¹±ç é—®é¢˜</p><ul><li>GETï¼šä¿®æ”¹pom.xml</li><li>POST:é…ç½®è¿‡æ»¤å™¨</li></ul></li><li><p>å½¢å‚ä¸åœ°å€å‚æ•°åä¸ä¸€è‡´</p><p>  ä½¿ç”¨**@RequestParam**æ³¨è§£</p></li><li><p>æ¥æ”¶æ—¥æœŸ/æ—¶é—´ç±»å‹</p><p>  ä½¿ç”¨@DateTimeFormatæ³¨è§£</p></li></ul></li><li><p>ç›¸å…³æ³¨è§£</p><ol><li><strong>@REQUESTPARAMï¼š</strong> ç»‘å®šè¯·æ±‚å‚æ•°ä¸å¤„ç†å™¨æ–¹æ³•å½¢å‚é—´çš„å…³ç³»ã€æ–¹æ³•å…·ä½“å‚æ•°å¤„ã€‘</li><li><strong>@ENABLEWEBMVCï¼š</strong> å¼€å¯SpringMVCå¤šé¡¹è¾…åŠ©åŠŸèƒ½ã€é…ç½®ç±»å®šä¹‰ä¸Šæ–¹ã€‘</li><li><strong>@RequestBodyï¼š</strong> å°†è¯·æ±‚ä¸­è¯·æ±‚ä½“æ‰€åŒ…å«çš„æ•°æ®ä¼ é€’ç»™è¯·æ±‚å‚æ•°ã€è®¾ç½®å½“å‰æ§åˆ¶å™¨è¿”å›å€¼ä½œä¸ºå“åº”ä½“ã€æ–¹æ³•å½¢å‚å®šä¹‰å‰é¢ã€‘</li><li><strong>@DateTimeFormat</strong> ï¼šè®¾å®šæ—¥æœŸæ—¶é—´å‹æ•°æ®æ ¼å¼ã€æ–¹æ³•å…·ä½“å‚æ•°å¤„ã€‘</li></ol></li></ul><h1 id="RESTé£æ ¼"><a href="#RESTé£æ ¼" class="headerlink" title="RESTé£æ ¼"></a><strong>RESTé£æ ¼</strong></h1><p>ä½¿ç”¨<strong>è¡Œä¸ºåŠ¨ä½œ</strong>åŒºåˆ†å¯¹èµ„æºè¿›è¡Œäº†ä½•ç§æ“ä½œï¼šæŸ¥è¯¢(GET)æ–°å¢(POST)ä¿®æ”¹(PUT)åˆ é™¤(DELETE)</p><p>é¡µé¢è®¿é—®ï¼šSpringMVCéœ€è¦å°†é™æ€èµ„æºè¿›è¡Œæ”¾è¡Œ</p><ul><li><p>ç›¸å…³æ³¨è§£</p><p>  <strong>@RestControllerï¼š</strong> ç­‰åŒäº@Controllerä¸@ResponseBodyä¸¤ä¸ªæ³¨è§£ç»„åˆåŠŸèƒ½</p><p>  <strong>@GetMapping @PostMapping @PutMapping @DeleteMappingï¼š</strong> è®¾ç½®å½“å‰æ§åˆ¶å™¨æ–¹æ³•è¯·æ±‚è®¿é—®è·¯å¾„ä¸è¯·æ±‚åŠ¨ä½œï¼Œæ¯ç§å¯¹åº”ä¸€ä¸ªè¯·æ±‚åŠ¨ä½œã€æ³¨æ„deleteå’Œgetåä¹°ä½ è¦æœ‰å…·ä½“idã€‘</p></li></ul><h1 id="SSMæ•´åˆ"><a href="#SSMæ•´åˆ" class="headerlink" title="SSMæ•´åˆ"></a><strong>SSMæ•´åˆ</strong></h1><blockquote><p>æè€å¸ˆå¤§å¥½äººï¼Œå°±æ˜¯æŠŠä¹‹å‰æ‰€æœ‰çš„ä»£ç éƒ½ç†äº†ä¸€é</p></blockquote><ul><li><p>æ•´åˆé…ç½®</p><ol><li>åˆ›å»ºwebé¡¹ç›®</li><li>æ·»åŠ ä¾èµ–</li><li>åˆ›å»ºé¡¹ç›®åŒ…ç»“æ„</li><li>åˆ›å»ºssm+jdbc-configé…ç½®ç±»</li></ol></li><li><p>åŠŸèƒ½æ¨¡å—å¼€å‘</p><ol><li>table</li><li>domain</li><li>Dao</li><li>Service</li><li>Controller</li></ol></li><li><p>å•å…ƒ/PostManæµ‹è¯•</p></li><li><p>äº‹åŠ¡ç®¡ç†</p><ol><li>SpringConfig</li><li>jdbcConfig</li><li>BookService</li></ol></li><li><p><strong>ç»Ÿä¸€ç»“æœå°è£…</strong></p><ol><li>Resultç±»</li><li>Codeç±»</li><li>ä¿®æ”¹Controllerç±»çš„è¿”å›å€¼</li></ol></li><li><p><strong>ç»Ÿä¸€å¼‚å¸¸å¤„ç†</strong></p><ol><li>åˆ›å»ºå¼‚å¸¸å¤„ç†å™¨ç±»</li><li>æä¸ªå¼‚å¸¸æµ‹è¯•ä¸€ä¸‹</li></ol></li><li><p>ç›¸å…³æ³¨è§£</p><p>  <strong>@RestControllerAdviceï¼š</strong> ä¸ºResté£æ ¼å¼€å‘çš„æ§åˆ¶å™¨ç±»åšå¢å¼º</p><p>  <strong>@ExceptionHandlerï¼š</strong> è®¾ç½®æŒ‡å®šå¼‚å¸¸çš„å¤„ç†æ–¹æ¡ˆ</p></li></ul><h1 id="å‰åå°åè®®è”è°ƒ"><a href="#å‰åå°åè®®è”è°ƒ" class="headerlink" title="å‰åå°åè®®è”è°ƒ"></a>å‰åå°åè®®è”è°ƒ</h1><ol><li>å°†é™æ€èµ„æºè¿›è¡Œæ”¾è¡Œ</li><li>æ ¹æ®ä¸åŒä¸šåŠ¡è¿›è¡Œä¸åŒæ“ä½œ</li></ol><h1 id="æ‹¦æˆªå™¨"><a href="#æ‹¦æˆªå™¨" class="headerlink" title="æ‹¦æˆªå™¨"></a>æ‹¦æˆªå™¨</h1><ul><li>å¼€å‘æ­¥éª¤<ol><li>åˆ›å»ºæ‹¦æˆªå™¨ç±»interceptor</li><li>é…ç½®æ‹¦æˆªå™¨ç±»SpringMvcConfig</li><li>ä¿®æ”¹æ‹¦æˆªå™¨æ‹¦æˆªè§„åˆ™</li><li>é…ç½®å¤šä¸ªæ‹¦æˆªå™¨</li></ol></li><li>æ‹¦æˆªå™¨å‚æ•°<ul><li>requestã€responseã€<strong>handlerã€</strong> modelAndView</li></ul></li></ul><blockquote><p>ä¸€èˆ¬ç¯å¢ƒå‡†å¤‡æ­¥éª¤</p><ol><li>åˆ›å»ºä¸€ä¸ªWebçš„Mavené¡¹ç›®</li><li>pom.xmlæ·»åŠ Springä¾èµ–</li><li>åˆ›å»ºå¯¹åº”çš„é…ç½®ç±»ï¼ˆconfigï¼‰</li><li>ç¼–å†™controllerã€domain</li><li>ï¼ˆå¯åŠ¨ä¸€ä¸‹çœ‹æ˜¯å¦èƒ½æ­£å¸¸è¿è¡Œï¼‰</li></ol></blockquote>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Spring-Day03  â€” AOP</title>
      <link href="/2023/06/08/SpringDay03%20%E2%80%94%20AOP/"/>
      <url>/2023/06/08/SpringDay03%20%E2%80%94%20AOP/</url>
      
        <content type="html"><![CDATA[<h1 id="AOPæ ¸å¿ƒæ¦‚å¿µ"><a href="#AOPæ ¸å¿ƒæ¦‚å¿µ" class="headerlink" title="AOPæ ¸å¿ƒæ¦‚å¿µ"></a>AOPæ ¸å¿ƒæ¦‚å¿µ</h1><ul><li>(Aspect Oriented Programming)é¢å‘åˆ‡é¢ç¼–ç¨‹ï¼Œ<strong>åœ¨ä¸æ”¹åŸæœ‰ä»£ç çš„å‰æä¸‹å¯¹å…¶è¿›è¡Œå¢å¼º  â€” ä»£ç†æ¨¡å¼</strong></li><li>ä»£ç†ï¼ˆProxyï¼‰ï¼šSpringAOPçš„æ ¸å¿ƒæœ¬è´¨æ˜¯é‡‡ç”¨ä»£ç†æ¨¡å¼å®ç°çš„</li><li>è¿æ¥ç‚¹ï¼ˆJoinPointï¼‰ï¼šåœ¨SpringAOPä¸­ï¼Œç†è§£ä¸ºä»»æ„æ–¹æ³•çš„æ‰§è¡Œ</li><li>åˆ‡å…¥ç‚¹ï¼ˆPointcutï¼‰ï¼šåŒ¹é…è¿æ¥ç‚¹çš„å¼å­ï¼Œä¹Ÿæ˜¯å…·æœ‰å…±æ€§åŠŸèƒ½çš„æ–¹æ³•æè¿°</li><li>é€šçŸ¥ï¼ˆAdviceï¼‰ï¼šè‹¥å¹²ä¸ªæ–¹æ³•çš„å…±æ€§åŠŸèƒ½ï¼Œåœ¨åˆ‡å…¥ç‚¹å¤„æ‰§è¡Œï¼Œæœ€ç»ˆä½“ç°ä¸ºä¸€ä¸ªæ–¹æ³•</li><li>åˆ‡é¢ï¼ˆAspectï¼‰ï¼šæè¿°é€šçŸ¥ä¸åˆ‡å…¥ç‚¹çš„å¯¹åº”å…³ç³»</li><li>ç›®æ ‡å¯¹è±¡ï¼ˆTargetï¼‰ï¼šè¢«ä»£ç†çš„åŸå§‹å¯¹è±¡æˆä¸ºç›®æ ‡å¯¹è±¡</li><li>é€šçŸ¥ç±»ï¼šå®šä¹‰é€šçŸ¥çš„ç±»</li></ul><h1 id="å…¥é—¨æ¡ˆä¾‹"><a href="#å…¥é—¨æ¡ˆä¾‹" class="headerlink" title="å…¥é—¨æ¡ˆä¾‹"></a>å…¥é—¨æ¡ˆä¾‹</h1><h2 id="ç¯å¢ƒå‡†å¤‡"><a href="#ç¯å¢ƒå‡†å¤‡" class="headerlink" title="ç¯å¢ƒå‡†å¤‡"></a>ç¯å¢ƒå‡†å¤‡</h2><ol><li>åˆ›å»ºé¡¹ç›®</li><li>æ·»åŠ springä¾èµ–</li><li>æ·»åŠ Dao&amp;DaoImplç±»</li><li>springçš„é…ç½®ç±»</li><li>ç¼–å†™appè¿è¡Œç±»</li></ol><h2 id="æ–°å¢ä¾èµ–"><a href="#æ–°å¢ä¾èµ–" class="headerlink" title="æ–°å¢ä¾èµ–"></a>æ–°å¢ä¾èµ–</h2><figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.aspectj<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>aspectjweaver<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.9.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><h2 id="å®šä¹‰é€šçŸ¥ç±»å’Œé€šçŸ¥-â€”-gt-å®šä¹‰åˆ‡å…¥ç‚¹-â€”-gt-åˆ¶ä½œåˆ‡é¢-â€”-gt-å°†é€šçŸ¥ç±»é…ç»™å®¹å™¨å¹¶æ ‡è¯†å…¶ä¸ºåˆ‡é¢ç±»"><a href="#å®šä¹‰é€šçŸ¥ç±»å’Œé€šçŸ¥-â€”-gt-å®šä¹‰åˆ‡å…¥ç‚¹-â€”-gt-åˆ¶ä½œåˆ‡é¢-â€”-gt-å°†é€šçŸ¥ç±»é…ç»™å®¹å™¨å¹¶æ ‡è¯†å…¶ä¸ºåˆ‡é¢ç±»" class="headerlink" title="å®šä¹‰é€šçŸ¥ç±»å’Œé€šçŸ¥ â€”> å®šä¹‰åˆ‡å…¥ç‚¹ â€”>  åˆ¶ä½œåˆ‡é¢  â€”> å°†é€šçŸ¥ç±»é…ç»™å®¹å™¨å¹¶æ ‡è¯†å…¶ä¸ºåˆ‡é¢ç±»"></a>å®šä¹‰é€šçŸ¥ç±»å’Œé€šçŸ¥ â€”&gt; å®šä¹‰åˆ‡å…¥ç‚¹ â€”&gt;  åˆ¶ä½œåˆ‡é¢  â€”&gt; å°†é€šçŸ¥ç±»é…ç»™å®¹å™¨å¹¶æ ‡è¯†å…¶ä¸ºåˆ‡é¢ç±»</h2><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">@Component</span>   <span class="comment">// æ ‡æ³¨ä¸€ä¸ªç±»ä¸ºSpringå®¹å™¨çš„Bean</span></span><br><span class="line"><span class="meta">@Aspect</span>      <span class="comment">//å‘Šè¯‰springå½“æˆaopå¤„ç†</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//å®šä¹‰é€šçŸ¥ç±»</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyAdvice</span> {</span><br><span class="line">    <span class="comment">//å®šä¹‰åˆ‡å…¥ç‚¹   -- åªå¢å¼ºupdataæ–¹æ³•</span></span><br><span class="line">    <span class="meta">@Pointcut("execution(void com.itheima.dao.BookDao.update())")</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">pt</span><span class="params">()</span>{}</span><br><span class="line"></span><br><span class="line">    <span class="comment">//åˆ¶ä½œåˆ‡é¢  --  æè¿°é€šçŸ¥å’Œåˆ‡å…¥ç‚¹ä¹‹é—´çš„å…³ç³»</span></span><br><span class="line">    <span class="meta">@Before("pt()")</span></span><br><span class="line">    <span class="comment">//å®šä¹‰é€šçŸ¥</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">method</span><span class="params">()</span>{</span><br><span class="line">        System.out.println(System.currentTimeMillis());</span><br><span class="line">        }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="å¼€å¯æ³¨è§£æ ¼å¼AOPåŠŸèƒ½"><a href="#å¼€å¯æ³¨è§£æ ¼å¼AOPåŠŸèƒ½" class="headerlink" title="å¼€å¯æ³¨è§£æ ¼å¼AOPåŠŸèƒ½"></a>å¼€å¯æ³¨è§£æ ¼å¼AOPåŠŸèƒ½</h2><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@ComponentScan("com.itheima")</span></span><br><span class="line"><span class="meta">@EnableAspectJAutoProxy</span>   <span class="comment">//å‘Šè¯‰springè¿™æ˜¯æ³¨è§£å¼€å‘ -- å»æ‰¾@Aspectï¼Œè¿›å»è¯†åˆ«@Pointcut</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringConfig</span> {</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="è¿è¡Œç¨‹åº"><a href="#è¿è¡Œç¨‹åº" class="headerlink" title="è¿è¡Œç¨‹åº"></a>è¿è¡Œç¨‹åº</h2><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">App</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="type">ApplicationContext</span> <span class="variable">ctx</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AnnotationConfigApplicationContext</span>(SpringConfig.class);</span><br><span class="line">        <span class="type">BookDao</span> <span class="variable">bookDao</span> <span class="operator">=</span> ctx.getBean(BookDao.class);</span><br><span class="line">        **bookDao.update();**</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h1 id="AOPå·¥ä½œæµç¨‹"><a href="#AOPå·¥ä½œæµç¨‹" class="headerlink" title="AOPå·¥ä½œæµç¨‹"></a>AOPå·¥ä½œæµç¨‹</h1><p>ï¼ˆå¥½åƒä¸é‡è¦ï¼‰</p><h2 id="Springå®¹å™¨å¯åŠ¨"><a href="#Springå®¹å™¨å¯åŠ¨" class="headerlink" title="Springå®¹å™¨å¯åŠ¨"></a>Springå®¹å™¨å¯åŠ¨</h2><ul><li>åŠ è½½bean<ul><li>éœ€è¦è¢«å¢å¼ºçš„ç±»ï¼Œå¦‚:BookServiceImpl</li><li>é€šçŸ¥ç±»ï¼Œå¦‚:MyAdvice</li></ul></li></ul><h2 id="è¯»å–æ‰€æœ‰åˆ‡é¢é…ç½®ä¸­çš„åˆ‡å…¥ç‚¹"><a href="#è¯»å–æ‰€æœ‰åˆ‡é¢é…ç½®ä¸­çš„åˆ‡å…¥ç‚¹" class="headerlink" title="è¯»å–æ‰€æœ‰åˆ‡é¢é…ç½®ä¸­çš„åˆ‡å…¥ç‚¹"></a>è¯»å–æ‰€æœ‰åˆ‡é¢é…ç½®ä¸­çš„åˆ‡å…¥ç‚¹</h2><h2 id="åˆå§‹åŒ–bean"><a href="#åˆå§‹åŒ–bean" class="headerlink" title="åˆå§‹åŒ–bean"></a>åˆå§‹åŒ–bean</h2><pre><code> * åŒ¹é…å¤±è´¥ï¼Œåˆ›å»ºåŸå§‹å¯¹è±¡ * åŒ¹é…æˆåŠŸï¼Œåˆ›å»ºåŸå§‹å¯¹è±¡ï¼ˆç›®æ ‡å¯¹è±¡ï¼‰çš„ä»£ç†å¯¹è±¡</code></pre><h2 id="è·å–beanæ‰§è¡Œæ–¹æ³•"><a href="#è·å–beanæ‰§è¡Œæ–¹æ³•" class="headerlink" title="è·å–beanæ‰§è¡Œæ–¹æ³•"></a>è·å–beanæ‰§è¡Œæ–¹æ³•</h2><h1 id="AOPé…ç½®ç®¡ç†"><a href="#AOPé…ç½®ç®¡ç†" class="headerlink" title="AOPé…ç½®ç®¡ç†"></a><strong>AOPé…ç½®ç®¡ç†</strong></h1><h2 id="åˆ‡å…¥ç‚¹è¡¨è¾¾å¼"><a href="#åˆ‡å…¥ç‚¹è¡¨è¾¾å¼" class="headerlink" title="åˆ‡å…¥ç‚¹è¡¨è¾¾å¼"></a>åˆ‡å…¥ç‚¹è¡¨è¾¾å¼</h2><ul><li><code>*</code> ï¼šå•ä¸ªç‹¬ç«‹çš„ä»»æ„ç¬¦å·ï¼Œå¯ä»¥ç‹¬ç«‹å‡ºç°ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºå‰ç¼€æˆ–è€…åç¼€çš„åŒ¹é…ç¬¦å‡ºç°</li></ul><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">executionï¼ˆpublic * com.itheima.*.UserService.find*(*))</span><br></pre></td></tr></tbody></table></figure><ul><li><code>..</code>ï¼šå¤šä¸ªè¿ç»­çš„ä»»æ„ç¬¦å·ï¼Œå¯ä»¥ç‹¬ç«‹å‡ºç°ï¼Œå¸¸ç”¨äºç®€åŒ–åŒ…åä¸å‚æ•°çš„ä¹¦å†™</li></ul><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">executionï¼ˆpublic User com..UserService.findById(..))</span><br></pre></td></tr></tbody></table></figure><ul><li>ä¹¦å†™æŠ€å·§<br>1. æŒ‰<strong>æ ‡å‡†è§„èŒƒ</strong>å¼€å‘<br>2. æŸ¥è¯¢æ“ä½œçš„è¿”å›å€¼å»ºè®®ä½¿ç”¨<em>åŒ¹é…<br>3. å‡å°‘ä½¿ç”¨..çš„å½¢å¼æè¿°åŒ…<br>4. <strong>å¯¹æ¥å£è¿›è¡Œæè¿°</strong>ï¼Œä½¿ç”¨<em>è¡¨ç¤ºæ¨¡å—åï¼Œä¾‹å¦‚UserServiceçš„åŒ¹é…æè¿°ä¸º</em>Service<br>5. æ–¹æ³•åä¹¦å†™ä¿ç•™åŠ¨è¯ï¼Œä¾‹å¦‚getï¼Œä½¿ç”¨</em>è¡¨ç¤ºåè¯ï¼Œä¾‹å¦‚getByIdåŒ¹é…æè¿°ä¸ºgetBy*<br>6. å‚æ•°æ ¹æ®å®é™…æƒ…å†µçµæ´»è°ƒæ•´</li></ul><h2 id="AOPé€šçŸ¥ç±»å‹"><a href="#AOPé€šçŸ¥ç±»å‹" class="headerlink" title="AOPé€šçŸ¥ç±»å‹"></a>AOPé€šçŸ¥ç±»å‹</h2><h2 id="å‰ç½®é€šçŸ¥"><a href="#å‰ç½®é€šçŸ¥" class="headerlink" title="å‰ç½®é€šçŸ¥"></a>å‰ç½®é€šçŸ¥</h2><pre><code>`@Before("pt()")`</code></pre><h2 id="åç½®é€šçŸ¥"><a href="#åç½®é€šçŸ¥" class="headerlink" title="åç½®é€šçŸ¥"></a>åç½®é€šçŸ¥</h2><pre><code>`@After("pt()")`</code></pre><h2 id="ç¯ç»•é€šçŸ¥-é‡ç‚¹"><a href="#ç¯ç»•é€šçŸ¥-é‡ç‚¹" class="headerlink" title="ç¯ç»•é€šçŸ¥(é‡ç‚¹)"></a>ç¯ç»•é€šçŸ¥(é‡ç‚¹)</h2><pre><code>`@Around("pt()")`</code></pre><ul><li><p>ç¯ç»•é€šçŸ¥ä¾èµ–å½¢å‚ProceedingJoinPointæ‰èƒ½å®ç°å¯¹åŸå§‹æ–¹æ³•çš„è°ƒç”¨</p></li><li><p>ç¯ç»•é€šçŸ¥å¯ä»¥éš”ç¦»åŸå§‹æ–¹æ³•çš„è°ƒç”¨æ‰§è¡Œ</p></li><li><p>ç¯ç»•é€šçŸ¥è¿”å›å€¼è®¾ç½®ä¸ºObjectç±»å‹</p></li><li><p>ç¯ç»•é€šçŸ¥ä¸­å¯ä»¥å¯¹åŸå§‹æ–¹æ³•è°ƒç”¨è¿‡ç¨‹ä¸­å‡ºç°çš„å¼‚å¸¸è¿›è¡Œå¤„ç†</p></li><li><p>è¿”å›åé€šçŸ¥(äº†è§£)   <code>@AfterReturning("pt2()")</code></p></li><li><p>æŠ›å‡ºå¼‚å¸¸åé€šçŸ¥(äº†è§£)    <code>@AfterThrowing</code></p><p><img src="/img/%E5%90%84%E9%80%9A%E7%9F%A5%E5%AF%B9%E5%BA%94%E4%BD%8D%E7%BD%AE.png" alt="image-20230608112904274"></p></li></ul><h2 id="ä¸šåŠ¡å±‚æ¥å£æ‰§è¡Œæ•ˆç‡"><a href="#ä¸šåŠ¡å±‚æ¥å£æ‰§è¡Œæ•ˆç‡" class="headerlink" title="ä¸šåŠ¡å±‚æ¥å£æ‰§è¡Œæ•ˆç‡"></a><strong>ä¸šåŠ¡å±‚æ¥å£æ‰§è¡Œæ•ˆç‡</strong></h2><h2 id="AOPé€šçŸ¥è·å–æ•°æ®"><a href="#AOPé€šçŸ¥è·å–æ•°æ®" class="headerlink" title="AOPé€šçŸ¥è·å–æ•°æ®"></a><strong>AOPé€šçŸ¥è·å–æ•°æ®</strong></h2><h1 id="AOPäº‹åŠ¡ç®¡ç†"><a href="#AOPäº‹åŠ¡ç®¡ç†" class="headerlink" title="AOPäº‹åŠ¡ç®¡ç†"></a>AOPäº‹åŠ¡ç®¡ç†</h1><ul><li>åœ¨æ•°æ®å±‚æˆ–<strong>ä¸šåŠ¡å±‚</strong>ä¿éšœä¸€ç³»åˆ—çš„æ•°æ®åº“æ“ä½œåŒæˆåŠŸåŒå¤±è´¥</li></ul><h2 id="è½¬è´¦æ¡ˆä¾‹-éœ€æ±‚åˆ†æ"><a href="#è½¬è´¦æ¡ˆä¾‹-éœ€æ±‚åˆ†æ" class="headerlink" title="è½¬è´¦æ¡ˆä¾‹-éœ€æ±‚åˆ†æ"></a><strong>è½¬è´¦æ¡ˆä¾‹-éœ€æ±‚åˆ†æ</strong></h2><h2 id="ç¯å¢ƒæ­å»º"><a href="#ç¯å¢ƒæ­å»º" class="headerlink" title="ç¯å¢ƒæ­å»º"></a>ç¯å¢ƒæ­å»º</h2><ol><li><strong>å‡†å¤‡æ•°æ®åº“</strong></li></ol><figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> database spring_db <span class="type">character</span> <span class="keyword">set</span> utf8;</span><br><span class="line">use spring_db;</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> tbl_account(</span><br><span class="line">id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment,</span><br><span class="line">name <span class="type">varchar</span>(<span class="number">35</span>),</span><br><span class="line">money <span class="keyword">double</span></span><br><span class="line">);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> tbl_account <span class="keyword">values</span>(<span class="number">1</span>,<span class="string">'Tom'</span>,<span class="number">1000</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> tbl_account <span class="keyword">values</span>(<span class="number">2</span>,<span class="string">'Jerry'</span>,<span class="number">1000</span>);</span><br></pre></td></tr></tbody></table></figure><ol start="2"><li><strong>åˆ›å»ºé¡¹ç›®å¯¼å…¥jaråŒ…</strong></li></ol><figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.10.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>druid<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.1.16<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.1.47<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-jdbc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.10.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-spring<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.3.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.10.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><ol start="3"><li><strong>æ ¹æ®è¡¨åˆ›å»ºæ¨¡å‹ç±»</strong></li></ol><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Account</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span> {</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Double money;</span><br><span class="line">    <span class="comment">//setter...getter...toString...æ–¹æ³•ç•¥    </span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ol start="4"><li><strong>åˆ›å»ºDaoæ¥å£</strong></li></ol><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">AccountDao</span> {</span><br><span class="line"></span><br><span class="line"><span class="meta">@Update("update tbl_account set money = money + #{money} where name = #{name}")</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">inMoney</span><span class="params">(<span class="meta">@Param("name")</span> String name, <span class="meta">@Param("money")</span> Double money)</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Update("update tbl_account set money = money - #{money} where name = #{name}")</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">outMoney</span><span class="params">(<span class="meta">@Param("name")</span> String name, <span class="meta">@Param("money")</span> Double money)</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ol start="5"><li><strong>åˆ›å»ºServiceæ¥å£å’Œå®ç°ç±»</strong></li></ol><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">AccountService</span> {</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è½¬è´¦æ“ä½œ</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> out ä¼ å‡ºæ–¹</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> in è½¬å…¥æ–¹</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> money é‡‘é¢</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">transfer</span><span class="params">(String out,String in ,Double money)</span> ;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AccountServiceImpl</span> <span class="keyword">implements</span> <span class="title class_">AccountService</span> {</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> AccountDao accountDao;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">transfer</span><span class="params">(String out,String in ,Double money)</span> {</span><br><span class="line">        accountDao.outMoney(out,money);</span><br><span class="line">        accountDao.inMoney(in,money);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ol start="6"><li><strong>æ·»åŠ jdbc.propertiesæ–‡ä»¶</strong></li></ol><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line">jdbc.driver=com.mysql.jdbc.Driver</span><br><span class="line">jdbc.url=jdbc:mysql:<span class="comment">//localhost:3306/spring_db?useSSL=false</span></span><br><span class="line">jdbc.username=root</span><br><span class="line">jdbc.password=root</span><br></pre></td></tr></tbody></table></figure><ol start="7"><li><strong>åˆ›å»ºJdbcConfigé…ç½®ç±»</strong></li></ol><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JdbcConfig</span> {</span><br><span class="line">    <span class="meta">@Value("${jdbc.driver}")</span></span><br><span class="line">    <span class="keyword">private</span> String driver;</span><br><span class="line">    <span class="meta">@Value("${jdbc.url}")</span></span><br><span class="line">    <span class="keyword">private</span> String url;</span><br><span class="line">    <span class="meta">@Value("${jdbc.username}")</span></span><br><span class="line">    <span class="keyword">private</span> String userName;</span><br><span class="line">    <span class="meta">@Value("${jdbc.password}")</span></span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> DataSource <span class="title function_">dataSource</span><span class="params">()</span>{</span><br><span class="line">        <span class="type">DruidDataSource</span> <span class="variable">ds</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DruidDataSource</span>();</span><br><span class="line">        ds.setDriverClassName(driver);</span><br><span class="line">        ds.setUrl(url);</span><br><span class="line">        ds.setUsername(userName);</span><br><span class="line">        ds.setPassword(password);</span><br><span class="line">        <span class="keyword">return</span> ds;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ol start="8"><li><strong>åˆ›å»ºMybatisConfigé…ç½®ç±»</strong></li></ol><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MybatisConfig</span> {</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> SqlSessionFactoryBean <span class="title function_">sqlSessionFactory</span><span class="params">(DataSource dataSource)</span>{</span><br><span class="line">        <span class="type">SqlSessionFactoryBean</span> <span class="variable">ssfb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SqlSessionFactoryBean</span>();</span><br><span class="line">        ssfb.setTypeAliasesPackage(<span class="string">"com.itheima.domain"</span>);</span><br><span class="line">        ssfb.setDataSource(dataSource);</span><br><span class="line">        <span class="keyword">return</span> ssfb;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> MapperScannerConfigurer <span class="title function_">mapperScannerConfigurer</span><span class="params">()</span>{</span><br><span class="line">        <span class="type">MapperScannerConfigurer</span> <span class="variable">msc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MapperScannerConfigurer</span>();</span><br><span class="line">        msc.setBasePackage(<span class="string">"com.itheima.dao"</span>);</span><br><span class="line">        <span class="keyword">return</span> msc;</span><br><span class="line">    }</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure><ol start="9"><li><strong>åˆ›å»ºSpringConfigé…ç½®ç±»</strong></li></ol><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@ComponentScan("com.itheima")</span></span><br><span class="line"><span class="meta">@PropertySource("classpath:jdbc.properties")</span></span><br><span class="line"><span class="meta">@Import({JdbcConfig.class,MybatisConfig.class})</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringConfig</span> {</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ol start="10"><li>ç¼–å†™æµ‹è¯•ç±»</li></ol><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">@RunWith(SpringJUnit4ClassRunner.class)</span></span><br><span class="line"><span class="meta">@ContextConfiguration(classes = SpringConfig.class)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AccountServiceTest</span> {</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> AccountService accountService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testTransfer</span><span class="params">()</span> <span class="keyword">throws</span> IOException {</span><br><span class="line">    accountService.transfer(<span class="string">"Tom"</span>,<span class="string">"Jerry"</span>,<span class="number">100D</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><img src="/img/%E6%9C%80%E7%BB%88%E5%88%9B%E5%BB%BA%E5%A5%BD%E7%9A%84%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84.png" alt="image-20230608113114611"></p><p> æœ€ç»ˆé¡¹ç›®ç»“æ„å¦‚ä¸Š</p><h2 id="å®ç°äº‹åŠ¡ç®¡ç†å…·ä½“æ­¥éª¤"><a href="#å®ç°äº‹åŠ¡ç®¡ç†å…·ä½“æ­¥éª¤" class="headerlink" title="å®ç°äº‹åŠ¡ç®¡ç†å…·ä½“æ­¥éª¤"></a>å®ç°äº‹åŠ¡ç®¡ç†å…·ä½“æ­¥éª¤</h2><h2 id="éœ€è¦è¢«äº‹åŠ¡ç®¡ç†çš„æ–¹æ³•ä¸Šæ·»åŠ æ³¨è§£-Transactional"><a href="#éœ€è¦è¢«äº‹åŠ¡ç®¡ç†çš„æ–¹æ³•ä¸Šæ·»åŠ æ³¨è§£-Transactional" class="headerlink" title="éœ€è¦è¢«äº‹åŠ¡ç®¡ç†çš„æ–¹æ³•ä¸Šæ·»åŠ æ³¨è§£@Transactional"></a>éœ€è¦è¢«äº‹åŠ¡ç®¡ç†çš„æ–¹æ³•ä¸Šæ·»åŠ æ³¨è§£<code>@Transactional</code></h2><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">AccountService</span> {</span><br><span class="line">    <span class="comment">//é…ç½®å½“å‰æ¥å£æ–¹æ³•å…·æœ‰äº‹åŠ¡</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">transfer</span><span class="params">(String out,String in ,Double money)</span> ;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Service</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AccountServiceImpl</span> <span class="keyword">implements</span> <span class="title class_">AccountService</span> {</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Autowired</span></span><br><span class="line">        <span class="keyword">private</span> AccountDao accountDao;</span><br><span class="line">        **<span class="meta">@Transactional</span>**</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">transfer</span><span class="params">(String out,String in ,Double money)</span> {</span><br><span class="line">            accountDao.outMoney(out,money);</span><br><span class="line">            <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>/<span class="number">0</span>;</span><br><span class="line">            accountDao.inMoney(in,money);</span><br><span class="line">        }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="åœ¨JdbcConfigç±»ä¸­é…ç½®äº‹åŠ¡ç®¡ç†å™¨"><a href="#åœ¨JdbcConfigç±»ä¸­é…ç½®äº‹åŠ¡ç®¡ç†å™¨" class="headerlink" title="åœ¨JdbcConfigç±»ä¸­é…ç½®äº‹åŠ¡ç®¡ç†å™¨"></a>åœ¨JdbcConfigç±»ä¸­é…ç½®äº‹åŠ¡ç®¡ç†å™¨</h2><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//é…ç½®äº‹åŠ¡ç®¡ç†å™¨ï¼Œmybatisä½¿ç”¨çš„æ˜¯jdbcäº‹åŠ¡</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> PlatformTransactionManager <span class="title function_">transactionManager</span><span class="params">(DataSource dataSource)</span>{</span><br><span class="line">        <span class="type">DataSourceTransactionManager</span> <span class="variable">transactionManager</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DataSourceTransactionManager</span>();</span><br><span class="line">        transactionManager.setDataSource(dataSource);</span><br><span class="line">        <span class="keyword">return</span> transactionManager;</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure><h2 id="åœ¨SpringConfigçš„é…ç½®ç±»ä¸­å¼€å¯äº‹åŠ¡æ³¨è§£-EnableTransactionManagement"><a href="#åœ¨SpringConfigçš„é…ç½®ç±»ä¸­å¼€å¯äº‹åŠ¡æ³¨è§£-EnableTransactionManagement" class="headerlink" title="åœ¨SpringConfigçš„é…ç½®ç±»ä¸­å¼€å¯äº‹åŠ¡æ³¨è§£  @EnableTransactionManagement"></a>åœ¨SpringConfigçš„é…ç½®ç±»ä¸­å¼€å¯äº‹åŠ¡æ³¨è§£  <code>@EnableTransactionManagement</code></h2><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@ComponentScan("com.itheima")</span></span><br><span class="line"><span class="meta">@PropertySource("classpath:jdbc.properties")</span></span><br><span class="line"><span class="meta">@Import({JdbcConfig.class,MybatisConfig.class})</span></span><br><span class="line"><span class="comment">//å¼€å¯æ³¨è§£å¼äº‹åŠ¡é©±åŠ¨</span></span><br><span class="line"><span class="meta">@EnableTransactionManagement</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringConfig</span> {</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="è¿è¡Œæµ‹è¯•ç±»"><a href="#è¿è¡Œæµ‹è¯•ç±»" class="headerlink" title="è¿è¡Œæµ‹è¯•ç±»"></a>è¿è¡Œæµ‹è¯•ç±»</h2><h2 id="äº‹åŠ¡é…ç½®"><a href="#äº‹åŠ¡é…ç½®" class="headerlink" title="äº‹åŠ¡é…ç½®"></a>äº‹åŠ¡é…ç½®</h2><ul><li><code>@Transactional</code>å‚æ•°</li></ul><p><img src="/img/@transactional%E5%8F%82%E6%95%B0.png" alt="Untitled"></p><h2 id="è½¬è´¦ä¸šåŠ¡è¿½åŠ æ—¥å¿—"><a href="#è½¬è´¦ä¸šåŠ¡è¿½åŠ æ—¥å¿—" class="headerlink" title="è½¬è´¦ä¸šåŠ¡è¿½åŠ æ—¥å¿—"></a>è½¬è´¦ä¸šåŠ¡è¿½åŠ æ—¥å¿—</h2><h2 id="åˆ›å»ºæ—¥å¿—è¡¨"><a href="#åˆ›å»ºæ—¥å¿—è¡¨" class="headerlink" title="åˆ›å»ºæ—¥å¿—è¡¨"></a>åˆ›å»ºæ—¥å¿—è¡¨</h2><figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> tbl_log(</span><br><span class="line">id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment,</span><br><span class="line">info <span class="type">varchar</span>(<span class="number">255</span>),</span><br><span class="line">createDate datetime</span><br><span class="line">)</span><br></pre></td></tr></tbody></table></figure><h2 id="æ·»åŠ LogDaoæ¥å£"><a href="#æ·»åŠ LogDaoæ¥å£" class="headerlink" title="æ·»åŠ LogDaoæ¥å£"></a>æ·»åŠ LogDaoæ¥å£</h2><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">LogDao</span> {</span><br><span class="line">    <span class="meta">@Insert("insert into tbl_log (info,createDate) values(#{info},now())")</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">log</span><span class="params">(String info)</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="æ·»åŠ LogServiceæ¥å£ä¸å®ç°ç±»"><a href="#æ·»åŠ LogServiceæ¥å£ä¸å®ç°ç±»" class="headerlink" title="æ·»åŠ LogServiceæ¥å£ä¸å®ç°ç±»"></a>æ·»åŠ LogServiceæ¥å£ä¸å®ç°ç±»</h2><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">LogService</span> {</span><br><span class="line"><span class="keyword">void</span> <span class="title function_">log</span><span class="params">(String out, String in, Double money)</span>;</span><br><span class="line">}</span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LogServiceImpl</span> <span class="keyword">implements</span> <span class="title class_">LogService</span> {</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> LogDao logDao;</span><br><span class="line">    <span class="meta">@Transactional</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">log</span><span class="params">(String out,String in,Double money )</span> {</span><br><span class="line">    logDao.log(<span class="string">"è½¬è´¦æ“ä½œç”±"</span>+out+<span class="string">"åˆ°"</span>+in+<span class="string">",é‡‘é¢ï¼š"</span>+money);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="åœ¨è½¬è´¦çš„ä¸šåŠ¡ä¸­æ·»åŠ è®°å½•æ—¥å¿—"><a href="#åœ¨è½¬è´¦çš„ä¸šåŠ¡ä¸­æ·»åŠ è®°å½•æ—¥å¿—" class="headerlink" title="åœ¨è½¬è´¦çš„ä¸šåŠ¡ä¸­æ·»åŠ è®°å½•æ—¥å¿—"></a>åœ¨è½¬è´¦çš„ä¸šåŠ¡ä¸­æ·»åŠ è®°å½•æ—¥å¿—</h2><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">AccountService</span> {</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * è½¬è´¦æ“ä½œ</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> out ä¼ å‡ºæ–¹</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> in è½¬å…¥æ–¹</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> money é‡‘é¢</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="comment">//é…ç½®å½“å‰æ¥å£æ–¹æ³•å…·æœ‰äº‹åŠ¡</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">transfer</span><span class="params">(String out,String in ,Double money)</span><span class="keyword">throws</span> IOException ;</span><br><span class="line">}</span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AccountServiceImpl</span> <span class="keyword">implements</span> <span class="title class_">AccountService</span> {</span><br><span class="line"></span><br><span class="line"><span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> AccountDao accountDao;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> LogService logService;</span><br><span class="line">    <span class="meta">@Transactional</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">transfer</span><span class="params">(String out,String in ,Double money)</span> {</span><br><span class="line">        <span class="keyword">try</span>{</span><br><span class="line">            accountDao.outMoney(out,money);</span><br><span class="line">            accountDao.inMoney(in,money);</span><br><span class="line">            }<span class="keyword">finally</span> {</span><br><span class="line">            logService.log(out,in,money);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="äº‹åŠ¡ä¼ æ’­è¡Œä¸º"><a href="#äº‹åŠ¡ä¼ æ’­è¡Œä¸º" class="headerlink" title="äº‹åŠ¡ä¼ æ’­è¡Œä¸º"></a>äº‹åŠ¡ä¼ æ’­è¡Œä¸º</h2><ul><li>äº‹åŠ¡åè°ƒå‘˜å¯¹äº‹åŠ¡ç®¡ç†å‘˜æ‰€æºå¸¦äº‹åŠ¡çš„å¤„ç†æ€åº¦</li><li>è½¬è´¦å¤±è´¥åï¼Œæ‰€æœ‰çš„äº‹åŠ¡éƒ½å›æ»šï¼Œå¯¼è‡´æ—¥å¿—æ²¡æœ‰è®°å½•ä¸‹æ¥ â€” è®©logæ–¹æ³•å•ç‹¬æ˜¯ä¸€ä¸ªäº‹åŠ¡</li><li><strong>ä¿®æ”¹logServiceæ”¹å˜äº‹åŠ¡çš„ä¼ æ’­è¡Œä¸º</strong></li></ul><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LogServiceImpl</span> <span class="keyword">implements</span> <span class="title class_">LogService</span> {</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> LogDao logDao;</span><br><span class="line">    <span class="comment">//propagationè®¾ç½®äº‹åŠ¡å±æ€§ï¼šä¼ æ’­è¡Œä¸ºè®¾ç½®ä¸ºå½“å‰æ“ä½œéœ€è¦æ–°äº‹åŠ¡</span></span><br><span class="line">    <span class="meta">@Transactional(propagation = Propagation.REQUIRES_NEW)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">log</span><span class="params">(String out,String in,Double money )</span> {</span><br><span class="line">        logDao.log(<span class="string">"è½¬è´¦æ“ä½œç”±"</span>+out+<span class="string">"åˆ°"</span>+in+<span class="string">",é‡‘é¢ï¼š"</span>+money);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Spring-Day02  â€”  æ³¨è§£å¼€å‘</title>
      <link href="/2023/06/07/Spring-Day02%20%E2%80%94%20%E6%B3%A8%E8%A7%A3%E5%BC%80%E5%8F%91/"/>
      <url>/2023/06/07/Spring-Day02%20%E2%80%94%20%E6%B3%A8%E8%A7%A3%E5%BC%80%E5%8F%91/</url>
      
        <content type="html"><![CDATA[<h1 id="IOC-x2F-DIé…ç½®ç®¡ç†ç¬¬ä¸‰æ–¹bean"><a href="#IOC-x2F-DIé…ç½®ç®¡ç†ç¬¬ä¸‰æ–¹bean" class="headerlink" title="IOC/DIé…ç½®ç®¡ç†ç¬¬ä¸‰æ–¹bean"></a>IOC/DIé…ç½®ç®¡ç†ç¬¬ä¸‰æ–¹bean</h1><h2 id="æ¡ˆä¾‹ï¼šé…ç½®Druid"><a href="#æ¡ˆä¾‹ï¼šé…ç½®Druid" class="headerlink" title="æ¡ˆä¾‹ï¼šé…ç½®Druid"></a>æ¡ˆä¾‹ï¼šé…ç½®Druid</h2><h2 id="ç¯å¢ƒå‡†å¤‡"><a href="#ç¯å¢ƒå‡†å¤‡" class="headerlink" title="ç¯å¢ƒå‡†å¤‡"></a>ç¯å¢ƒå‡†å¤‡</h2><ol><li>åˆ›å»ºmavené¡¹ç›®</li><li>pom.xmlæ·»åŠ ä¾èµ– <code>spring-context</code></li><li>resourcesä¸‹æ·»åŠ  <code>applicationContext.xml</code></li><li>ç¼–å†™è¿è¡Œç±» <code>ApplicationContext ctx</code></li></ol><h2 id="pom-xmlå¯¼å…¥-druid-ä¾èµ–"><a href="#pom-xmlå¯¼å…¥-druid-ä¾èµ–" class="headerlink" title="pom.xmlå¯¼å…¥ druid ä¾èµ–"></a><strong>pom.xmlå¯¼å…¥ <code>druid</code> ä¾èµ–</strong></h2><h2 id="é…ç½®ç±»é…ç½®ç¬¬ä¸‰æ–¹bean"><a href="#é…ç½®ç±»é…ç½®ç¬¬ä¸‰æ–¹bean" class="headerlink" title="é…ç½®ç±»é…ç½®ç¬¬ä¸‰æ–¹bean"></a><strong>é…ç½®ç±»é…ç½®ç¬¬ä¸‰æ–¹bean</strong></h2><figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--ç®¡ç†DruidDataSourceå¯¹è±¡--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"dataSource"</span> <span class="attr">class</span>=<span class="string">"com.alibaba.druid.pool.DruidDataSource"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"driverClassName"</span> <span class="attr">value</span>=<span class="string">"com.mysql.jdbc.Driver"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"url"</span> <span class="attr">value</span>=<span class="string">"jdbc:mysql://localhost:3306/spring_db"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"username"</span> <span class="attr">value</span>=<span class="string">"root"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"password"</span> <span class="attr">value</span>=<span class="string">"950827"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><h2 id="ä»IOCå®¹å™¨ä¸­è·å–å¯¹åº”çš„beanå¯¹è±¡"><a href="#ä»IOCå®¹å™¨ä¸­è·å–å¯¹åº”çš„beanå¯¹è±¡" class="headerlink" title="ä»IOCå®¹å™¨ä¸­è·å–å¯¹åº”çš„beanå¯¹è±¡"></a><strong>ä»IOCå®¹å™¨ä¸­è·å–å¯¹åº”çš„beanå¯¹è±¡</strong></h2><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">App</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">    <span class="type">ApplicationContext</span> <span class="variable">ctx</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">"applicationContext.xml"</span>);</span><br><span class="line">    <span class="type">DataSource</span> <span class="variable">dataSource</span> <span class="operator">=</span> (DataSource) ctx.getBean(<span class="string">"dataSource"</span>);</span><br><span class="line">    System.out.println(dataSource);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h2><ol><li>å¯¹äºæ–°çš„æŠ€æœ¯ï¼Œä¸çŸ¥é“å…·ä½“çš„åæ ‡è¯¥å¦‚ä½•æŸ¥æ‰¾?<ol><li>ç™¾åº¦</li><li>ä»mvnçš„ä»“åº“<code>https://mvnrepository.com/</code>ä¸­è¿›è¡Œæœç´¢</li></ol></li><li>æŠ¥çš„é”™ä¸º<strong>ClassNotFoundException</strong>ï¼Œå…·ä½“çš„ç±»ä¸º<code>com.mysql.jdbc.Driver</code>é”™è¯¯çš„åŸå› æ˜¯ç¼ºå°‘mysqlçš„é©±åŠ¨åŒ…<ol><li>åœ¨pom.xmlæŠŠé©±åŠ¨åŒ…å¼•å…¥å³å¯</li></ol></li></ol><h2 id="åŠ è½½propertiesæ–‡ä»¶"><a href="#åŠ è½½propertiesæ–‡ä»¶" class="headerlink" title="åŠ è½½propertiesæ–‡ä»¶"></a>åŠ è½½propertiesæ–‡ä»¶</h2><p>åŸå› ï¼š å±æ€§å†™åœ¨Springçš„é…ç½®æ–‡ä»¶ä¸­ä¸åˆ©äºåæœŸç»´æŠ¤<br>â€‹                           â€”&gt; <strong>å°†è¿™äº›å€¼æå–åˆ°ä¸€ä¸ªå¤–éƒ¨çš„propertiesé…ç½®æ–‡ä»¶ä¸­</strong></p><p>å…·ä½“æ­¥éª¤ï¼š</p><h2 id="resourcesä¸‹åˆ›å»ºä¸€ä¸ªjdbc-propertiesæ–‡ä»¶"><a href="#resourcesä¸‹åˆ›å»ºä¸€ä¸ªjdbc-propertiesæ–‡ä»¶" class="headerlink" title="resourcesä¸‹åˆ›å»ºä¸€ä¸ªjdbc.propertiesæ–‡ä»¶"></a>resourcesä¸‹åˆ›å»ºä¸€ä¸ªjdbc.propertiesæ–‡ä»¶</h2><figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line">jdbc.driver=com.mysql.jdbc.Driver</span><br><span class="line">jdbc.url=jdbc:mysql://127.0.0.1:3306/spring_db</span><br><span class="line">jdbc.username=root</span><br><span class="line">jdbc.password=root</span><br></pre></td></tr></tbody></table></figure><h2 id="å¼€å¯contextå‘½åç©ºé—´ã€åŠ è½½propertiesé…ç½®æ–‡ä»¶ã€å®Œæˆå±æ€§æ³¨å…¥"><a href="#å¼€å¯contextå‘½åç©ºé—´ã€åŠ è½½propertiesé…ç½®æ–‡ä»¶ã€å®Œæˆå±æ€§æ³¨å…¥" class="headerlink" title="å¼€å¯contextå‘½åç©ºé—´ã€åŠ è½½propertiesé…ç½®æ–‡ä»¶ã€å®Œæˆå±æ€§æ³¨å…¥"></a><strong>å¼€å¯<code>context</code>å‘½åç©ºé—´ã€åŠ è½½propertiesé…ç½®æ–‡ä»¶ã€å®Œæˆå±æ€§æ³¨å…¥</strong></h2><figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">"1.0"</span> encoding=<span class="string">"UTF-8"</span>?&gt;</span></span><br><span class="line">**<span class="comment">&lt;!--å¼€å¯contextå‘½åç©ºé—´--&gt;</span>**</span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span></span></span><br><span class="line"><span class="tag"><span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag"><span class="attr">xmlns:context</span>=<span class="string">"http://www.springframework.org/schema/context"</span></span></span><br><span class="line"><span class="tag"><span class="attr">xsi:schemaLocation</span>=<span class="string">"</span></span></span><br><span class="line"><span class="string"><span class="tag">http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">http://www.springframework.org/schema/context</span></span></span><br><span class="line"><span class="string"><span class="tag">http://www.springframework.org/schema/context/spring-context.xsd"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--åŠ è½½propertiesé…ç½®--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:property-placeholder</span> <span class="attr">location</span>=<span class="string">"jdbc.properties"</span>/&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--**å®Œæˆå±æ€§æ³¨å…¥**--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"dataSource"</span> <span class="attr">class</span>=<span class="string">"com.alibaba.druid.pool.DruidDataSource"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"driverClassName"</span> <span class="attr">value</span>=<span class="string">"${jdbc.driver}"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"url"</span> <span class="attr">value</span>=<span class="string">"${jdbc.url}"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"username"</span> <span class="attr">value</span>=<span class="string">"${jdbc.username}"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"password"</span> <span class="attr">value</span>=<span class="string">"${jdbc.password}"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><h2 id="å¤šä¸ªpropertyæ–‡ä»¶éœ€è¦åŠ è½½æ—¶"><a href="#å¤šä¸ªpropertyæ–‡ä»¶éœ€è¦åŠ è½½æ—¶" class="headerlink" title="å¤šä¸ªpropertyæ–‡ä»¶éœ€è¦åŠ è½½æ—¶"></a>å¤šä¸ªpropertyæ–‡ä»¶éœ€è¦åŠ è½½æ—¶</h2><figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--æ–¹å¼ä¸€ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">context:property-placeholder</span> <span class="attr">location</span>=<span class="string">"jdbc.properties,jdbc2.properties"</span> <span class="attr">system-properties-mode</span>=<span class="string">"NEVER"</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!--æ–¹å¼äºŒ--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">context:property-placeholder</span> <span class="attr">location</span>=<span class="string">"*.properties"</span> <span class="attr">system-properties-mode</span>=<span class="string">"NEVER"</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!--æ–¹å¼ä¸‰ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">context:property-placeholder</span> <span class="attr">location</span>=<span class="string">"classpath:*.properties"</span> <span class="attr">system-properties-mode</span>=<span class="string">"NEVER"</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!--æ–¹å¼å››--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">context:property-placeholder</span> <span class="attr">location</span>=<span class="string">"classpath*:*.properties"</span> <span class="attr">system-properties-mode</span>=<span class="string">"NEVER"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><h1 id="æ ¸å¿ƒå®¹å™¨"><a href="#æ ¸å¿ƒå®¹å™¨" class="headerlink" title="æ ¸å¿ƒå®¹å™¨"></a>æ ¸å¿ƒå®¹å™¨</h1><p> ç®€å•çš„ç†è§£ä¸º<code>ApplicationContext</code></p><h2 id="å®¹å™¨çš„åˆ›å»ºæ–¹å¼"><a href="#å®¹å™¨çš„åˆ›å»ºæ–¹å¼" class="headerlink" title="å®¹å™¨çš„åˆ›å»ºæ–¹å¼"></a>å®¹å™¨çš„åˆ›å»ºæ–¹å¼</h2><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//ç±»è·¯å¾„ä¸‹çš„XMLé…ç½®æ–‡ä»¶    æŒæ¡</span></span><br><span class="line"><span class="type">ApplicationContext</span> <span class="variable">ctx</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">"applicationContext.xml"</span>);</span><br><span class="line"><span class="comment">//æ–‡ä»¶ç³»ç»Ÿä¸‹çš„XMLé…ç½®æ–‡ä»¶  äº†è§£</span></span><br><span class="line"><span class="type">ApplicationContext</span> <span class="variable">ctx</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileSystemXmlApplicationContext</span>(<span class="string">"D:\\workspace\\spring\\spring_10_container\\src\\main\\resources\\applicationContext.xml"</span>);</span><br></pre></td></tr></tbody></table></figure><h2 id="beançš„ä¸‰ç§è·å–æ–¹å¼"><a href="#beançš„ä¸‰ç§è·å–æ–¹å¼" class="headerlink" title="beançš„ä¸‰ç§è·å–æ–¹å¼"></a>beançš„ä¸‰ç§è·å–æ–¹å¼</h2><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//æ–¹å¼ä¸€   getBean("åç§°"):éœ€è¦ç±»å‹è½¬æ¢</span></span><br><span class="line"><span class="type">BookDao</span> <span class="variable">bookDao</span> <span class="operator">=</span> (BookDao) ctx.getBean(<span class="string">"bookDao"</span>);</span><br><span class="line"><span class="comment">//æ–¹å¼äºŒ    getBean("åç§°",ç±»å‹.class):å¤šäº†ä¸€ä¸ªå‚æ•°</span></span><br><span class="line"><span class="type">BookDao</span> <span class="variable">bookDao</span> <span class="operator">=</span> ctx.getBean(<span class="string">"bookDao"</span>ï¼ŒBookDao.class);</span><br><span class="line"><span class="comment">//æ–¹å¼ä¸‰    å®¹å™¨ä¸­ä¸èƒ½æœ‰å¤šä¸ªè¯¥ç±»çš„beanå¯¹è±¡</span></span><br><span class="line"><span class="type">BookDao</span> <span class="variable">bookDao</span> <span class="operator">=</span> ctx.getBean(BookDao.class);</span><br></pre></td></tr></tbody></table></figure><h2 id="å®¹å™¨ç±»å±‚æ¬¡ç»“æ„"><a href="#å®¹å™¨ç±»å±‚æ¬¡ç»“æ„" class="headerlink" title="å®¹å™¨ç±»å±‚æ¬¡ç»“æ„"></a>å®¹å™¨ç±»å±‚æ¬¡ç»“æ„</h2><ul><li><strong>å®¹å™¨çš„æœ€ä¸Šçº§çš„çˆ¶æ¥å£ä¸º BeanFactory</strong></li></ul><h2 id="BeanFactory-â€”é¢é¢ä¸å¤ªæ‡‚"><a href="#BeanFactory-â€”é¢é¢ä¸å¤ªæ‡‚" class="headerlink" title="BeanFactory  â€”é¢é¢ä¸å¤ªæ‡‚"></a>BeanFactory  â€”é¢é¢ä¸å¤ªæ‡‚</h2><h2 id="ä½¿ç”¨BeanFactoryæ¥åˆ›å»ºIOCå®¹å™¨"><a href="#ä½¿ç”¨BeanFactoryæ¥åˆ›å»ºIOCå®¹å™¨" class="headerlink" title="ä½¿ç”¨BeanFactoryæ¥åˆ›å»ºIOCå®¹å™¨"></a>ä½¿ç”¨BeanFactoryæ¥åˆ›å»ºIOCå®¹å™¨</h2><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AppForBeanFactory</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="type">Resource</span> <span class="variable">resources</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassPathResource</span>(<span class="string">"applicationContext.xml"</span>);</span><br><span class="line">        <span class="comment">//åˆ›å»ºäº†ä¸€ä¸ªbfçš„IOCå®¹å™¨</span></span><br><span class="line">        <span class="type">BeanFactory</span> <span class="variable">bf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">XmlBeanFactory</span>(resources);</span><br><span class="line">        <span class="type">BookDao</span> <span class="variable">bookDao</span> <span class="operator">=</span> bf.getBean(BookDao.class);</span><br><span class="line">        bookDao.save();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><ul><li>ä½¿ç”¨BeanFactoryåˆ›å»ºçš„å®¹å™¨æ˜¯<strong>å»¶è¿ŸåŠ è½½</strong></li><li>ä½¿ç”¨ApplicationContextåˆ›å»ºçš„å®¹å™¨æ˜¯<strong>ç«‹å³åŠ è½½</strong></li><li>å…·ä½“BeanFactoryå¦‚ä½•åˆ›å»ºåªéœ€è¦äº†è§£å³å¯</li></ul><h1 id="IOC-x2F-DIæ³¨è§£å¼€å‘"><a href="#IOC-x2F-DIæ³¨è§£å¼€å‘" class="headerlink" title="IOC/DIæ³¨è§£å¼€å‘"></a>IOC/DIæ³¨è§£å¼€å‘</h1><h2 id="æ³¨è§£å¼€å‘å®šä¹‰bean"><a href="#æ³¨è§£å¼€å‘å®šä¹‰bean" class="headerlink" title="æ³¨è§£å¼€å‘å®šä¹‰bean"></a><strong>æ³¨è§£å¼€å‘å®šä¹‰bean</strong></h2><ol><li>ç¯å¢ƒå‡†å¤‡</li><li>åˆ é™¤åŸXMLé…ç½®çš„<code>&lt;bean&gt;</code>æ ‡ç­¾</li><li>Daoä¸Šæ·»åŠ <code>@Component</code>æ³¨è§£</li><li>é…ç½®Springçš„æ³¨è§£åŒ…æ‰«æ <code>@ComponentScan</code></li><li>ServiceImplç±»ä¸Šä¹Ÿæ·»åŠ <code>@Component</code></li><li>è¿è¡Œè¡Œä¸ºç±»æµ‹è¯•</li></ol><p><img src="/img/XML%E4%B8%8E%E6%B3%A8%E8%A7%A3%E9%85%8D%E7%BD%AE%E7%9A%84%E5%AF%B9%E5%BA%94%E5%85%B3%E7%B3%BB.png" alt="XMLä¸æ³¨è§£é…ç½®çš„å¯¹åº”å…³ç³»"></p><p><code>@Controller</code> ã€<code>@Service</code>ã€<code>@Repository</code></p><h2 id="çº¯æ³¨è§£å¼€å‘æ¨¡å¼"><a href="#çº¯æ³¨è§£å¼€å‘æ¨¡å¼" class="headerlink" title="çº¯æ³¨è§£å¼€å‘æ¨¡å¼"></a>çº¯æ³¨è§£å¼€å‘æ¨¡å¼</h2><ul><li>å°†é…ç½®æ–‡ä»¶applicationContext.xmlåˆ é™¤æ‰ï¼Œä½¿ç”¨ç±»æ¥æ›¿æ¢</li></ul><h2 id="ã€â—æ›´æ–°ã€‘ç¯å¢ƒå‡†å¤‡"><a href="#ã€â—æ›´æ–°ã€‘ç¯å¢ƒå‡†å¤‡" class="headerlink" title="ã€â—æ›´æ–°ã€‘ç¯å¢ƒå‡†å¤‡"></a>ã€â—æ›´æ–°ã€‘ç¯å¢ƒå‡†å¤‡</h2><ol><li>åˆ›å»ºmaven</li><li>pom.xml</li><li><strong>springconfigã€åˆšå­¦çš„æ³¨è§£å¼€å‘å®šä¹‰beanã€‘</strong></li><li>æ·»åŠ ç±»</li></ol><h2 id="åˆ›å»ºä¸€ä¸ªé…ç½®ç±»SpringConfig-ã€æ ‡è¯†è¯¥ç±»ä¸ºé…ç½®ç±»ã€ç”¨æ³¨è§£æ›¿æ¢åŒ…æ‰«æé…ç½®"><a href="#åˆ›å»ºä¸€ä¸ªé…ç½®ç±»SpringConfig-ã€æ ‡è¯†è¯¥ç±»ä¸ºé…ç½®ç±»ã€ç”¨æ³¨è§£æ›¿æ¢åŒ…æ‰«æé…ç½®" class="headerlink" title="åˆ›å»ºä¸€ä¸ªé…ç½®ç±»SpringConfig ã€æ ‡è¯†è¯¥ç±»ä¸ºé…ç½®ç±»ã€ç”¨æ³¨è§£æ›¿æ¢åŒ…æ‰«æé…ç½®"></a>åˆ›å»ºä¸€ä¸ªé…ç½®ç±»<code>SpringConfig</code> ã€æ ‡è¯†è¯¥ç±»ä¸ºé…ç½®ç±»ã€ç”¨æ³¨è§£æ›¿æ¢åŒ…æ‰«æé…ç½®</h2><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//å°†å…¶æ ‡è¯†ä¸ºä¸€ä¸ªé…ç½®ç±»,æ›¿æ¢`applicationContext.xml`</span></span><br><span class="line"><span class="meta">@Configuration</span>  </span><br><span class="line"><span class="comment">//æ›¿æ¢`&lt;context:component-scan base-package=""/&gt;`</span></span><br><span class="line"><span class="meta">@ComponentScan("com.itheima")</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringConfig</span> {</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="åˆ›å»ºè¿è¡Œç±»å¹¶æ‰§è¡Œ"><a href="#åˆ›å»ºè¿è¡Œç±»å¹¶æ‰§è¡Œ" class="headerlink" title="åˆ›å»ºè¿è¡Œç±»å¹¶æ‰§è¡Œ"></a>åˆ›å»ºè¿è¡Œç±»å¹¶æ‰§è¡Œ</h2><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AppForAnnotation</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="type">ApplicationContext</span> <span class="variable">ctx</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AnnotationConfigApplicationContext</span>(SpringConfig.class);</span><br><span class="line">        <span class="type">BookDao</span> <span class="variable">bookDao</span> <span class="operator">=</span> (BookDao) ctx.getBean(<span class="string">"bookDao"</span>);</span><br><span class="line">        System.out.println(bookDao);</span><br><span class="line">        <span class="type">BookService</span> <span class="variable">bookService</span> <span class="operator">=</span> ctx.getBean(BookService.class);</span><br><span class="line">        System.out.println(bookService);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="æ³¨è§£å¼€å‘beançš„ä½œç”¨èŒƒå›´å’Œç”Ÿå‘½å‘¨æœŸç®¡ç†"><a href="#æ³¨è§£å¼€å‘beançš„ä½œç”¨èŒƒå›´å’Œç”Ÿå‘½å‘¨æœŸç®¡ç†" class="headerlink" title="æ³¨è§£å¼€å‘beançš„ä½œç”¨èŒƒå›´å’Œç”Ÿå‘½å‘¨æœŸç®¡ç†"></a>æ³¨è§£å¼€å‘beançš„ä½œç”¨èŒƒå›´å’Œç”Ÿå‘½å‘¨æœŸç®¡ç†</h2><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">@Scope("prototype")</span>   <span class="comment">//@Scopeè®¾ç½®beançš„ä½œç”¨èŒƒå›´</span></span><br><span class="line"><span class="meta">@Repository</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BookDaoImpl</span> <span class="keyword">implements</span> <span class="title class_">BookDao</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">()</span> {</span><br><span class="line">            System.out.println(<span class="string">"book dao save ..."</span>);</span><br><span class="line">    }</span><br><span class="line">    <span class="meta">@PostConstruct</span> <span class="comment">//åœ¨æ„é€ æ–¹æ³•ä¹‹åæ‰§è¡Œï¼Œæ›¿æ¢ init-method</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span> {</span><br><span class="line">        System.out.println(<span class="string">"init ..."</span>);</span><br><span class="line">    }</span><br><span class="line">    <span class="meta">@PreDestroy</span> <span class="comment">//åœ¨é”€æ¯æ–¹æ³•ä¹‹å‰æ‰§è¡Œ,æ›¿æ¢ destroy-method</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">destroy</span><span class="params">()</span> {</span><br><span class="line">        System.out.println(<span class="string">"destroy ..."</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p><strong>æ³¨è§£å¯¹åº”å…³ç³»å›¾</strong><img src="/img/%E6%B3%A8%E8%A7%A3%E5%AF%B9%E5%BA%94%E5%85%B3%E7%B3%BB%E5%9B%BE.png" alt="Untitled"></p><h1 id="æ³¨è§£å¼€å‘ä¾èµ–æ³¨å…¥"><a href="#æ³¨è§£å¼€å‘ä¾èµ–æ³¨å…¥" class="headerlink" title="æ³¨è§£å¼€å‘ä¾èµ–æ³¨å…¥"></a>æ³¨è§£å¼€å‘ä¾èµ–æ³¨å…¥</h1><h2 id="beanå’Œserviceçš„å…³ç³»"><a href="#beanå’Œserviceçš„å…³ç³»" class="headerlink" title="beanå’Œserviceçš„å…³ç³»"></a>beanå’Œserviceçš„å…³ç³»</h2><ul><li>ä¹‹å‰çš„é…ç½®æ–‡ä»¶applicationé…ç½®å¥½çš„beanå’Œserviceçš„å…³ç³»è¿˜æ²¡ç”¨æ³¨è§£å¼€å‘ï¼Œæ‰€ä»¥bookDaoå¯¹è±¡ä¸ºNull,è°ƒç”¨å…¶saveæ–¹æ³•å°±ä¼šæŠ¥<strong>ç©ºæŒ‡é’ˆå¼‚å¸¸</strong>ã€‚</li><li>è§£å†³åŠæ³•ï¼šåœ¨BookServiceImplç±»çš„bookDaoå±æ€§ä¸Šæ·»åŠ <code>@Autowired</code>æ³¨è§£<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BookServiceImpl</span> <span class="keyword">implements</span> <span class="title class_">BookService</span> {</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> BookDao bookDao;</span><br><span class="line">        <span class="comment">//  public void setBookDao(BookDao bookDao) {</span></span><br><span class="line">        <span class="comment">//        this.bookDao = bookDao;</span></span><br><span class="line">        <span class="comment">//    }</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">()</span> {</span><br><span class="line">        System.out.println(<span class="string">"book service save ..."</span>);</span><br><span class="line">        bookDao.save();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></li></ul><h2 id="æŒ‰ç…§åç§°æ³¨å…¥"><a href="#æŒ‰ç…§åç§°æ³¨å…¥" class="headerlink" title="æŒ‰ç…§åç§°æ³¨å…¥"></a>æŒ‰ç…§åç§°æ³¨å…¥</h2><ul><li>å¦‚æœDaoæ¥å£ç±»æœ‰å¤šä¸ªå®ç°ç±»ï¼Œè§£å†³æ–¹æ¡ˆ:<code>æŒ‰ç…§åç§°æ³¨å…¥</code></li></ul><h2 id="DaoImplæ–‡ä»¶"><a href="#DaoImplæ–‡ä»¶" class="headerlink" title="DaoImplæ–‡ä»¶"></a>DaoImplæ–‡ä»¶</h2><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//èµ·åˆ«å</span></span><br><span class="line"><span class="meta">@Repository("bookDao")</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BookDaoImpl</span> <span class="keyword">implements</span> <span class="title class_">BookDao</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">()</span> {</span><br><span class="line">    System.out.println(<span class="string">"book dao save ..."</span> );</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line">    <span class="meta">@Repository("bookDao2")</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BookDaoImpl2</span> <span class="keyword">implements</span> <span class="title class_">BookDao</span> {</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">()</span> {</span><br><span class="line">            System.out.println(<span class="string">"book dao save ...2"</span> );</span><br><span class="line">        }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="ServiceImplæ–‡ä»¶"><a href="#ServiceImplæ–‡ä»¶" class="headerlink" title="ServiceImplæ–‡ä»¶"></a>ServiceImplæ–‡ä»¶</h2><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BookServiceImpl</span> <span class="keyword">implements</span> <span class="title class_">BookService</span> {</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="meta">@Qualifier("bookDao1")</span></span><br><span class="line">    <span class="keyword">private</span> BookDao bookDao;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">()</span> {</span><br><span class="line">        System.out.println(<span class="string">"book service save ..."</span>);</span><br><span class="line">        bookDao.save();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="ç®€å•æ•°æ®ç±»å‹æ³¨å…¥"><a href="#ç®€å•æ•°æ®ç±»å‹æ³¨å…¥" class="headerlink" title="ç®€å•æ•°æ®ç±»å‹æ³¨å…¥"></a>ç®€å•æ•°æ®ç±»å‹æ³¨å…¥</h2><h2 id="DaoImplæ–‡ä»¶-1"><a href="#DaoImplæ–‡ä»¶-1" class="headerlink" title="DaoImplæ–‡ä»¶"></a>DaoImplæ–‡ä»¶</h2><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">@Repository("bookDao")</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BookDaoImpl</span> <span class="keyword">implements</span> <span class="title class_">BookDao</span> {</span><br><span class="line">    **<span class="keyword">private</span> String name;**</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">()</span> {</span><br><span class="line">    System.out.println(<span class="string">"book dao save ..."</span> + name);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="ServiceImplæ–‡ä»¶-1"><a href="#ServiceImplæ–‡ä»¶-1" class="headerlink" title="ServiceImplæ–‡ä»¶"></a>ServiceImplæ–‡ä»¶</h2><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">@Repository("bookDao")</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BookDaoImpl</span> <span class="keyword">implements</span> <span class="title class_">BookDao</span> {</span><br><span class="line">    **<span class="meta">@Value("itheima")</span>**</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">()</span> {</span><br><span class="line">    System.out.println(<span class="string">"book dao save ..."</span> + name);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="æ³¨è§£è¯»å–propertiesé…ç½®æ–‡ä»¶"><a href="#æ³¨è§£è¯»å–propertiesé…ç½®æ–‡ä»¶" class="headerlink" title="æ³¨è§£è¯»å–propertiesé…ç½®æ–‡ä»¶"></a>æ³¨è§£è¯»å–propertiesé…ç½®æ–‡ä»¶</h2><h2 id="resourceä¸‹å‡†å¤‡propertiesæ–‡ä»¶"><a href="#resourceä¸‹å‡†å¤‡propertiesæ–‡ä»¶" class="headerlink" title="resourceä¸‹å‡†å¤‡propertiesæ–‡ä»¶"></a>resourceä¸‹å‡†å¤‡propertiesæ–‡ä»¶</h2><h2 id="springconfigåŠ è½½propertiesé…ç½®æ–‡ä»¶"><a href="#springconfigåŠ è½½propertiesé…ç½®æ–‡ä»¶" class="headerlink" title="springconfigåŠ è½½propertiesé…ç½®æ–‡ä»¶"></a>springconfigåŠ è½½propertiesé…ç½®æ–‡ä»¶</h2><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@ComponentScan("com.itheima")</span></span><br><span class="line"><span class="comment">//å¦‚æœè¦æŒ‡å®šå¤šä¸ªé…ç½®æ–‡ä»¶ï¼Œä¸æ”¯æŒä½¿ç”¨é€šé…ç¬¦*</span></span><br><span class="line"><span class="comment">//1.@PropertySource({"jdbc.properties","xxx.properties"})</span></span><br><span class="line"><span class="comment">//2.@PropertySource({"classpath:jdbc.properties"})</span></span><br><span class="line"><span class="meta">@PropertySource("jdbc.properties")</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringConfig</span> {</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="DaoImplè¯»å–é…ç½®æ–‡ä»¶ä¸­çš„å†…å®¹"><a href="#DaoImplè¯»å–é…ç½®æ–‡ä»¶ä¸­çš„å†…å®¹" class="headerlink" title="DaoImplè¯»å–é…ç½®æ–‡ä»¶ä¸­çš„å†…å®¹"></a>DaoImplè¯»å–é…ç½®æ–‡ä»¶ä¸­çš„å†…å®¹</h2><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">@Repository("bookDao")</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BookDaoImpl</span> <span class="keyword">implements</span> <span class="title class_">BookDao</span> {</span><br><span class="line">    **<span class="meta">@Value("${name}")</span>**</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">()</span> {</span><br><span class="line">    System.out.println(<span class="string">"book dao save ..."</span> + name);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h1 id="IOC-x2F-DIæ³¨è§£å¼€å‘ç®¡ç†ç¬¬ä¸‰æ–¹bean"><a href="#IOC-x2F-DIæ³¨è§£å¼€å‘ç®¡ç†ç¬¬ä¸‰æ–¹bean" class="headerlink" title="IOC/DIæ³¨è§£å¼€å‘ç®¡ç†ç¬¬ä¸‰æ–¹bean"></a>IOC/DIæ³¨è§£å¼€å‘ç®¡ç†ç¬¬ä¸‰æ–¹bean</h1><pre><code>- ç¬¬ä¸‰æ–¹çš„ç±»éƒ½æ˜¯åœ¨jaråŒ…ä¸­ï¼Œæˆ‘ä»¬æ²¡æœ‰åŠæ³•åœ¨ç±»ä¸Šé¢æ·»åŠ æ³¨è§£ï¼Ÿ</code></pre><h2 id="æ¡ˆä¾‹ï¼šæ³¨è§£å¼€å‘ç®¡ç†ç¬¬ä¸‰æ–¹bean"><a href="#æ¡ˆä¾‹ï¼šæ³¨è§£å¼€å‘ç®¡ç†ç¬¬ä¸‰æ–¹bean" class="headerlink" title="æ¡ˆä¾‹ï¼šæ³¨è§£å¼€å‘ç®¡ç†ç¬¬ä¸‰æ–¹bean"></a>æ¡ˆä¾‹ï¼šæ³¨è§£å¼€å‘ç®¡ç†ç¬¬ä¸‰æ–¹bean</h2><h2 id="å¯¼å…¥å¯¹åº”çš„jaråŒ…"><a href="#å¯¼å…¥å¯¹åº”çš„jaråŒ…" class="headerlink" title="å¯¼å…¥å¯¹åº”çš„jaråŒ…"></a><strong>å¯¼å…¥å¯¹åº”çš„jaråŒ…</strong></h2><h2 id="åœ¨é…ç½®ç±»ä¸­æ·»åŠ ä¸€ä¸ªæ–¹æ³•ã€æ·»åŠ -Beanæ³¨è§£"><a href="#åœ¨é…ç½®ç±»ä¸­æ·»åŠ ä¸€ä¸ªæ–¹æ³•ã€æ·»åŠ -Beanæ³¨è§£" class="headerlink" title="åœ¨é…ç½®ç±»ä¸­æ·»åŠ ä¸€ä¸ªæ–¹æ³•ã€æ·»åŠ @Beanæ³¨è§£"></a><strong>åœ¨é…ç½®ç±»ä¸­æ·»åŠ ä¸€ä¸ªæ–¹æ³•ã€æ·»åŠ <code>@Bean</code>æ³¨è§£</strong></h2><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringConfig</span> {</span><br><span class="line">    **<span class="meta">@Bean</span>**</span><br><span class="line">    <span class="keyword">public</span> DataSource <span class="title function_">dataSource</span><span class="params">()</span>{</span><br><span class="line">        <span class="type">DruidDataSource</span> <span class="variable">ds</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DruidDataSource</span>();</span><br><span class="line">        ds.setDriverClassName(<span class="string">"com.mysql.jdbc.Driver"</span>);</span><br><span class="line">        ds.setUrl(<span class="string">"jdbc:mysql://localhost:3306/spring_db"</span>);</span><br><span class="line">        ds.setUsername(<span class="string">"root"</span>);</span><br><span class="line">        ds.setPassword(<span class="string">"950827"</span>);</span><br><span class="line">        <span class="keyword">return</span> ds;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="ä»IOCå®¹å™¨ä¸­è·å–å¯¹è±¡å¹¶æ‰“å°"><a href="#ä»IOCå®¹å™¨ä¸­è·å–å¯¹è±¡å¹¶æ‰“å°" class="headerlink" title="ä»IOCå®¹å™¨ä¸­è·å–å¯¹è±¡å¹¶æ‰“å°"></a><strong>ä»IOCå®¹å™¨ä¸­è·å–å¯¹è±¡å¹¶æ‰“å°</strong></h2><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">App</span> {</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="type">AnnotationConfigApplicationContext</span> <span class="variable">ctx</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AnnotationConfigApplicationContext</span>(SpringConfig.class);</span><br><span class="line">        <span class="type">DataSource</span> <span class="variable">dataSource</span> <span class="operator">=</span> ctx.getBean(DataSource.class);</span><br><span class="line">        System.out.println(dataSource);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="å¼•å…¥å¤–éƒ¨é…ç½®ç±»"><a href="#å¼•å…¥å¤–éƒ¨é…ç½®ç±»" class="headerlink" title="å¼•å…¥å¤–éƒ¨é…ç½®ç±»"></a><strong>å¼•å…¥å¤–éƒ¨é…ç½®ç±»</strong></h2><h2 id="æ–°å»ºä¸€ä¸ªJdbcConfigé…ç½®ç±»"><a href="#æ–°å»ºä¸€ä¸ªJdbcConfigé…ç½®ç±»" class="headerlink" title="æ–°å»ºä¸€ä¸ªJdbcConfigé…ç½®ç±»"></a>æ–°å»ºä¸€ä¸ª<code>JdbcConfig</code>é…ç½®ç±»</h2><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JdbcConfig</span> {</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> DataSource <span class="title function_">dataSource</span><span class="params">()</span>{</span><br><span class="line">        <span class="type">DruidDataSource</span> <span class="variable">ds</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DruidDataSource</span>();</span><br><span class="line">        ds.setDriverClassName(<span class="string">"com.mysql.jdbc.Driver"</span>);</span><br><span class="line">        ds.setUrl(<span class="string">"jdbc:mysql://localhost:3306/spring_db"</span>);</span><br><span class="line">        ds.setUsername(<span class="string">"root"</span>);</span><br><span class="line">        ds.setPassword(<span class="string">"root"</span>);</span><br><span class="line">        <span class="keyword">return</span> ds;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="åœ¨Springé…ç½®ç±»ä¸­å¼•å…¥-import"><a href="#åœ¨Springé…ç½®ç±»ä¸­å¼•å…¥-import" class="headerlink" title="åœ¨Springé…ç½®ç±»ä¸­å¼•å…¥ @import"></a><strong>åœ¨Springé…ç½®ç±»ä¸­å¼•å…¥ <code>@import</code></strong></h2><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="comment">//@ComponentScan("com.itheima.config")</span></span><br><span class="line"><span class="comment">//@Importå‚æ•°éœ€è¦çš„æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå¯ä»¥å¼•å…¥å¤šä¸ªé…ç½®ç±»</span></span><br><span class="line"><span class="meta">@Import({JdbcConfig.class})</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringConfig</span> {</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="æ³¨è§£å¼€å‘å®ç°ä¸ºç¬¬ä¸‰æ–¹beanæ³¨å…¥èµ„æº"><a href="#æ³¨è§£å¼€å‘å®ç°ä¸ºç¬¬ä¸‰æ–¹beanæ³¨å…¥èµ„æº" class="headerlink" title="æ³¨è§£å¼€å‘å®ç°ä¸ºç¬¬ä¸‰æ–¹beanæ³¨å…¥èµ„æº"></a>æ³¨è§£å¼€å‘å®ç°ä¸ºç¬¬ä¸‰æ–¹beanæ³¨å…¥èµ„æº</h2><h2 id="ç®€å•æ•°æ®ç±»å‹"><a href="#ç®€å•æ•°æ®ç±»å‹" class="headerlink" title="ç®€å•æ•°æ®ç±»å‹"></a>ç®€å•æ•°æ®ç±»å‹</h2><p> â€”â€” ä½¿ç”¨<code>@Value</code>æ³¨è§£å¼•å…¥å€¼</p><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JdbcConfig</span> {</span><br><span class="line">    <span class="meta">@Value("com.mysql.jdbc.Driver")</span></span><br><span class="line">    <span class="keyword">private</span> String driver;</span><br><span class="line">    <span class="meta">@Value("jdbc:mysql://localhost:3306/spring_db")</span></span><br><span class="line">    <span class="keyword">private</span> String url;</span><br><span class="line">    <span class="meta">@Value("root")</span></span><br><span class="line">    <span class="keyword">private</span> String userName;</span><br><span class="line">    <span class="meta">@Value("password")</span></span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> DataSource <span class="title function_">dataSource</span><span class="params">()</span>{</span><br><span class="line">        <span class="type">DruidDataSource</span> <span class="variable">ds</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DruidDataSource</span>();</span><br><span class="line">        ds.setDriverClassName(driver);</span><br><span class="line">        ds.setUrl(url);</span><br><span class="line">        ds.setUsername(userName);</span><br><span class="line">        ds.setPassword(password);</span><br><span class="line">        <span class="keyword">return</span> ds;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="å¼•ç”¨æ•°æ®ç±»å‹"><a href="#å¼•ç”¨æ•°æ®ç±»å‹" class="headerlink" title="å¼•ç”¨æ•°æ®ç±»å‹"></a>å¼•ç”¨æ•°æ®ç±»å‹</h2><h3 id="åœ¨SpringConfigä¸­æ‰«æBookDao"><a href="#åœ¨SpringConfigä¸­æ‰«æBookDao" class="headerlink" title="åœ¨SpringConfigä¸­æ‰«æBookDao"></a>åœ¨SpringConfigä¸­æ‰«æBookDao</h3><p>â€”â€” <code>@ComponentScan("com.itheima.dao")</code></p><h3 id="åœ¨JdbcConfigç±»çš„æ–¹æ³•ä¸Šæ·»åŠ å‚æ•°"><a href="#åœ¨JdbcConfigç±»çš„æ–¹æ³•ä¸Šæ·»åŠ å‚æ•°" class="headerlink" title="åœ¨JdbcConfigç±»çš„æ–¹æ³•ä¸Šæ·»åŠ å‚æ•°"></a><strong>åœ¨JdbcConfigç±»çš„æ–¹æ³•ä¸Šæ·»åŠ å‚æ•°</strong></h3><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="keyword">public</span> DataSource <span class="title function_">dataSource</span><span class="params">(BookDao bookDao)</span>{</span><br><span class="line">    <span class="comment">//åœ¨è¿™é‡Œï¼</span></span><br><span class="line">    **System.out.println(bookDao);**</span><br><span class="line">    <span class="type">DruidDataSource</span> <span class="variable">ds</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DruidDataSource</span>();</span><br><span class="line">    ds.setDriverClassName(driver);</span><br><span class="line">    ds.setUrl(url);</span><br><span class="line">    ds.setUsername(userName);</span><br><span class="line">    ds.setPassword(password);</span><br><span class="line">    <span class="keyword">return</span> ds;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h1 id="æ³¨è§£å¼€å‘æ€»ç»“"><a href="#æ³¨è§£å¼€å‘æ€»ç»“" class="headerlink" title="æ³¨è§£å¼€å‘æ€»ç»“"></a>æ³¨è§£å¼€å‘æ€»ç»“</h1><p><img src="/img/%E6%B3%A8%E8%A7%A3%E5%BC%80%E5%8F%91%E6%80%BB%E7%BB%93.png" alt="Untitled"></p><h1 id="springæ•´åˆï¼-â€“æ•´åˆMybatis"><a href="#springæ•´åˆï¼-â€“æ•´åˆMybatis" class="headerlink" title="springæ•´åˆï¼  â€“æ•´åˆMybatis"></a>springæ•´åˆï¼  â€“æ•´åˆMybatis</h1><h2 id="ç¯å¢ƒå‡†å¤‡-1"><a href="#ç¯å¢ƒå‡†å¤‡-1" class="headerlink" title="ç¯å¢ƒå‡†å¤‡"></a>ç¯å¢ƒå‡†å¤‡</h2><h2 id="æ•°æ®åº“è¡¨"><a href="#æ•°æ®åº“è¡¨" class="headerlink" title="æ•°æ®åº“è¡¨"></a>æ•°æ®åº“è¡¨</h2><figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> database spring_db <span class="type">character</span> <span class="keyword">set</span> utf8;</span><br><span class="line">use spring_db;</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> tbl_account(</span><br><span class="line">    id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment,</span><br><span class="line">    name <span class="type">varchar</span>(<span class="number">35</span>),</span><br><span class="line">    money <span class="keyword">double</span></span><br><span class="line">);</span><br></pre></td></tr></tbody></table></figure><h2 id="åˆ›å»ºé¡¹ç›®å¯¼å…¥jaråŒ…"><a href="#åˆ›å»ºé¡¹ç›®å¯¼å…¥jaråŒ…" class="headerlink" title="åˆ›å»ºé¡¹ç›®å¯¼å…¥jaråŒ…**"></a>åˆ›å»ºé¡¹ç›®å¯¼å…¥jaråŒ…**</h2><figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.10.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>druid<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.1.16<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.1.47<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><h2 id="æ ¹æ®è¡¨åˆ›å»ºæ¨¡å‹ç±»"><a href="#æ ¹æ®è¡¨åˆ›å»ºæ¨¡å‹ç±»" class="headerlink" title="æ ¹æ®è¡¨åˆ›å»ºæ¨¡å‹ç±»"></a><strong>æ ¹æ®è¡¨åˆ›å»ºæ¨¡å‹ç±»</strong></h2><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Account</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span> {</span><br><span class="line">        <span class="keyword">private</span> Integer id;</span><br><span class="line">        <span class="keyword">private</span> String name;</span><br><span class="line">        <span class="keyword">private</span> Double money;</span><br><span class="line">        <span class="comment">//setter...getter...toString...æ–¹æ³•ç•¥    </span></span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure><h2 id="åˆ›å»ºDaoæ¥å£"><a href="#åˆ›å»ºDaoæ¥å£" class="headerlink" title="åˆ›å»ºDaoæ¥å£"></a><strong>åˆ›å»ºDaoæ¥å£</strong></h2><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">AccountDao</span> {</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Insert("insert into tbl_account(name,money)values(#{name},#{money})")</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">save</span><span class="params">(Account account)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Delete("delete from tbl_account where id = #{id} ")</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">delete</span><span class="params">(Integer id)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Update("update tbl_account set name = #{name} , money = #{money} where id = #{id} ")</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">update</span><span class="params">(Account account)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Select("select * from tbl_account")</span></span><br><span class="line">    List&lt;Account&gt; <span class="title function_">findAll</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Select("select * from tbl_account where id = #{id} ")</span></span><br><span class="line">    Account <span class="title function_">findById</span><span class="params">(Integer id)</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="åˆ›å»ºServiceæ¥å£å’Œå®ç°ç±»"><a href="#åˆ›å»ºServiceæ¥å£å’Œå®ç°ç±»" class="headerlink" title="åˆ›å»ºServiceæ¥å£å’Œå®ç°ç±»"></a><strong>åˆ›å»ºServiceæ¥å£å’Œå®ç°ç±»</strong></h2><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">AccountService</span> {</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">save</span><span class="params">(Account account)</span>;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">delete</span><span class="params">(Integer id)</span>;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">update</span><span class="params">(Account account)</span>;</span><br><span class="line">    List&lt;Account&gt; <span class="title function_">findAll</span><span class="params">()</span>;</span><br><span class="line">    Account <span class="title function_">findById</span><span class="params">(Integer id)</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AccountServiceImpl</span> <span class="keyword">implements</span> <span class="title class_">AccountService</span> {</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ³¨å…¥ä¾èµ–</span></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> AccountDao accountDao;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">(Account account)</span> {</span><br><span class="line">    accountDao.save(account);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">update</span><span class="params">(Account account)</span>{</span><br><span class="line">    accountDao.update(account);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">delete</span><span class="params">(Integer id)</span> {</span><br><span class="line">    accountDao.delete(id);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">public</span> Account <span class="title function_">findById</span><span class="params">(Integer id)</span> {</span><br><span class="line">    <span class="keyword">return</span> accountDao.findById(id);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">public</span> List&lt;Account&gt; <span class="title function_">findAll</span><span class="params">()</span> {</span><br><span class="line">    <span class="keyword">return</span> accountDao.findAll();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="æ·»åŠ jdbc-propertiesæ–‡ä»¶"><a href="#æ·»åŠ jdbc-propertiesæ–‡ä»¶" class="headerlink" title="æ·»åŠ jdbc.propertiesæ–‡ä»¶"></a><strong>æ·»åŠ jdbc.propertiesæ–‡ä»¶</strong></h2><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line">jdbc.driver=com.mysql.jdbc.Driver</span><br><span class="line">jdbc.url=jdbc:mysql:<span class="comment">//localhost:3306/spring_db?useSSL=false</span></span><br><span class="line">jdbc.username=root</span><br><span class="line">jdbc.password=root</span><br></pre></td></tr></tbody></table></figure><h2 id="æ·»åŠ Mybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶"><a href="#æ·»åŠ Mybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶" class="headerlink" title="æ·»åŠ Mybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶"></a><strong>æ·»åŠ Mybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶</strong></h2><figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">"1.0"</span> encoding=<span class="string">"UTF-8"</span>?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">configuration</span></span></span><br><span class="line"><span class="meta"><span class="keyword">PUBLIC</span> <span class="string">"-//mybatis.org//DTD Config 3.0//EN"</span></span></span><br><span class="line"><span class="meta"><span class="string">"http://mybatis.org/dtd/mybatis-3-config.dtd"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--è¯»å–å¤–éƒ¨propertiesé…ç½®æ–‡ä»¶--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">properties</span> <span class="attr">resource</span>=<span class="string">"jdbc.properties"</span>&gt;</span><span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--åˆ«åæ‰«æçš„åŒ…è·¯å¾„--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">typeAliases</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">package</span> <span class="attr">name</span>=<span class="string">"com.itheima.domain"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">typeAliases</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--æ•°æ®æº--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">environments</span> <span class="attr">default</span>=<span class="string">"mysql"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">environment</span> <span class="attr">id</span>=<span class="string">"mysql"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">transactionManager</span> <span class="attr">type</span>=<span class="string">"JDBC"</span>&gt;</span><span class="tag">&lt;/<span class="name">transactionManager</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dataSource</span> <span class="attr">type</span>=<span class="string">"POOLED"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"driver"</span> <span class="attr">value</span>=<span class="string">"${jdbc.driver}"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"url"</span> <span class="attr">value</span>=<span class="string">"${jdbc.url}"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"username"</span> <span class="attr">value</span>=<span class="string">"${jdbc.username}"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"password"</span> <span class="attr">value</span>=<span class="string">"${jdbc.password}"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dataSource</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">environment</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">environments</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--æ˜ å°„æ–‡ä»¶æ‰«æåŒ…è·¯å¾„--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mappers</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">package</span> <span class="attr">name</span>=<span class="string">"com.itheima.dao"</span>&gt;</span><span class="tag">&lt;/<span class="name">package</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mappers</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><h2 id="ç¼–å†™åº”ç”¨ç¨‹åº"><a href="#ç¼–å†™åº”ç”¨ç¨‹åº" class="headerlink" title="ç¼–å†™åº”ç”¨ç¨‹åº"></a><strong>ç¼–å†™åº”ç”¨ç¨‹åº</strong></h2><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">App</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException {</span><br><span class="line">        <span class="comment">// 1. åˆ›å»ºSqlSessionFactoryBuilderå¯¹è±¡</span></span><br><span class="line">        <span class="type">SqlSessionFactoryBuilder</span> <span class="variable">sqlSessionFactoryBuilder</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SqlSessionFactoryBuilder</span>();</span><br><span class="line">        <span class="comment">// 2. åŠ è½½SqlMapConfig.xmlé…ç½®æ–‡ä»¶</span></span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">inputStream</span> <span class="operator">=</span> Resources.getResourceAsStream(<span class="string">"SqlMapConfig.xml.bak"</span>);</span><br><span class="line">        <span class="comment">// 3. åˆ›å»ºSqlSessionFactoryå¯¹è±¡</span></span><br><span class="line">        <span class="type">SqlSessionFactory</span> <span class="variable">sqlSessionFactory</span> <span class="operator">=</span> sqlSessionFactoryBuilder.build(inputStream);</span><br><span class="line">        <span class="comment">// 4. è·å–SqlSession</span></span><br><span class="line">        <span class="type">SqlSession</span> <span class="variable">sqlSession</span> <span class="operator">=</span> sqlSessionFactory.openSession();</span><br><span class="line">        <span class="comment">// 5. æ‰§è¡ŒSqlSessionå¯¹è±¡æ‰§è¡ŒæŸ¥è¯¢ï¼Œè·å–ç»“æœUser</span></span><br><span class="line">        <span class="type">AccountDao</span> <span class="variable">accountDao</span> <span class="operator">=</span> sqlSession.getMapper(AccountDao.class);</span><br><span class="line"></span><br><span class="line">        <span class="type">Account</span> <span class="variable">ac</span> <span class="operator">=</span> accountDao.findById(<span class="number">1</span>);</span><br><span class="line">        System.out.println(ac);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 6. é‡Šæ”¾èµ„æº</span></span><br><span class="line">        sqlSession.close();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="è¿è¡Œç¨‹åº"><a href="#è¿è¡Œç¨‹åº" class="headerlink" title="è¿è¡Œç¨‹åº"></a><strong>è¿è¡Œç¨‹åº</strong></h2><h2 id="æ­£å¼æ•´åˆï¼"><a href="#æ­£å¼æ•´åˆï¼" class="headerlink" title="æ­£å¼æ•´åˆï¼"></a>æ­£å¼æ•´åˆï¼</h2><h2 id="é¡¹ç›®ä¸­å¯¼å…¥æ•´åˆéœ€è¦çš„jaråŒ…"><a href="#é¡¹ç›®ä¸­å¯¼å…¥æ•´åˆéœ€è¦çš„jaråŒ…" class="headerlink" title="é¡¹ç›®ä¸­å¯¼å…¥æ•´åˆéœ€è¦çš„jaråŒ…"></a>é¡¹ç›®ä¸­å¯¼å…¥æ•´åˆéœ€è¦çš„jaråŒ…</h2><figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--Springæ“ä½œæ•°æ®åº“éœ€è¦è¯¥jaråŒ…--&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-jdbc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.10.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--Springä¸Mybatisæ•´åˆçš„jaråŒ…</span></span><br><span class="line"><span class="comment">è¿™ä¸ªjaråŒ…mybatisåœ¨å‰é¢ï¼Œæ˜¯Mybatisæä¾›çš„--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>**mybatis-spring**<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>1.3.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><h2 id="åˆ›å»ºSpringçš„ä¸»é…ç½®ç±»"><a href="#åˆ›å»ºSpringçš„ä¸»é…ç½®ç±»" class="headerlink" title="åˆ›å»ºSpringçš„ä¸»é…ç½®ç±»"></a><strong>åˆ›å»ºSpringçš„ä¸»é…ç½®ç±»</strong></h2><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//é…ç½®ç±»æ³¨è§£</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="comment">//åŒ…æ‰«æï¼Œä¸»è¦æ‰«æçš„æ˜¯é¡¹ç›®ä¸­çš„AccountServiceImplç±»ã€æœ‰æ³¨è§£@Serviceã€‘</span></span><br><span class="line"><span class="meta">@ComponentScan("com.itheima")</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringConfig</span> {</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="åˆ›å»ºæ•°æ®æºçš„é…ç½®ç±»"><a href="#åˆ›å»ºæ•°æ®æºçš„é…ç½®ç±»" class="headerlink" title="åˆ›å»ºæ•°æ®æºçš„é…ç½®ç±»**"></a>åˆ›å»ºæ•°æ®æºçš„é…ç½®ç±»**</h2><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JdbcConfig</span> {</span><br><span class="line">    <span class="meta">@Value("${jdbc.driver}")</span></span><br><span class="line">    <span class="keyword">private</span> String driver;</span><br><span class="line">    <span class="meta">@Value("${jdbc.url}")</span></span><br><span class="line">    <span class="keyword">private</span> String url;</span><br><span class="line">    <span class="meta">@Value("${jdbc.username}")</span></span><br><span class="line">    <span class="keyword">private</span> String userName;</span><br><span class="line">    <span class="meta">@Value("${jdbc.password}")</span></span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> DataSource <span class="title function_">dataSource</span><span class="params">()</span>{</span><br><span class="line">        <span class="type">DruidDataSource</span> <span class="variable">ds</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DruidDataSource</span>();</span><br><span class="line">        ds.setDriverClassName(driver);</span><br><span class="line">        ds.setUrl(url);</span><br><span class="line">        ds.setUsername(userName);</span><br><span class="line">        ds.setPassword(password);</span><br><span class="line">        <span class="keyword">return</span> ds;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="åˆ›å»ºMybatisé…ç½®ç±»å¹¶é…ç½®SqlSessionFactory"><a href="#åˆ›å»ºMybatisé…ç½®ç±»å¹¶é…ç½®SqlSessionFactory" class="headerlink" title="åˆ›å»ºMybatisé…ç½®ç±»å¹¶é…ç½®SqlSessionFactory**"></a>åˆ›å»ºMybatisé…ç½®ç±»å¹¶é…ç½®SqlSessionFactory**</h2><p>â€” ä»£æ›¿Mybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶</p><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MybatisConfig</span> {</span><br><span class="line"><span class="comment">//å®šä¹‰beanï¼ŒSqlSessionFactoryBeanï¼Œç”¨äºäº§ç”ŸSqlSessionFactoryå¯¹è±¡</span></span><br><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="comment">//å¼•ç”¨æ³¨è§£ -- ç›´æ¥åœ¨å‡½æ•°å‚æ•°é‚£æ”¾ä¸€ä¸ª</span></span><br><span class="line"><span class="keyword">public</span> SqlSessionFactoryBean <span class="title function_">sqlSessionFactory</span><span class="params">(DataSource dataSource)</span>{</span><br><span class="line">    <span class="type">SqlSessionFactoryBean</span> <span class="variable">ssfb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SqlSessionFactoryBean</span>();</span><br><span class="line">    <span class="comment">//è®¾ç½®æ¨¡å‹ç±»çš„åˆ«åæ‰«æ</span></span><br><span class="line">    ssfb.setTypeAliasesPackage(<span class="string">"com.itheima.domain"</span>);</span><br><span class="line">    <span class="comment">//è®¾ç½®æ•°æ®æº</span></span><br><span class="line">    ssfb.setDataSource(dataSource);</span><br><span class="line">    <span class="keyword">return</span> ssfb;</span><br><span class="line">    }</span><br><span class="line">    <span class="comment">//å®šä¹‰beanï¼Œè¿”å›MapperScannerConfigurerå¯¹è±¡</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> MapperScannerConfigurer <span class="title function_">mapperScannerConfigurer</span><span class="params">()</span>{</span><br><span class="line">    <span class="type">MapperScannerConfigurer</span> <span class="variable">msc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MapperScannerConfigurer</span>();</span><br><span class="line">    msc.setBasePackage(<span class="string">"com.itheima.dao"</span>);</span><br><span class="line">    <span class="keyword">return</span> msc;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h2 id="ä¸»é…ç½®ç±»ä¸­è¯»propertieså¹¶å¼•å…¥æ•°æ®æºé…ç½®ç±»ã€Mybatisé…ç½®ç±»"><a href="#ä¸»é…ç½®ç±»ä¸­è¯»propertieså¹¶å¼•å…¥æ•°æ®æºé…ç½®ç±»ã€Mybatisé…ç½®ç±»" class="headerlink" title="ä¸»é…ç½®ç±»ä¸­è¯»propertieså¹¶å¼•å…¥æ•°æ®æºé…ç½®ç±»ã€Mybatisé…ç½®ç±»"></a><strong>ä¸»é…ç½®ç±»ä¸­è¯»propertieså¹¶å¼•å…¥æ•°æ®æºé…ç½®ç±»ã€Mybatisé…ç½®ç±»</strong></h2><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@ComponentScan("com.itheima")</span></span><br><span class="line">**<span class="meta">@PropertySource("classpath:jdbc.properties")</span></span><br><span class="line"><span class="meta">@Import({JdbcConfig.class,MybatisConfig.class})</span>**</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringConfig</span> {</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>æ¢ç´¢æ—¥è®°</title>
      <link href="/2023/06/07/%E6%85%A2%E6%85%A2%E5%A1%AB%E5%9D%91/"/>
      <url>/2023/06/07/%E6%85%A2%E6%85%A2%E5%A1%AB%E5%9D%91/</url>
      
        <content type="html"><![CDATA[<p>æ„Ÿè§‰è¿˜æœ‰å¥½å¤šå¯ä»¥æ…¢æ…¢æ¢ç´¢çš„åœ°æ–¹<br>æš‘å‡æ‰¾æ—¶é—´ç›´æ¥æŠŠå¹•å¸ƒä¸Šé¢çš„ç¬”è®°å…¨éƒ¨æ¢æˆmdæ–‡ä»¶æ”¾ä¸Šå»<br>çœ‹çœ‹å­—æ•°èƒ½ä¸èƒ½ç ´20k O(âˆ©_âˆ©)O ï¼ˆç ´äº†çš„é‚£å¤©è¦å»åƒéº¦å½“åŠ³åº†ç¥ä¸€ä¸‹<br>é‚£è¿™ç¯‡å°±ä¸“é—¨ç”¨æ¥æ’°å†™æˆ‘çš„æ¢ç´¢æ—¥è®°<br>æš‘å‡äº‰å–<br>ç¬¬ä¸€å‘¨ï¼šæŠŠSSMå’ŒJavaWebæ•´ç†å‡ºæ¥<br>ç¬¬äºŒå‘¨ï¼šç‘å‰+åˆ·LeetCode<br>ç¬¬ä¸‰å‘¨ï¼šRedis + SpringBoot<br>å†ä»¥åçš„æ—¶é—´ä»¥åå†è¯´( â€¢Ì€ Ï‰ â€¢Ì )y ï¼ˆå› ä¸ºç°åœ¨è¿˜æœ‰æœŸæœ«è€ƒè¯•è¿™ä¸ªbä¸œè¥¿o(â‰§å£â‰¦)o</p><ul><li><p>åšå®¢å†…å®¹</p><ul><li>java</li><li>mysql</li><li>python</li><li>å¾®åš</li><li>å›¾åº“</li><li>éŸ³ä¹</li><li>è§‚å½±æ„Ÿ</li><li>ç¢ç¢å¿µ</li><li>â€¦</li></ul></li><li><p>åšå®¢ç¾åŒ–</p><ul><li>3däººç‰© </li><li>è¯„è®º</li><li>éŸ³ä¹æ’­æ”¾å™¨</li><li>å¤´å›¾åŠ è½½åŠ¨æ€å›¾</li><li>åšå®¢æ—¶é—´çº¿</li><li>åˆ†ç±» / æ ‡ç­¾</li><li>â€¦</li></ul></li></ul>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Spring-Day01â€”  IOC&amp;DI</title>
      <link href="/2023/06/05/Spring-Day1/"/>
      <url>/2023/06/05/Spring-Day1/</url>
      
        <content type="html"><![CDATA[<h1 id="Spring-Day1-â€”-IOC-amp-DI"><a href="#Spring-Day1-â€”-IOC-amp-DI" class="headerlink" title="Spring-Day1   â€”  IOC&amp;DI"></a>Spring-Day1   â€”  IOC&amp;DI</h1><h2 id="å­¦ä»€ä¹ˆ"><a href="#å­¦ä»€ä¹ˆ" class="headerlink" title="å­¦ä»€ä¹ˆ"></a>å­¦ä»€ä¹ˆ</h2><p> ç®€åŒ–å¼€å‘: Springæ¡†æ¶ä¸­æä¾›äº†ä¸¤ä¸ªå¤§çš„æ ¸å¿ƒæŠ€æœ¯</p><h4 id="IOC"><a href="#IOC" class="headerlink" title="IOC"></a>IOC</h4><h4 id="AOP"><a href="#AOP" class="headerlink" title="AOP"></a>AOP</h4><h2 id="æ ¸å¿ƒæ¦‚å¿µ"><a href="#æ ¸å¿ƒæ¦‚å¿µ" class="headerlink" title="æ ¸å¿ƒæ¦‚å¿µ"></a>æ ¸å¿ƒæ¦‚å¿µ</h2><h3 id="IOC-amp-IOCå®¹å™¨-amp-Bean"><a href="#IOC-amp-IOCå®¹å™¨-amp-Bean" class="headerlink" title="IOC &amp; IOCå®¹å™¨ &amp; Bean"></a>IOC &amp; IOCå®¹å™¨ &amp; Bean</h3><ul><li>IOCï¼ˆInversion of Controlï¼‰æ§åˆ¶åè½¬</li><li>ä¸è‡ªå·±newå¯¹è±¡ï¼Œäº¤ç»™å®¹å™¨new â€“ è§£è€¦</li><li>IOCå®¹å™¨è´Ÿè´£å¯¹è±¡çš„åˆ›å»ºã€åˆå§‹åŒ–ç­‰ä¸€ç³»åˆ—å·¥ä½œï¼Œå…¶ä¸­åŒ…å«äº†æ•°æ®å±‚å’Œä¸šåŠ¡å±‚çš„ç±»å¯¹è±¡</li><li>è¢«åˆ›å»ºæˆ–è¢«ç®¡ç†çš„å¯¹è±¡åœ¨IOCå®¹å™¨ä¸­ç»Ÿç§°ä¸ºBean</li></ul><h3 id="DI"><a href="#DI" class="headerlink" title="DI"></a>DI</h3><ul><li>ï¼ˆDependency Injectionï¼‰ä¾èµ–æ³¨å…¥</li><li>å»ºç«‹å®¹å™¨ä¸­å¯¹è±¡ä¸å¯¹è±¡ä¹‹é—´çš„ç»‘å®šå…³ç³»</li><li>serviceè¿è¡Œéœ€è¦ä¾èµ–daoå¯¹è±¡</li></ul><h2 id="æ¡ˆä¾‹"><a href="#æ¡ˆä¾‹" class="headerlink" title="æ¡ˆä¾‹"></a>æ¡ˆä¾‹</h2><h3 id="è§£è€¦BookDao"><a href="#è§£è€¦BookDao" class="headerlink" title="è§£è€¦BookDao"></a>è§£è€¦<strong>BookDao</strong></h3><ol><li><p>pom.xmlæ·»åŠ ä¾èµ–</p></li><li><p>æ·»åŠ æ¡ˆä¾‹ä¸­éœ€è¦çš„ç±»</p></li><li><p>æ·»åŠ springé…ç½®æ–‡ä»¶applicationContext.xml   </p>  <figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">"1.0"</span> encoding=<span class="string">"UTF-8"</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd"</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--1.å¯¼å…¥springçš„åæ ‡spring-context--&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--2.é…ç½®bean--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--beanæ ‡ç­¾æ ‡ç¤ºé…ç½®bean</span></span><br><span class="line"><span class="comment">    idå±æ€§æ ‡ç¤ºç»™beanèµ·åå­—</span></span><br><span class="line"><span class="comment">    classå±æ€§è¡¨ç¤ºç»™beanå®šä¹‰ç±»å‹</span></span><br><span class="line"><span class="comment">        æ³¨æ„classä¸è¦å†™æˆæ¥å£ç±»è€Œæ˜¯å®ç°ç±»ï¼Œå› ä¸ºbeanè¦æ‰¾å¯¹è±¡</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"bookDao"</span> <span class="attr">class</span>=<span class="string">"com.itheima.dao.impl.BookDaoImpl"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"bookService"</span> <span class="attr">class</span>=<span class="string">"com.itheima.service.impl.BookServiceImpl"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure></li><li><p>è·å–IOCå®¹å™¨ã€ä»å®¹å™¨ä¸­è·å–å¯¹è±¡è¿›è¡Œæ–¹æ³•è°ƒç”¨</p><pre><code>   <figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">App</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="comment">//è·å–IOCå®¹å™¨</span></span><br><span class="line"><span class="type">ApplicationContext</span> <span class="variable">ctx</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">"applicationContext.xml"</span>); </span><br><span class="line"><span class="comment">//getBean() æ–¹æ³•è·å–çš„ Bean çš„æ ‡è¯†ç¬¦ï¼ˆid æˆ– name å±æ€§çš„å€¼ï¼‰ï¼Œè¿”å›çš„æ˜¯ä¸€ä¸ªé€šç”¨çš„ Object ç±»å‹ï¼Œæˆ‘ä»¬éœ€è¦å°†å…¶è½¬æ¢ä¸º BookService ç±»å‹</span></span><br><span class="line"><span class="comment">//        BookDao bookDao = (BookDao) ctx.getBean("bookDao");</span></span><br><span class="line"><span class="comment">//        bookDao.save();</span></span><br><span class="line">        <span class="type">BookService</span> <span class="variable">bookService</span> <span class="operator">=</span> (BookService) ctx.getBean(<span class="string">"bookService"</span>);</span><br><span class="line">        bookService.save();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure> </code></pre></li><li><p>è¿è¡Œç¨‹åºæµ‹è¯•</p></li></ol><h3 id="è§£è€¦BookService"><a href="#è§£è€¦BookService" class="headerlink" title="è§£è€¦BookService"></a>è§£è€¦<strong>BookService</strong></h3><ol><li><p>å»é™¤BookServiceImplä¸­çš„newï¼Œä¸ºå±æ€§æä¾›setteræ–¹æ³•</p>  <figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BookServiceImpl</span> <span class="keyword">implements</span> <span class="title class_">BookService</span> {</span><br><span class="line">    <span class="comment">//åˆ é™¤ä¸šåŠ¡å±‚ä¸­ä½¿ç”¨newçš„æ–¹å¼åˆ›å»ºçš„daoå¯¹è±¡</span></span><br><span class="line">    <span class="keyword">private</span> BookDao bookDao;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">()</span> {</span><br><span class="line">        System.out.println(<span class="string">"book service save ..."</span>);</span><br><span class="line">        bookDao.save();</span><br><span class="line">   </span><br><span class="line">    <span class="comment">//æä¾›å¯¹åº”çš„setæ–¹æ³•</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setBookDao</span><span class="params">(BookDao bookDao)</span> {</span><br><span class="line">        <span class="built_in">this</span>.bookDao = bookDao;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></li><li><p>ä¿®æ”¹é…ç½®å®Œæˆæ³¨å…¥</p>  <figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">"1.0"</span> encoding=<span class="string">"UTF-8"</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--beanæ ‡ç­¾æ ‡ç¤ºé…ç½®bean</span></span><br><span class="line"><span class="comment">    idå±æ€§æ ‡ç¤ºç»™beanèµ·åå­—</span></span><br><span class="line"><span class="comment">    classå±æ€§è¡¨ç¤ºç»™beanå®šä¹‰ç±»å‹--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"bookDao"</span> <span class="attr">class</span>=<span class="string">"com.itheima.dao.impl.BookDaoImpl"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"bookService"</span> <span class="attr">class</span>=<span class="string">"com.itheima.service.impl.BookServiceImpl"</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--é…ç½®serverä¸daoçš„å…³ç³»--&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--propertyæ ‡ç­¾è¡¨ç¤ºé…ç½®å½“å‰beançš„å±æ€§</span></span><br><span class="line"><span class="comment">        nameå±æ€§è¡¨ç¤ºé…ç½®å“ªä¸€ä¸ªå…·ä½“çš„å±æ€§/å¯¹è±¡åç§°</span></span><br><span class="line"><span class="comment">        refå±æ€§è¡¨ç¤ºå‚ç…§å“ªä¸€ä¸ªbean--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"bookDao"</span> <span class="attr">ref</span>=<span class="string">"bookDao"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure></li><li><p>è¿è¡Œç¨‹åº</p></li></ol><h2 id="å…³äºbean"><a href="#å…³äºbean" class="headerlink" title="å…³äºbean"></a>å…³äº<strong>bean</strong></h2><h3 id="beançš„åŸºç¡€é…ç½®"><a href="#beançš„åŸºç¡€é…ç½®" class="headerlink" title="beançš„åŸºç¡€é…ç½®"></a>beançš„åŸºç¡€é…ç½®</h3><h4 id="é…ç½®åˆ«å-name"><a href="#é…ç½®åˆ«å-name" class="headerlink" title="é…ç½®åˆ«å   name"></a>é…ç½®åˆ«å   <code>name</code></h4> <figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--name:ä¸ºbeanæŒ‡å®šåˆ«åï¼Œåˆ«åå¯ä»¥æœ‰å¤šä¸ªï¼Œä½¿ç”¨é€—å·ï¼Œåˆ†å·ï¼Œç©ºæ ¼è¿›è¡Œåˆ†éš”--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"bookService"</span> <span class="attr">name</span>=<span class="string">"service service4 bookEbi"</span> <span class="attr">class</span>=<span class="string">"com.itheima.service.impl.BookServiceImpl"</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"bookDao"</span> <span class="attr">ref</span>=<span class="string">"bookDao"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><h4 id="é…ç½®èŒƒå›´ï¼ˆæ˜¯å¦ä¸ºå•ä¾‹ï¼‰-scode"><a href="#é…ç½®èŒƒå›´ï¼ˆæ˜¯å¦ä¸ºå•ä¾‹ï¼‰-scode" class="headerlink" title="é…ç½®èŒƒå›´ï¼ˆæ˜¯å¦ä¸ºå•ä¾‹ï¼‰  scode"></a>é…ç½®èŒƒå›´ï¼ˆæ˜¯å¦ä¸ºå•ä¾‹ï¼‰  <code>scode</code></h4> <figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--scopeï¼šä¸ºbeanè®¾ç½®ä½œç”¨èŒƒå›´ï¼Œå¯é€‰å€¼ä¸ºå•ä¾‹singlotonï¼Œéå•ä¾‹prototype--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"bookDao"</span> <span class="attr">name</span>=<span class="string">"dao"</span> <span class="attr">class</span>=<span class="string">"com.itheima.dao.impl.BookDaoImpl"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><h3 id="beançš„å®ä¾‹åŒ–"><a href="#beançš„å®ä¾‹åŒ–" class="headerlink" title="beançš„å®ä¾‹åŒ–"></a>beançš„å®ä¾‹åŒ–</h3><h4 id="æ„é€ æ–¹æ³•å®ä¾‹åŒ–-â€”-æ— å‚æ„é€ æ–¹æ³•"><a href="#æ„é€ æ–¹æ³•å®ä¾‹åŒ–-â€”-æ— å‚æ„é€ æ–¹æ³•" class="headerlink" title="æ„é€ æ–¹æ³•å®ä¾‹åŒ–   â€”  æ— å‚æ„é€ æ–¹æ³•"></a>æ„é€ æ–¹æ³•å®ä¾‹åŒ–   â€”  æ— å‚æ„é€ æ–¹æ³•</h4><p>åœ¨BookDaoImplç±»ä¸­æ·»åŠ ä¸€ä¸ªæ— å‚æ„é€ å‡½æ•°ï¼Œå¹¶æ‰“å°ä¸€å¥è¯ï¼Œæ–¹ä¾¿è§‚å¯Ÿç»“æœ</p><h4 id="é™æ€å·¥å‚å®ä¾‹åŒ–-â€”-äº†è§£å³å¯"><a href="#é™æ€å·¥å‚å®ä¾‹åŒ–-â€”-äº†è§£å³å¯" class="headerlink" title="é™æ€å·¥å‚å®ä¾‹åŒ–   â€” äº†è§£å³å¯"></a>é™æ€å·¥å‚å®ä¾‹åŒ–   â€” äº†è§£å³å¯</h4><h4 id="å®ä¾‹å·¥å‚åŒ–-â€”-é¢é¢ä¸å¤ªæ‡‚"><a href="#å®ä¾‹å·¥å‚åŒ–-â€”-é¢é¢ä¸å¤ªæ‡‚" class="headerlink" title="å®ä¾‹å·¥å‚åŒ–   â€”  é¢é¢ä¸å¤ªæ‡‚"></a>å®ä¾‹å·¥å‚åŒ–   â€”  <strong>é¢é¢ä¸å¤ªæ‡‚</strong></h4><ol><li>å‡†å¤‡ä¸€ä¸ªDaoå’ŒDaoImplç±»</li><li>åˆ›å»ºä¸€ä¸ªå·¥å‚ç±»OrderDaoFactoryå¹¶æä¾›ä¸€ä¸ªæ™®é€šæ–¹æ³•  <figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"> <span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserDaoFactory</span> {</span><br><span class="line">   }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></li></ol><ul><li>åˆ›å»ºä¸€ä¸ªUserDaoFactoryBeançš„ç±»ï¼Œå®ç°FactoryBeanæ¥å£ï¼Œé‡å†™æ¥å£çš„æ–¹æ³•   <figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserDaoFactoryBean</span> <span class="keyword">implements</span> <span class="title class_">FactoryBean</span>&lt;UserDao&gt; {</span><br><span class="line"><span class="comment">//ä»£æ›¿åŸå§‹å®ä¾‹å·¥å‚ä¸­åˆ›å»ºå¯¹è±¡çš„æ–¹æ³•</span></span><br><span class="line"><span class="comment">//æ›¿ä»£UseDaoFactoryçš„getUserDaoæ–¹æ³•</span></span><br><span class="line"><span class="keyword">public</span> UserDao <span class="title function_">getObject</span><span class="params">()</span> <span class="keyword">throws</span> Exception {</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">UserDaoImpl</span>();</span><br><span class="line">}</span><br><span class="line"><span class="comment">//è¿”å›æ‰€åˆ›å»ºç±»çš„Classå¯¹è±¡</span></span><br><span class="line"><span class="keyword">public</span> Class&lt;?&gt; getObjectType() {</span><br><span class="line">        <span class="keyword">return</span> UserDao.class;</span><br><span class="line">        }</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure></li></ul><ol><li><p>é…ç½®æ–‡ä»¶æ·»åŠ </p><figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"userDao"</span> <span class="attr">class</span>=<span class="string">"com.itheima.factory.UserDaoFactoryBean"</span>/&gt;</span></span><br></pre></td></tr></tbody></table></figure></li><li><p>ç¼–å†™AppForInstanceUserè¿è¡Œç±»ï¼Œåœ¨ç±»ä¸­é€šè¿‡å·¥å‚è·å–å¯¹è±¡</p> <figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AppForInstanceUser</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="type">ApplicationContext</span> <span class="variable">ctx</span> <span class="operator">=</span> <span class="keyword">new</span> </span><br><span class="line">        <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">"applicationContext.xml"</span>);</span><br><span class="line">        <span class="type">UserDao</span> <span class="variable">userDao</span> <span class="operator">=</span> (UserDao) ctx.getBean(<span class="string">"userDao"</span>);</span><br><span class="line">        userDao.save();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></li></ol><h3 id="beançš„ç”Ÿå‘½å‘¨æœŸ"><a href="#beançš„ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="beançš„ç”Ÿå‘½å‘¨æœŸ"></a>beançš„ç”Ÿå‘½å‘¨æœŸ</h3><h4 id="beanå¯¹è±¡ä»åˆ›å»ºåˆ°é”€æ¯çš„æ•´ä½“è¿‡ç¨‹"><a href="#beanå¯¹è±¡ä»åˆ›å»ºåˆ°é”€æ¯çš„æ•´ä½“è¿‡ç¨‹" class="headerlink" title="beanå¯¹è±¡ä»åˆ›å»ºåˆ°é”€æ¯çš„æ•´ä½“è¿‡ç¨‹"></a>beanå¯¹è±¡ä»åˆ›å»ºåˆ°é”€æ¯çš„æ•´ä½“è¿‡ç¨‹</h4><ul><li><p>åˆå§‹åŒ–å®¹å™¨</p><ul><li>1.åˆ›å»ºå¯¹è±¡(å†…å­˜åˆ†é…)</li><li>2.æ‰§è¡Œæ„é€ æ–¹æ³•</li><li>3.æ‰§è¡Œå±æ€§æ³¨å…¥(setæ“ä½œ)</li><li>4.æ‰§è¡Œbeanåˆå§‹åŒ–æ–¹æ³•</li></ul></li><li><p>ä½¿ç”¨bean</p><ul><li>æ‰§è¡Œä¸šåŠ¡æ“ä½œ</li></ul></li><li><p>å…³é—­/é”€æ¯å®¹å™¨</p><ul><li>æ‰§è¡Œbeané”€æ¯æ–¹æ³•</li></ul></li><li><p>ä»£ç å®ç°</p><ul><li>1.initï¼†destory</li></ul><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//æ·»åŠ ä¸¤ä¸ªæ¥å£`InitializingBean`ï¼Œ `DisposableBean`å¹¶å®ç°æ¥å£ä¸­çš„ä¸¤ä¸ªæ–¹æ³•`afterPropertiesSet`å’Œ`destroy`</span></span><br><span class="line"><span class="comment">//è¿™æ ·å°±ä¸ç”¨åœ¨é…ç½®æ–‡ä»¶é‡Œé¢é…ç½®`init-method`å’Œ`destroy-method`</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BookServiceImpl</span> <span class="keyword">implements</span> <span class="title class_">BookService</span>, InitializingBean, DisposableBean {</span><br><span class="line">        <span class="keyword">private</span> BookDao bookDao;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setBookDao</span><span class="params">(BookDao bookDao)</span> {</span><br><span class="line">           <span class="built_in">this</span>.bookDao = bookDao;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">()</span> {</span><br><span class="line">            System.out.println(<span class="string">"book service save ..."</span>);</span><br><span class="line">           bookDao.save(); </span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">destroy</span><span class="params">()</span> <span class="keyword">throws</span> Exception {</span><br><span class="line">           System.out.println(<span class="string">"service destroy"</span>);</span><br><span class="line">         }</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">afterPropertiesSet</span><span class="params">()</span> <span class="keyword">throws</span> Exception {</span><br><span class="line">           System.out.println(<span class="string">"service init"</span>);</span><br><span class="line">         }</span><br><span class="line">     }</span><br></pre></td></tr></tbody></table></figure><ul><li>2.close  â€”æ‰§è¡Œdestroyæ–¹æ³•çš„å†…å®¹</li></ul>  <figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">//ApplicationContextä¸­æ²¡æœ‰closeæ–¹æ³•ï¼Œéœ€è¦å°†ApplicationContextæ›´æ¢æˆClassPathXmlApplicationContext</span></span><br><span class="line"><span class="type">ClassPathXmlApplicationContext</span> <span class="variable">ctx</span> <span class="operator">=</span> <span class="keyword">new</span> </span><br><span class="line"><span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">"applicationContext.xml"</span>);</span><br><span class="line"><span class="comment">//è¿è¡Œç¨‹åºï¼Œå°±èƒ½æ‰§è¡Œdestroyæ–¹æ³•çš„å†…å®¹</span></span><br><span class="line">ctx.close();</span><br></pre></td></tr></tbody></table></figure><ul><li><p>3.æ³¨å†Œé’©å­å…³é—­å®¹å™¨    â€”  æ‰§è¡Œdestroyæ–¹æ³•çš„å†…å®¹</p><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line">ctx.registerShutdownHook();</span><br></pre></td></tr></tbody></table></figure></li></ul></li></ul><h2 id="DI-1"><a href="#DI-1" class="headerlink" title="DI"></a>DI</h2><h3 id="ç›¸å…³å†…å®¹"><a href="#ç›¸å…³å†…å®¹" class="headerlink" title="ç›¸å…³å†…å®¹"></a>ç›¸å…³å†…å®¹</h3><h4 id="setteræ³¨å…¥"><a href="#setteræ³¨å…¥" class="headerlink" title="setteræ³¨å…¥"></a>setteræ³¨å…¥</h4><ul><li>ç®€å•ç±»å‹<figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">...</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">""</span> <span class="attr">value</span>=<span class="string">""</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure></li><li><strong>å¼•ç”¨ç±»å‹</strong><figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">...</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">""</span> <span class="attr">ref</span>=<span class="string">""</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure></li></ul><h4 id="æ„é€ å™¨æ³¨å…¥"><a href="#æ„é€ å™¨æ³¨å…¥" class="headerlink" title="æ„é€ å™¨æ³¨å…¥"></a>æ„é€ å™¨æ³¨å…¥</h4><ul><li>ç®€å•ç±»å‹<figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">...</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">""</span> <span class="attr">index</span>=<span class="string">""</span> <span class="attr">type</span>=<span class="string">""</span> <span class="attr">value</span>=<span class="string">""</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure></li><li>å¼•ç”¨ç±»å‹<figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">...</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">""</span> <span class="attr">index</span>=<span class="string">""</span> <span class="attr">type</span>=<span class="string">""</span> <span class="attr">ref</span>=<span class="string">""</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure></li></ul><h3 id="è‡ªåŠ¨é…ç½®"><a href="#è‡ªåŠ¨é…ç½®" class="headerlink" title="è‡ªåŠ¨é…ç½®"></a>è‡ªåŠ¨é…ç½®</h3><ul><li>ä¸ç”¨å†™é…ç½®æ–‡ä»¶äº†</li><li>ç±»å‹</li></ul><h4 id="æŒ‰ç±»å‹ï¼ˆå¸¸ç”¨ï¼‰"><a href="#æŒ‰ç±»å‹ï¼ˆå¸¸ç”¨ï¼‰" class="headerlink" title="æŒ‰ç±»å‹ï¼ˆå¸¸ç”¨ï¼‰"></a><strong>æŒ‰ç±»å‹ï¼ˆå¸¸ç”¨ï¼‰</strong></h4><figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">"com.itheima.dao.impl.BookDaoImpl"</span>/&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--autowireå±æ€§ï¼šå¼€å¯è‡ªåŠ¨è£…é…ï¼Œé€šå¸¸ä½¿ç”¨æŒ‰ç±»å‹è£…é…--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"bookService"</span> <span class="attr">class</span>=<span class="string">"com.itheima.service.impl.BookServiceImpl"</span> <span class="attr">autowire</span>=<span class="string">"byType"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><h4 id="æŒ‰åç§°-â€”-æœ‰å¤šä¸ªç›¸åŒç±»å‹çš„å¯¹è±¡"><a href="#æŒ‰åç§°-â€”-æœ‰å¤šä¸ªç›¸åŒç±»å‹çš„å¯¹è±¡" class="headerlink" title="æŒ‰åç§°   â€”   æœ‰å¤šä¸ªç›¸åŒç±»å‹çš„å¯¹è±¡"></a>æŒ‰åç§°   â€”   æœ‰å¤šä¸ªç›¸åŒç±»å‹çš„å¯¹è±¡</h4><figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">"com.itheima.dao.impl.BookDaoImpl"</span>/&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--autowireå±æ€§ï¼šå¼€å¯è‡ªåŠ¨è£…é…ï¼Œé€šå¸¸ä½¿ç”¨æŒ‰ç±»å‹è£…é…--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"bookService"</span> <span class="attr">class</span>=<span class="string">"com.itheima.service.impl.BookServiceImpl"</span> <span class="attr">autowire</span>=<span class="string">"byName"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><h4 id="æŒ‰æ„é€ æ–¹æ³•"><a href="#æŒ‰æ„é€ æ–¹æ³•" class="headerlink" title="æŒ‰æ„é€ æ–¹æ³•"></a>æŒ‰æ„é€ æ–¹æ³•</h4><h3 id="é›†åˆæ³¨å…¥"><a href="#é›†åˆæ³¨å…¥" class="headerlink" title="é›†åˆæ³¨å…¥"></a>é›†åˆæ³¨å…¥</h3><h4 id="æ•°ç»„ç±»å‹æ•°æ®"><a href="#æ•°ç»„ç±»å‹æ•°æ®" class="headerlink" title="æ•°ç»„ç±»å‹æ•°æ®"></a>æ•°ç»„ç±»å‹æ•°æ®</h4><figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"array"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">array</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>100<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>200<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>300<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">array</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><h4 id="æ³¨å…¥Listç±»å‹æ•°æ®"><a href="#æ³¨å…¥Listç±»å‹æ•°æ®" class="headerlink" title="æ³¨å…¥Listç±»å‹æ•°æ®"></a>æ³¨å…¥Listç±»å‹æ•°æ®</h4><figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"list"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">list</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>itcast<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>itheima<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>boxuegu<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>chuanzhihui<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">list</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><h4 id="æ³¨å…¥Setç±»å‹æ•°æ®"><a href="#æ³¨å…¥Setç±»å‹æ•°æ®" class="headerlink" title="æ³¨å…¥Setç±»å‹æ•°æ®"></a>æ³¨å…¥Setç±»å‹æ•°æ®</h4><figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"set"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">set</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>itcast<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>itheima<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>boxuegu<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>boxuegu<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">set</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><h4 id="æ³¨å…¥Mapç±»å‹æ•°æ®"><a href="#æ³¨å…¥Mapç±»å‹æ•°æ®" class="headerlink" title="æ³¨å…¥Mapç±»å‹æ•°æ®"></a>æ³¨å…¥Mapç±»å‹æ•°æ®</h4><figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"map"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">map</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">entry</span> <span class="attr">key</span>=<span class="string">"country"</span> <span class="attr">value</span>=<span class="string">"china"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">entry</span> <span class="attr">key</span>=<span class="string">"province"</span> <span class="attr">value</span>=<span class="string">"henan"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">entry</span> <span class="attr">key</span>=<span class="string">"city"</span> <span class="attr">value</span>=<span class="string">"kaifeng"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">map</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><h4 id="æ³¨å…¥Propertiesç±»å‹æ•°æ®"><a href="#æ³¨å…¥Propertiesç±»å‹æ•°æ®" class="headerlink" title="æ³¨å…¥Propertiesç±»å‹æ•°æ®"></a>æ³¨å…¥Propertiesç±»å‹æ•°æ®</h4><figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"properties"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">props</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">prop</span> <span class="attr">key</span>=<span class="string">"country"</span>&gt;</span>china<span class="tag">&lt;/<span class="name">prop</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">prop</span> <span class="attr">key</span>=<span class="string">"province"</span>&gt;</span>henan<span class="tag">&lt;/<span class="name">prop</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">prop</span> <span class="attr">key</span>=<span class="string">"city"</span>&gt;</span>kaifeng<span class="tag">&lt;/<span class="name">prop</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">props</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/2023/06/04/hello-world/"/>
      <url>/2023/06/04/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></tbody></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></tbody></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></tbody></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></tbody></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
